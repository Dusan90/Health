(this.webpackJsonphealth_care_frontend=this.webpackJsonphealth_care_frontend||[]).push([[0],Array(26).concat([function(e,t,a){e.exports=a.p+"static/media/c+.05f01871.svg"},,,,,,,,,,,,,function(e,t,a){e.exports=a.p+"static/media/password-seen.e75cc9c1.svg"},function(e,t,a){e.exports=a.p+"static/media/password-hidden.cdfbae48.svg"},,,,,,,,,,,,,,,,function(e,t,a){e.exports=a.p+"static/media/chek.10fe78df.svg"},function(e,t,a){e.exports=a.p+"static/media/icon_Waiting_Room_blue.b6c3c38d.svg"},function(e,t,a){e.exports=a.p+"static/media/icon_Log_Out_blue.9f680864.svg"},,,,,,function(e,t,a){e.exports=a.p+"static/media/minus.c179039e.svg"},,,,,function(e,t,a){e.exports=a.p+"static/media/client_picture.2212c30d.svg"},,,,,,,,,,,,,,,,,,,,function(e,t,a){},,,,function(e,t,a){e.exports=a.p+"static/media/enter-waiting-room.1845ce47.svg"},function(e,t,a){e.exports=a.p+"static/media/Make-a-video.e536e4eb.svg"},function(e,t,a){e.exports=a.p+"static/media/Request-email.ac3e47e0.svg"},function(e,t,a){e.exports=a.p+"static/media/arrow_down_gray.30807b7b.svg"},function(e,t,a){e.exports=a.p+"static/media/arrow_up_gray.cc4ad143.svg"},function(e,t,a){e.exports=a.p+"static/media/add-picture.10d6af29.svg"},,,,,,,,function(e,t,a){e.exports=a.p+"static/media/doctor_picture.44de538b.svg"},,,,,,,,,,,,,,,,,function(e,t,a){e.exports=a.p+"static/media/logo.9648ff19.svg"},,,,function(e,t,a){e.exports=a.p+"static/media/icon_menu_my-consultations.34861589.svg"},function(e,t,a){e.exports=a.p+"static/media/icon_menu_alerts.a1525964.svg"},function(e,t,a){e.exports=a.p+"static/media/icon_menu_my-profile_doctor.fb8cc309.svg"},function(e,t,a){e.exports=a.p+"static/media/icon_menu_settings.40f1f973.svg"},function(e,t,a){e.exports=a.p+"static/media/icon_menu_log-out.59ceae3d.svg"},,,,,function(e,t,a){},,,,,,,,,,,,,,,function(e,t,a){},,,,,function(e,t,a){},,,,function(e,t,a){e.exports=a.p+"static/media/C-doctor_photo_1920px.944bbe00.jpg"},function(e,t,a){e.exports=a.p+"static/media/icon_sign-up.ca1380bc.svg"},function(e,t,a){e.exports=a.p+"static/media/icon_Request-consultation.8bcb4904.svg"},function(e,t,a){e.exports=a.p+"static/media/icon_Payment.4e5de8b9.svg"},function(e,t,a){e.exports=a.p+"static/media/icon_Dashboard.b19e6b78.svg"},function(e,t,a){e.exports=a.p+"static/media/icon_Consult-with-doctor.be92d39b.svg"},,,,function(e,t,a){e.exports=a.p+"static/media/plus.cdd4c595.svg"},,,,,function(e,t,a){e.exports=a.p+"static/media/icon_my_profile_doctor_on-line_46px.346b9d48.svg"},function(e,t,a){e.exports=a.p+"static/media/icon_my_profile_client_on-line_46px.dcdd39b7.svg"},function(e,t,a){e.exports=a.p+"static/media/icon_my_profile_doctor_off-line_46px.620d1e0c.svg"},function(e,t,a){e.exports=a.p+"static/media/icon_menu_my-patients.ec48fda9.svg"},function(e,t,a){e.exports=a.p+"static/media/icon_menu_calendar.49bc5661.svg"},function(e,t,a){e.exports=a.p+"static/media/icon_client_menu_doctor.aececd87.svg"},function(e,t,a){e.exports=a.p+"static/media/mute.e8be9103.svg"},function(e,t,a){e.exports=a.p+"static/media/unmute.364b7c52.svg"},function(e,t,a){e.exports=a.p+"static/media/hang-up.a0003217.svg"},function(e,t,a){e.exports=a.p+"static/media/camera-off.ab3c5a19.svg"},function(e,t,a){e.exports=a.p+"static/media/camera-on.5465c494.svg"},function(e,t,a){e.exports=a.p+"static/media/massage.f833f870.svg"},,,,,,function(e,t,a){e.exports=a(338)},,,,,,,,,,,,,,,,,,,,function(e,t,a){},,function(e,t,a){},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){},function(e,t,a){},,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},,,function(e,t,a){},,function(e,t,a){},function(e,t,a){},function(e,t,a){},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){e.exports=a.p+"static/media/icon_settings_blue.0faddf97.svg"},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t){function a(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}a.keys=function(){return[]},a.resolve=a,e.exports=a,a.id=337},function(e,t,a){"use strict";a.r(t);var n=a(2),l=a.n(n),s=a(32),c=a.n(s),r=(a(89),a(8)),o=a.n(r),i=a(15),d=a(16),m=a(18),u=a(17),p=a(19),h=a(24),g=a(28),f=a(25),y=a(187),E=a(22),v=a.n(E),b=function(e){function t(){return Object(i.a)(this,t),Object(m.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(d.a)(t,[{key:"getChildContext",value:function(){return{sagaMiddleware:this.props.sagaMiddleware}}},{key:"render",value:function(){return this.props.children||null}}]),t}(l.a.Component);b.childContextTypes={sagaMiddleware:v.a.any.isRequired};var x=b,N=(a(136),a(66)),S=a(158);function C(e){return{type:"USERS_LOGIN_REQUEST",user:e}}a(206);var k=a(159),D=a(31),w=Object(D.fromJS)({isLoggedIn:!1}),O=D.default.fromJS({doctor:""}),P=D.default.fromJS({subject:""}),_=D.default.fromJS({spec:""}),A=D.default.fromJS({examID:null}),T=D.default.fromJS({clientID:[]}),I=Object(D.fromJS)({doctor:""}),F=Object(D.fromJS)({popUp:!1}),j=Object(D.fromJS)({statusChanged:""}),M=Object(D.fromJS)({history:""}),V=Object(D.fromJS)({connection:!1}),B=Object(k.combineReducers)({authReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USERS_LOGIN_REQUEST":return e.set("user",t.user);case"USERS_LOGIN_SUCCESS":return e.set("isLoggedIn",!0);case"USERS_LOGIN_FAILURE":return e.set("isLoggedIn",!1);default:return e}},doctorReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"DOCTOR_OBJ":return e.set("doctor",t.doctor);default:return e}},subjectReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SUBJECT":return e.set("subject",t.subject);default:return e}},specReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SPEC_OBJ":return e.set("spec",t.spec);default:return e}},examReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"EXAM_ID":return e.set("examID",t.exam);default:return e}},clientReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CLIENT":return e.set("clientID",t.client);default:return e}},docReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CURENTDOC":return e.set("doctor",t.payload);default:return e}},popUpReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"POPUP":return e.set("popUp",!0);case"POPUPFALSE":return e.set("popUp",!1);default:return e}},doctorStatusWRReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"STATUSCHANGEWR":return e.set("statusChanged",t.payload);default:return e}},trackHistoryReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"HISTORY":return e.set("history",t.payload);default:return e}},connectToWebSocketReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"WEBSOCKETCONNECTION":return e.set("connection",t.payload);default:return e}}}),R=a(26),H=a.n(R),z=a(160),L=a.n(z),U=a(161),W=a.n(U),Y=a(162),q=a.n(Y),J=a(163),G=a.n(J),Q=a(164),X=a.n(Q),K=a(165),$=a.n(K),Z=function(e){e.props;return l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"headers"},l.a.createElement("img",{src:L.a,alt:"slika"}),l.a.createElement("div",{className:"headersInfo"},l.a.createElement("img",{src:H.a,alt:"logo"}),l.a.createElement("h1",null,"Online consultation service"),l.a.createElement("h4",null,"Secure. Simple. Comfortable.")),l.a.createElement("div",{className:"MainDivInfo"},l.a.createElement("div",{className:"firstDivInfo"},l.a.createElement("p",{className:"iconAbove1"},"1"),l.a.createElement("h1",{className:"signUp"},"SIGN UP"),l.a.createElement("p",null,"Create account",l.a.createElement("br",null),"whether you are",l.a.createElement("br",null),"Doctor or a Client"),l.a.createElement("img",{src:W.a,alt:"logo"})),l.a.createElement("div",{className:"secondDivInfo"},l.a.createElement("p",{className:"iconAbove2"},"2"),l.a.createElement("h1",{className:"requestConsu"},"REQUEST",l.a.createElement("br",null),"CONSULTATION"),l.a.createElement("p",null,"Choose available",l.a.createElement("br",null),"physician. Request",l.a.createElement("br",null),"email consultation,",l.a.createElement("br",null),"make video",l.a.createElement("br",null),"appointment or use",l.a.createElement("br",null),"virtual waiting room"),l.a.createElement("img",{src:q.a,alt:"logo"})),l.a.createElement("div",{className:"thirdDivInfo"},l.a.createElement("p",{className:"iconAbove3"},"3"),l.a.createElement("h1",{className:"conswithD"},"CONSULT WITH",l.a.createElement("br",null),"DOCTOR"),l.a.createElement("p",null,"Once doctor accepts",l.a.createElement("br",null),"client request, use",l.a.createElement("br",null),"email or video for your",l.a.createElement("br",null),"consultation"),l.a.createElement("img",{src:$.a,alt:"logo"})),l.a.createElement("div",{className:"fourthDivInfo"},l.a.createElement("p",{className:"iconAbove4"},"4"),l.a.createElement("h1",{className:"securePay"},"SECURE",l.a.createElement("br",null),"PAYMENT"),l.a.createElement("p",null,"Make secure payment",l.a.createElement("br",null),"with your credit card",l.a.createElement("br",null),"or Pay-pal"),l.a.createElement("img",{src:G.a,className:"payment",alt:"logo"})),l.a.createElement("div",{className:"fifthDivInfo"},l.a.createElement("p",{className:"iconAbove5"},"5"),l.a.createElement("h1",{className:"clientDash"},"CLIENT",l.a.createElement("br",null),"DASHBOARD"),l.a.createElement("p",null,"All client information is",l.a.createElement("br",null),"in one place. You can",l.a.createElement("br",null),"access your profile,",l.a.createElement("br",null),"check consultation",l.a.createElement("br",null),"history and see alerts",l.a.createElement("br",null),"for ongoing",l.a.createElement("br",null),"consultations."),l.a.createElement("img",{src:X.a,alt:"logo"})))))},ee=a(62),te=(a(211),a(123)),ae=a.n(te),ne=function(){return{type:"POPUP"}},le=function(){return{type:"POPUPFALSE"}},se=a(70),ce="false"===sessionStorage.getItem("is_doctor")?function(e){var t=Object(n.useState)(60),a=Object(ee.a)(t,2),s=a[0],c=a[1],r=Object(se.g)(),o=Object(se.h)();Object(n.useEffect)((function(){"/client/waiting-room"===o.pathname&&e.popUpFalse()}),[]),Object(n.useEffect)((function(){e.popUp&&i()}),[e.popUp]);var i=function(){var e=setInterval((function(){0===s?(clearInterval(e),r.push({pathname:"/client/waiting-room",state:{detail:"exitQueue"}})):c(s--)}),1e3)};return l.a.createElement(n.Fragment,null,l.a.createElement("img",{src:ae.a,alt:"logo"}),e.popUp&&l.a.createElement(n.Fragment,null,l.a.createElement("div",{className:"duca1"}),l.a.createElement("div",{className:"duca"},l.a.createElement("h4",null,"0:",s<10&&"0",s),l.a.createElement("h1",null,"Your video consultation is ready"),l.a.createElement("div",{className:"buttons"},l.a.createElement("button",{onClick:function(){"/client/waiting-room"!==o.pathname?(r.push("/client/waiting-room"),e.popUpFalse(),window.location.reload()):window.location.reload()}},"Connect"),l.a.createElement("button",{style:{background:"darkgray"},onClick:function(){r.push({pathname:"/client/waiting-room",state:{detail:"exitQueue"}})}},"Reject")))))}:function(){return l.a.createElement(n.Fragment,null,l.a.createElement("img",{src:ae.a,alt:"logo"}))},re=Object(f.b)((function(e){return{popUp:e.getIn(["popUpReducer","popUp"])}}),(function(e){return Object(g.bindActionCreators)({popUpFalse:le},e)}))(ce),oe=(a(213),a(14)),ie=a(13),de=a.n(ie),me=Object(f.b)((function(e){return{user:e.getIn(["authReducer","user"]),isLoggedIn:e.getIn(["authReducer","isLoggedIn"]),doctor:e.getIn(["docReducer","doctor"])}}))((function(e){var t=e.register,a=e.login,s=(e.handleLogout,e.isLoggedIn),c=(e.handleDashboardDoctor,e.handleDashboardClient,e.doctor,e.selectValue,Object(n.useState)({})),r=Object(ee.a)(c,2),i=r[0],d=r[1],m=Object(n.useState)({}),u=Object(ee.a)(m,2),p=(u[0],u[1]),g=Object(n.useState)({}),f=Object(ee.a)(g,2),y=(f[0],f[1]),E=function(e,t){var a,n,l,s;return o.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return sessionStorage.removeItem("firstTime"),a="Bearer ".concat(sessionStorage.getItem("accessToken")),(n=new FormData).append("user.first_name",""),n.append("user.last_name",""),n.append("user.phone",""),n.append("biography",""),n.append("email_exam_price",""),n.append("web_exam_price",""),n.append("web_exam_follow_price",""),n.append("image",""),n.append("organization",""),n.append("start_hour",""),n.append("end_hour",""),n.append("email_currency",""),n.append("web_currency",""),n.append("web_follow_up_currency",""),n.append("speciality",e.speciality),n.append("status",t),n.append("waiting_room_price",""),n.append("waiting_room_currency",""),n.append("web_exam_status",""),n.append("email_exam_status",""),n.append("waiting_room_status",""),n.append("web_exam_follow_status",""),"https://healthcarebackend.xyz/api/doctor/profile/",l=de.a.put("https://healthcarebackend.xyz/api/doctor/profile/",n,{headers:{"content-type":"multipart/form-data",Authorization:a}}),c.next=29,o.a.awrap(l);case 29:s=c.sent,console.log(s,"profile changed"),s.data.success&&v();case 32:case"end":return c.stop()}}))};Object(n.useEffect)((function(){"true"===sessionStorage.getItem("is_doctor")?v():"false"===sessionStorage.getItem("is_doctor")&&b()}),[]);var v=function(){var e;return o.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:e="Bearer ".concat(sessionStorage.getItem("accessToken")),de.a.get("https://healthcarebackend.xyz/api/doctor/profile/",{headers:{Authorization:e}}).then((function(e){return"true"===sessionStorage.getItem("firstTime")&&"true"===sessionStorage.getItem("is_doctor")&&E(e.data.data,"Available"),d(e.data.data),p(e.data.data.user.first_name),y(e.data.data.user.last_name)}));case 2:case"end":return t.stop()}}))},b=function(){var e;return o.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:e="Bearer ".concat(sessionStorage.getItem("accessToken")),de.a.get("https://healthcarebackend.xyz/api/client/profile/",{headers:{Authorization:e}}).then((function(e){return d(e.data.data),p(e.data.data.user.first_name),y(e.data.data.user.last_name)}));case 2:case"end":return t.stop()}}))},x=null;return"true"===sessionStorage.getItem("is_doctor")&&(x=l.a.createElement("select",{style:{background:"Away"===i.status?"#9a9a9a":"Offline"===i.status?"red":"#3cb54a"},name:"status",id:"status",onChange:function(e){var t,a,n,l;return o.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return t=e.target.value,a="Bearer ".concat(sessionStorage.getItem("accessToken")),e.preventDefault(),(n=new FormData).append("user.first_name",""),n.append("user.last_name",""),n.append("user.phone",""),n.append("biography",""),n.append("email_exam_price",""),n.append("web_exam_price",""),n.append("web_exam_follow_price",""),n.append("image",""),n.append("organization",""),n.append("start_hour",""),n.append("end_hour",""),n.append("email_currency",""),n.append("web_currency",""),n.append("web_follow_up_currency",""),n.append("speciality",i.speciality),n.append("status",t),n.append("waiting_room_price",""),n.append("waiting_room_currency",""),n.append("web_exam_status",""),n.append("email_exam_status",""),n.append("waiting_room_status",""),n.append("web_exam_follow_status",""),"https://healthcarebackend.xyz/api/doctor/profile/",l=de.a.put("https://healthcarebackend.xyz/api/doctor/profile/",n,{headers:{"content-type":"multipart/form-data",Authorization:a}}),s.next=30,o.a.awrap(l);case 30:s.sent.data.success&&(oe.NotificationManager.success("Profile Updated!","Successful!",2e3),v(),sessionStorage.setItem("statusChanged",t));case 32:case"end":return s.stop()}}))}},l.a.createElement("option",{value:""},i.status),l.a.createElement("option",{value:"Available",style:{background:"white",color:"#666666"},hidden:"Available"===i.status&&!0},"Available"),l.a.createElement("option",{style:{background:"white",color:"#666666"},defaultValue:"Away",hidden:"Away"===i.status&&!0},"Away"),l.a.createElement("option",{style:{background:"white",color:"#666666"},value:"Offline",hidden:"Offline"===i.status&&!0},"Offline"))),l.a.createElement("nav",{className:"nav"},!s&&l.a.createElement("ul",{className:"nav navbar-nav "},l.a.createElement("li",{className:"li-reg"},l.a.createElement(h.b,{to:"/register",onClick:t,className:"register"},"Sign Up")),l.a.createElement("li",{className:"li-log"},l.a.createElement(h.b,{to:"/login",onClick:a,className:"login"},"Log in"))),s&&l.a.createElement("ul",{className:"nav navbar-nav"},l.a.createElement("li",{className:"selectStatus"},x)))})),ue=(a(245),a(47)),pe=a(166),he=a(92),ge=function(){return l.a.createElement("footer",{className:"page-footer"},l.a.createElement("div",{className:"mainFooter"},l.a.createElement("ul",{className:"contact"},l.a.createElement("h3",null,"Contact"),l.a.createElement("li",null,l.a.createElement(pe.a,{className:"mail"}),"Email: info@masspoint.rs"),l.a.createElement("li",null,l.a.createElement(he.b,{className:"phone"})," +381 60 000 4602"),l.a.createElement("li",null,l.a.createElement(he.a,{className:"mapPin"}),"Kralja Milana 4,",l.a.createElement("br",null)," ",l.a.createElement("span",{style:{marginLeft:"20px"}},"11000 Belgrade, Serbia"))),l.a.createElement("ul",{className:"company"},l.a.createElement("h3",null,"Company"),l.a.createElement("li",null,l.a.createElement(h.b,{className:"aboutClass",to:"/"},l.a.createElement("span",null,"About Us"))),l.a.createElement("li",null,l.a.createElement(h.b,{className:"blockClass",to:"/"},l.a.createElement("span",null,"Privacy policy"))),l.a.createElement("li",null,l.a.createElement(h.b,{className:"careersClass",to:"/"},l.a.createElement("span",null,"Terms and conditions"))),l.a.createElement("li",null,l.a.createElement(h.b,{className:"faqClass",to:"/"},l.a.createElement("span",null,"FAQs")))),l.a.createElement("ul",{className:"social"},l.a.createElement("h3",null,"Social"),l.a.createElement("div",{className:"socialMedia"},l.a.createElement("div",null,l.a.createElement("a",{href:"/#"},l.a.createElement(ue.c,{className:"insta"}))),l.a.createElement("div",null,l.a.createElement("a",{href:"/#"},l.a.createElement(ue.d,{className:"linkedin"}))),l.a.createElement("div",null,l.a.createElement("a",{href:"/#"},l.a.createElement(ue.b,{className:"facebook"}))),l.a.createElement("div",null,l.a.createElement("a",{href:"/#"},l.a.createElement(ue.f,{className:"twitter"})))),l.a.createElement("p",null,"\xa9 Copyright 2020 Health Care"))))},fe=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).handleDashboardDoctor=function(){a.props.history.push("/dashboard-doctor")},a.handleDashboardClient=function(){a.props.history.push("/dashboard-client")},a.handleClients=function(){a.props.history.push("/doctors-clients")},a.state={},a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"header"},l.a.createElement("div",null,l.a.createElement(re,null),l.a.createElement(me,null))),l.a.createElement(Z,{handleClients:this.handleClients,props:this.state}),l.a.createElement(ge,null))}}]),t}(n.Component),ye=(a(246),a(60)),Ee=a(56),ve=a.n(Ee),be=a(57),xe=a.n(be),Ne=a(58),Se=a.n(Ne),Ce=a(93),ke=a.n(Ce),De=a(94),we=a.n(De),Oe=a(95),Pe=a.n(Oe),_e=a(96),Ae=a.n(_e),Te=a(97),Ie=a.n(Te),Fe=a(21),je=a.n(Fe),Me=a(59),Ve=a.n(Me),Be=function(e){var t=e.initiate,a=e.hnlAlertClient,n=e.VideoReq,s=e.handleClick,c=e.handleUpcoming,r=e.handlePast,o=e.handleAll,i=(e.handleClickLeft,e.handleClickRight,e.handleHam,e.hnlMyConsultations,e.props),d=e.handleDoctorSearch,m=e.searchByType,u=e.searchByName,p=e.ResetonSelectChange,h=e.handlePageChange;e.handlePayButton;return l.a.createElement("div",{className:"mainClientDashboard"},l.a.createElement("div",{className:"main"},l.a.createElement("div",{className:"dashboardIcon"},l.a.createElement("h4",null,"Dashboard"))," ",l.a.createElement("div",{className:"videoApp",onClick:function(){return n()}},l.a.createElement("span",{className:"video"},l.a.createElement("img",{src:we.a,className:"icon",alt:"make a video"})),l.a.createElement("div",null,l.a.createElement("h2",null,"Make a"),l.a.createElement("h2",{className:"secondH2"}," VIDEO APPOINTMENT"))),l.a.createElement("div",{className:"emailReq",onClick:function(){return t()}},l.a.createElement("span",{className:"email"},l.a.createElement("img",{src:Pe.a,alt:"request email",className:"icon"})),l.a.createElement("div",null,l.a.createElement("h2",null,"Request"),l.a.createElement("h2",{className:"secondH2"}," EMAIL CONSULTATION"))),l.a.createElement("div",{className:"waitRoom",onClick:function(){return a()}},l.a.createElement("span",{className:"clock"},l.a.createElement("img",{src:ke.a,className:"icon",alt:"enter Waiting room"})),l.a.createElement("div",null,l.a.createElement("h2",null,"See"),l.a.createElement("h2",{className:"secondH2"}," ALERTS")))),i.state.loading?l.a.createElement("img",{src:H.a,className:"loading",alt:"loading...",style:{width:"150px"}}):l.a.createElement("div",{className:"mainTabel"},l.a.createElement("div",{className:"mainConsultation"},l.a.createElement("div",{className:"icon_left"},l.a.createElement("p",null,"My Consultations")),l.a.createElement("div",{className:"sort"},l.a.createElement("p",{className:"upcoming",style:{fontWeight:"upcoming"===i.state.currentFilterClicked?"bold":"300"},onClick:c},"Upcoming"),l.a.createElement("p",{className:"past",style:{fontWeight:"past"===i.state.currentFilterClicked?"bold":"300"},onClick:r},"Past"),l.a.createElement("p",{className:"all",style:{fontWeight:"all"===i.state.currentFilterClicked?"bold":"300"},onClick:o},"All"))),l.a.createElement("table",{className:"table2"},l.a.createElement("thead",{className:"client-head"},l.a.createElement("tr",{className:"client-row"},l.a.createElement("th",{className:"client-doctor"},l.a.createElement("div",{className:"mainExamDiv"},l.a.createElement("div",{className:"searchDiv"},l.a.createElement("span",{className:"examTypetext"},"Doctor "),l.a.createElement("span",{className:"searchIcon",onClick:d},i.state.searchDoctor?l.a.createElement("img",{src:Ie.a,alt:"arrow"}):l.a.createElement("img",{src:Ae.a,alt:"arrow"}))),l.a.createElement("input",{type:"text",placeholder:"Search",value:i.state.searchName,onChange:u,style:{display:!i.state.searchDoctor&&"none"}}))),l.a.createElement("th",{className:"client-subject"},"Subject"),l.a.createElement("th",{className:"client-type",style:{padding:i.state.searchDoctor&&"0 0 30px 0"}},l.a.createElement("div",{className:"mainExamDiv"},l.a.createElement("select",{type:"text",placeholder:"",onChange:m,onClick:p,value:i.state.searchType},l.a.createElement("option",{value:""},"Type"),l.a.createElement("option",{value:"mail"},"Email"),l.a.createElement("option",{value:"video"},"Video")))),l.a.createElement("th",{className:"client-date"},"Date"),l.a.createElement("th",{className:"client-status",style:{padding:i.state.searchDoctor&&"0 0 30px 0"}},"Status"))),""===i.state.messageIfEmpty&&i.state.paginatedExams.map((function(e,t){return l.a.createElement("tbody",{key:t,className:"client-body"},l.a.createElement("tr",{className:"list-group",style:{fontWeight:e.isRead&&900},onClick:function(){return s(e)}},l.a.createElement("td",{className:"client-doctor"},e.doctor_name?e.doctor_name:e.doctor),l.a.createElement("td",{className:"client-subject1"},e.subject),l.a.createElement("td",{className:"client-subject"},e.exam_type),l.a.createElement("td",{className:"created"},e.created&&!e.appointed_date?l.a.createElement("p",null," ",je()(e.created).format("MM/DD/YY HH:mm")):e.appointed_date?l.a.createElement("p",null," ",je()(e.appointed_date).format("MM/DD/YY HH:mm")):null),l.a.createElement("td",{className:"client-status"},e.transaction&&"Pending"===e.transaction.status&&"Canceled"!==e.status?l.a.createElement("h5",{style:{color:"#00aff0"}},"PAY"):"Pending"===e.status||"In the queue"===e.status?l.a.createElement("img",{src:xe.a,alt:"clockIcon",className:"pendi"}):"Declined"===e.status||"Canceled"===e.status?l.a.createElement("img",{src:Se.a,alt:"declined",className:"declined"}):"Finished"===e.status?l.a.createElement(ye.a,{className:"finished"}):l.a.createElement("img",{src:ve.a,alt:"ckeck",className:"check"}),l.a.createElement("h5",{style:{display:e.transaction&&"Pending"===e.transaction.status&&"Canceled"!==e.status&&"none"},className:"status"},e.status))))}))),""!==i.state.messageIfEmpty&&l.a.createElement("div",{className:"NoResultDiv"},i.state.messageIfEmpty)),i.state.exams.length>10&&l.a.createElement("div",{className:"pagi"},l.a.createElement(Ve.a,{activePage:i.state.page,itemsCountPerPage:10,totalItemsCount:0===i.state.searchedUpcomingOrPast.length?i.state.upcomingOrPast.length:i.state.searchedUpcomingOrPast.length,pageRangeDisplayed:10,onChange:h,itemClassLast:"lastPage",hideFirstLastPages:!0})))},Re=function(e){return{type:"CURENTDOC",payload:e}},He=function(e){return{type:"WEBSOCKETCONNECTION",payload:e}},ze=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e)))._isMounted=!1,a.initiate=function(){a.props.history.push("/initiate")},a.hnlAlertClient=function(){a.props.history.push("/client-alerts")},a.VideoReq=function(){a.props.history.push("/client/video-request")},a.connect=function(){sessionStorage.getItem("socketConnected")||(a.props.connection.onopen=function(){console.log("connected to dashboard socket"),sessionStorage.setItem("socketConnected","true")}),a.props.connection.onmessage=function(e){console.log(e),JSON.parse(e.data).content&&oe.NotificationManager.error("".concat(JSON.parse(e.data).content),"New Alert!",2e3),a.paginatedExams()},a.props.connection.onclose=function(e){console.log("Socket is closed")},a.props.connection.onerror=function(e){console.error("Socket encountered error: ",e.message,"Closing socket")}},a.handleClick=function(e){e.transaction&&"Pending"===e.transaction.status&&"Canceled"!==e.status?a.props.history.push({pathname:"/checkout",state:{price:e.price,currency:e.currency,transaction_id:e.transaction}}):"mail"===e.exam_type?a.props.history.push("/client/exam/detail/".concat(e.id)):"video"===e.exam_type?a.props.history.push("/client/video/exam/detail/".concat(e.id)):"queue"===e.exam_type&&a.props.history.push("/client/queue/exam/detail/".concat(e.id))},a.handleUpcoming=function(){var e=setInterval((function(){var t=a.state.exams.filter((function(e){return"Appointed"===e.status||"Accepted"===e.status||"Pending"===e.status||"In the queue"===e.status})),n=t.sort((function(e,t){return Date.parse(t.created)-Date.parse(e.created)})),l=0===t.length?"No consultations to show":"";a.setState({upcomingOrPast:n,page:1,messageIfEmpty:l,currentFilterClicked:"upcoming",searchedUpcomingOrPast:[],filterFiltered:[],searchType:"",searchName:""}),a.paginate(1),clearInterval(e)}),10)},a.handlePast=function(){var e=setInterval((function(){var t=a.state.exams.filter((function(e){return"Declined"===e.status||"Finished"===e.status||"Canceled"===e.status}));console.log(t,"past");var n=t.sort((function(e,t){return Date.parse(t.created)-Date.parse(e.created)})),l=0===t.length?"No consultations to show":"";a.setState({upcomingOrPast:n,page:1,messageIfEmpty:l,currentFilterClicked:"past",searchedUpcomingOrPast:[],filterFiltered:[],searchType:"",searchName:""}),a.paginate(1),clearInterval(e)}),10)},a.handleAll=function(){var e=setInterval((function(){var t=a.state.exams,n=t.sort((function(e,t){return Date.parse(t.created)-Date.parse(e.created)})),l=0===t.length?"No consultations to show":"";a.setState({upcomingOrPast:n,page:1,messageIfEmpty:l,currentFilterClicked:"all",searchedUpcomingOrPast:[],filterFiltered:[],searchType:"",searchName:""}),a.paginate(1),clearInterval(e)}),10)},a.paginatedExams=function(){var e;return o.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:e="Bearer ".concat(a.state.token),de.a.get("https://healthcarebackend.xyz/api/exams/client/",{headers:{Authorization:e}}).then((function(e){if(console.log(e),0!==e.data.data.mail.length||0!==e.data.data.video.length){var t=e.data.data.mail.concat(e.data.data.video);a.setState({exams:t})}})).then((function(){a.handleAll(),a.paginate(a.state.page)})).catch((function(e){console.log(e.response,"error"),a.setState({loading:!1}),a.handleAll(),a.paginate(a.state.page)}));case 2:case"end":return t.stop()}}))},a.paginate=function(e){if(0===a.state.searchedUpcomingOrPast.length){var t=Math.ceil(a.state.upcomingOrPast.length/10),n=10*(e-1),l=a.state.upcomingOrPast.slice(n,n+10).sort((function(e,t){return e.created-t.created}));a.setState({paginatedExams:l,loading:!1,maxPages:t})}else{var s=Math.ceil(a.state.searchedUpcomingOrPast.length/10),c=10*(e-1),r=a.state.searchedUpcomingOrPast.slice(c,c+10).sort((function(e,t){return e.created-t.created}));a.setState({paginatedExams:r,loading:!1,maxPages:s})}},a.handleHam=function(){a.setState({hamburger:!a.state.hamburger})},a.hnlMyConsultations=function(){a.setState({hamburger:!1}),a.handleAll()},a.handleDoctorSearch=function(){a.setState({searchDoctor:!a.state.searchDoctor})},a.searchByName=function(e){if(""===e.target.value&&""===a.state.searchType)a.setState({filterFiltered:[]});else if(""===e.target.value&&""!==a.state.searchName){a.setState({filterFiltered:[]});var t=setInterval((function(){a.handlingSearchByType(),clearInterval(t)}),10)}a.setState({searchName:e.target.value});var n=setInterval((function(){a.handlingSearchByName(),clearInterval(n)}),10)},a.handlingSearchByName=function(){var e=a.state.searchName.toLowerCase().split(" "),t=0===a.state.filterFiltered.length?a.state.upcomingOrPast.filter((function(t){var a=(t.doctor_name?t.doctor_name:t.doctor).split(" ");if(console.log(e),console.log(a),e[1]){if(a[0].toLowerCase().indexOf(e[0])===e[0].indexOf(e[0])&&a[1].toLowerCase().indexOf(e[1])===e[1].indexOf(e[1])||a[0].toLowerCase().indexOf(e[1])===e[1].indexOf(e[1])&&a[1].toLowerCase().indexOf(e[0])===e[0].indexOf(e[0]))return t}else if(a[0].toLowerCase().indexOf(e[0])===e[0].indexOf(e[0])||a[1].toLowerCase().indexOf(e[0])===e[0].indexOf(e[0]))return console.log(t),t;return null})):a.state.filterFiltered.filter((function(t){var a=(t.doctor_name?t.doctor_name:t.doctor).split(" ");if(e[1]){if(a[0].toLowerCase().indexOf(e[0])===e[0].indexOf(e[0])&&a[1].toLowerCase().indexOf(e[1])===e[1].indexOf(e[1])||a[0].toLowerCase().indexOf(e[1])===e[1].indexOf(e[1])&&a[1].toLowerCase().indexOf(e[0])===e[0].indexOf(e[0]))return t}else if(a[0].toLowerCase().indexOf(e[0])===e[0].indexOf(e[0])||a[1].toLowerCase().indexOf(e[0])===e[0].indexOf(e[0]))return t;return null})),n=0===t.length?"No Such Doctor":0!==t.length&&"No Such Doctor"!==a.state.messageIfEmpty?a.state.messageIfEmpty:"";0===a.state.filterFiltered.length&&a.setState({filterFiltered:t}),a.setState({searchedUpcomingOrPast:t,page:1,messageIfEmpty:n}),a.paginate(1)},a.ResetonSelectChange=function(){a.setState({filterFiltered:[]});var e=setInterval((function(){a.handlingSearchByName(),clearInterval(e)}),10)},a.searchByType=function(e){if(console.log(e.target.value),""===e.target.value&&""===a.state.searchName)a.setState({filterFiltered:[]});else if(""===e.target.value&&""!==a.state.searchName){a.setState({filterFiltered:[]});var t=setInterval((function(){a.handlingSearchByName(),clearInterval(t)}),10)}var n=e.target.value.toLowerCase();a.setState({searchType:n});var l=setInterval((function(){a.handlingSearchByType(),clearInterval(l)}),10)},a.handlingSearchByType=function(){var e=0===a.state.filterFiltered.length?a.state.upcomingOrPast.filter((function(e){return e.exam_type.toLowerCase().indexOf(a.state.searchType)===a.state.searchType.indexOf(a.state.searchType)?e:null})):a.state.filterFiltered.filter((function(e){return e.exam_type.toLowerCase().indexOf(a.state.searchType)===a.state.searchType.indexOf(a.state.searchType)?e:null}));console.log(e);var t=0===e.length?"No Such Type":0!==e.length&&"No Such Type"!==a.state.messageIfEmpty?a.state.messageIfEmpty:"";0===a.state.filterFiltered.length&&a.setState({filterFiltered:e}),a.setState({searchedUpcomingOrPast:e,page:1,messageIfEmpty:t}),a.paginate(1)},a.handlePageChange=function(e){console.log(e,a.state.page),a.setState({page:e}),a.paginate(e)},a.state={exams:[],paginatedExams:[],upcomingOrPast:[],token:sessionStorage.getItem("accessToken"),dataFromServer:"",loading:!0,page:1,maxPages:"",hamburger:!1,client:"",messageIfEmpty:"",currentFilterClicked:"",mail:[],searchName:"",searchDoctor:!1,searchByTypeClick:!1,searchType:"",filterFiltered:[],searchedUpcomingOrPast:[],wss:""},a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this;this._isMounted=!0;var t="Bearer ".concat(this.state.token);de.a.get("https://healthcarebackend.xyz/api/client/profile/",{headers:{Authorization:t}}).then((function(t){return sessionStorage.getItem("socketConnected")||e.props.connectToWebSocket(new WebSocket("wss://healthcarebackend.xyz/ws/dashboard/client/".concat(t.data.data.id,"/"))),e.connect(),e.props.curentDoc(t.data.data),e.setState({client:t.data.data})})).then((function(){e.paginatedExams()}))}},{key:"componentWillUnmount",value:function(){this._isMounted=!1,"/login"===window.location.pathname&&this.props.history.push("/logOutQuestion")}},{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"header"},l.a.createElement("div",null,l.a.createElement(re,null),l.a.createElement(me,null))),l.a.createElement(Be,{initiate:this.initiate,hnlAlertClient:this.hnlAlertClient,handleClick:this.handleClick,handleUpcoming:this.handleUpcoming,handlePast:this.handlePast,handleAll:this.handleAll,handleClickLeft:this.handleClickLeft,handleClickRight:this.handleClickRight,props:this,VideoReq:this.VideoReq,handleHam:this.handleHam,hnlMyConsultations:this.hnlMyConsultations,handleDoctorSearch:this.handleDoctorSearch,searchByName:this.searchByName,ResetonSelectChange:this.ResetonSelectChange,searchByType:this.searchByType,handlePageChange:this.handlePageChange}))}}]),t}(n.Component),Le=Object(f.b)((function(e){return{connection:e.getIn(["connectToWebSocketReducer","connection"])}}),(function(e){return Object(g.bindActionCreators)({curentDoc:Re,popUp:ne,connectToWebSocket:He},e)}))(ze),Ue=(a(250),function(e){var t=e.hnlClick,a=e.handleClick,n=e.handleClickMail,s=e.handleUpcoming,c=e.handlePast,r=e.handleAll,o=e.props,i=(e.handleClickLeft,e.handleClickRight,e.hnlVideoClick),d=e.hnlAlertsClick,m=e.handleAlert,u=e.handleVideoPendingClick,p=(e.hnlMyConsultations,e.loading),h=e.handleClientSearch,g=(e.handleTypeSearch,e.searchByType),f=e.searchByName,y=e.ResetonSelectChange,E=e.handlePageChange,v=o.state.pending?o.state.pending.slice(0,4):null,b=o.state.videoPending?o.state.videoPending.slice(0,4):null,x=o.state.alerts?o.state.alerts.slice(0,4):null;return l.a.createElement("div",{className:"testic"},l.a.createElement("div",{className:"main"},l.a.createElement("div",{className:"dashboardIcon"},l.a.createElement("h4",null,"Dashboard"))," ",l.a.createElement("div",{className:"divVideo"},l.a.createElement("div",{className:"videoApp1",onClick:i},l.a.createElement("span",{className:"video"},l.a.createElement("img",{src:we.a,className:"icon",alt:"make a video"})),l.a.createElement("h2",null,"VIDEO REQUESTS")),l.a.createElement("div",{style:{height:"2px",background:"#00aff0"}}),l.a.createElement("div",{className:"requestsVideo"},l.a.createElement("p",null,o.state.videoPending.length," new request to confirm")),l.a.createElement("div",{className:"pendingReq"},0!==b.length?b.map((function(e){return l.a.createElement("div",{key:e.id,onClick:function(){return u(e.id)}},e.client,","," ",je()(e.appointed_date).format("MM/DD/YY HH:mm"))})):l.a.createElement("p",null,"No requests"))),l.a.createElement("div",{className:"divEmail"},l.a.createElement("div",{className:"emailReq1",onClick:t},l.a.createElement("span",{className:"email"},l.a.createElement("img",{src:Pe.a,alt:"request email",className:"icon"})),l.a.createElement("h2",null,"EMAIL REQUESTS")),l.a.createElement("div",{style:{height:"2px",background:"#00aff0"}}),l.a.createElement("div",{className:"requestsEmail"},l.a.createElement("p",null,o.state.pending.length," new request to confirm")),l.a.createElement("div",{className:"pendingReq"},0!==v.length?v.map((function(e){return l.a.createElement("div",{key:e.id,onClick:function(){return n(e.id)}},e.client,","," ",je()(e.created).add(2,"hours").format("MM/DD/YY HH:mm"))})):l.a.createElement("p",null,"No requests"))),l.a.createElement("div",{className:"divClock"},l.a.createElement("div",{className:"waitRoom1",onClick:d},l.a.createElement("span",{className:"clock"},l.a.createElement("img",{src:ke.a,className:"icon",alt:"enter Waiting room"})),l.a.createElement("h2",null,"ALERTS")),l.a.createElement("div",{style:{height:"2px",background:"#00aff0"}}),l.a.createElement("div",{className:"requestsClock"},l.a.createElement("p",null,o.state.alerts.length," ","alerts to check")),l.a.createElement("div",{className:"pendingReq"},0!==x.length?x.map((function(e){return l.a.createElement("div",{key:e.id,onClick:function(){return m(e.mail?e.mail:e.video?e.video:"",e.mail?"mail":e.video?"video":"")}},e.content.replace("Client","".concat(e.sender)))})):l.a.createElement("p",null,"No alerts")))),p?l.a.createElement("img",{src:H.a,className:"loading",alt:"loading...",style:{width:"150px"}}):l.a.createElement("div",{className:"mainTabel"},l.a.createElement("div",{className:"mainConsultation"},l.a.createElement("div",{className:"icon_left"},l.a.createElement("p",null,"My Consultations")),l.a.createElement("div",{className:"sort"},l.a.createElement("p",{className:"upcoming",style:{fontWeight:"upcoming"===o.state.currentFilterClicked?"bold":"300"},onClick:s},"Upcoming"),l.a.createElement("p",{className:"past",style:{fontWeight:"past"===o.state.currentFilterClicked?"bold":"300"},onClick:c},"Past"),l.a.createElement("p",{className:"all",style:{fontWeight:"all"===o.state.currentFilterClicked?"bold":"300"},onClick:r},"All"))),l.a.createElement("table",{className:"table2"},l.a.createElement("thead",{className:"client-head"},l.a.createElement("tr",{className:"client-row"},l.a.createElement("th",{className:"client-doctor"},l.a.createElement("div",{className:"mainExamDiv"},l.a.createElement("div",{className:"searchDiv"},l.a.createElement("span",{className:"examTypetext"},"Client "),l.a.createElement("span",{className:"searchIcon",onClick:h},o.state.searchClient?l.a.createElement("img",{src:Ie.a,alt:"arrow"}):l.a.createElement("img",{src:Ae.a,alt:"arrow"}))),l.a.createElement("input",{type:"text",placeholder:"Search",value:o.state.searchName,onChange:f,style:{display:!o.state.searchClient&&"none"}}))),l.a.createElement("th",{className:"client-subject"},"Subject"),l.a.createElement("th",{className:"client-type",style:{padding:o.state.searchClient&&"0 0 30px 0"}},l.a.createElement("div",{className:"mainExamDiv"},l.a.createElement("select",{type:"text",placeholder:"",onClick:y,onChange:g,value:o.state.searchType},l.a.createElement("option",{value:""},"Type"),l.a.createElement("option",{value:"mail"},"Email"),l.a.createElement("option",{value:"video"},"Video")))),l.a.createElement("th",{className:"client-date"},"Date"),l.a.createElement("th",{className:"client-status",style:{padding:o.state.searchClient&&"0 0 30px 0"}},"Status"))),""===o.state.messageIfEmpty&&o.state.paginatedExams.map((function(e,t){return l.a.createElement("tbody",{key:t,className:"client-body"},l.a.createElement("tr",{className:"list-group",style:{fontWeight:e.isRead&&900},onClick:function(){return a(e.id,e.exam_type)}},l.a.createElement("td",{className:"client-doctor"},e.client),l.a.createElement("td",{className:"client-subject1"},e.subject),l.a.createElement("td",{className:"client-subject"},e.exam_type),l.a.createElement("td",{className:"created"},e.created&&!e.appointed_date?l.a.createElement("p",null," ",je()(e.created).add(1,"hours").format("MM/DD/YY HH:mm")):e.appointed_date?l.a.createElement("p",null," ",je()(e.appointed_date).format("MM/DD/YY HH:mm")):null),l.a.createElement("td",{className:"client-status"},"Pending"===e.status||"In the queue"===e.status?l.a.createElement("img",{src:xe.a,alt:"clockIcon",className:"pendi"}):"Declined"===e.status||"Canceled"===e.status?l.a.createElement("img",{src:Se.a,alt:"declined",className:"declined"}):"Finished"===e.status?l.a.createElement(ye.a,{className:"finished"}):l.a.createElement("img",{src:ve.a,alt:"ckeck",className:"check"}),l.a.createElement("h5",{className:"status"},e.status))))}))),""!==o.state.messageIfEmpty&&l.a.createElement("div",{className:"NoResultDiv"},o.state.messageIfEmpty)),o.state.exams.length>10&&l.a.createElement("div",{className:"pagi"},l.a.createElement(Ve.a,{activePage:o.state.page,itemsCountPerPage:10,totalItemsCount:0===o.state.searchedUpcomingOrPast.length?o.state.upcomingOrPast.length:o.state.searchedUpcomingOrPast.length,pageRangeDisplayed:10,onChange:E,itemClassLast:"lastPage",hideFirstLastPages:!0})))}),We=function(e){return{type:"STATUSCHANGEWR",payload:e}},Ye=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).pnd=function(){var e="Bearer ".concat(a.state.token);de.a.get("https://healthcarebackend.xyz/api/doctor/exams/req/",{headers:{Authorization:e}}).then((function(e){var t=(0!==e.data.data.length?e.data.data.filter((function(e){return"Pending"!==e.transaction.status})):[]).sort((function(e,t){return Date.parse(t.created)-Date.parse(e.created)}));a.setState({pending:t.filter((function(e){return"Pending"===e.status}))})})).catch((function(e){console.log(e)}))},a.handleUpcoming=function(){var e=setInterval((function(){var t=a.state.exams.filter((function(e){return"Appointed"===e.status||"Accepted"===e.status||"Pending"===e.status||"In the queue"===e.status})),n=t.sort((function(e,t){return Date.parse(t.created)-Date.parse(e.created)})),l=0===t.length?"No consultations to show":"";a.setState({upcomingOrPast:n,page:1,messageIfEmpty:l,currentFilterClicked:"upcoming",searchedUpcomingOrPast:[],filterFiltered:[],searchType:"",searchName:""}),a.paginate(1),clearInterval(e)}),10)},a.handlePast=function(){var e=setInterval((function(){var t=a.state.exams.filter((function(e){return"Declined"===e.status||"Finished"===e.status||"Canceled"===e.status})),n=t.sort((function(e,t){return Date.parse(t.created)-Date.parse(e.created)})),l=0===t.length?"No consultations to show":"";a.setState({upcomingOrPast:n,page:1,messageIfEmpty:l,currentFilterClicked:"past",searchedUpcomingOrPast:[],filterFiltered:[],searchType:"",searchName:""}),a.paginate(1),clearInterval(e)}),10)},a.handleAll=function(){var e=setInterval((function(){var t=a.state.exams,n=t.sort((function(e,t){return Date.parse(t.created)-Date.parse(e.created)})),l=0===t.length?"No consultations to show":"";a.setState({upcomingOrPast:n,page:1,messageIfEmpty:l,currentFilterClicked:"all",searchedUpcomingOrPast:[],filterFiltered:[],searchType:"",searchName:""}),a.paginate(1),clearInterval(e)}),10)},a.handleClick=function(e,t){"mail"===t?a.props.history.push("/doctor/exam/detail/".concat(e)):"video"===t?a.props.history.push("/doctor/video/exam/detail/".concat(e)):"queue"===t&&a.props.history.push("/doctor/processing/video/exam/".concat(e,"/#init"))},a.handleVideoPendingClick=function(e){a.props.history.push("/doctor/video/exam/detail/".concat(e))},a.paginatedExams=function(){var e;return o.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:e="Bearer ".concat(a.state.token),de.a.get("https://healthcarebackend.xyz/api/exams/doctor/",{headers:{Authorization:e}}).then((function(e){if(0!==e.data.data.mail.length||0!==e.data.data.video.length){var t=0!==e.data.data.mail.length?e.data.data.mail.filter((function(e){return"Pending"!==e.transaction.status})):[],n=0!==e.data.data.video.length?e.data.data.video.filter((function(e){return"Pending"!==e.transaction.status})):[],l=t.concat(n);a.setState({exams:l});var s=n.filter((function(e){return"Pending"===e.status&&je()(e.appointed_date).format("MM/DD/YYYY")>=je()(new Date).format("MM/DD/YYYY")})),c=n.filter((function(e){return"Appointed"===e.status})).filter((function(e){return je()(new Date).format("MM/DD/YYYYTHH:mm aa")>je()(e.appointed_date).format("MM/DD/YYYYTHH:mm aa")&&je()(new Date).format("MM/DD/YYYYTHH:mm aa")<je()(e.appointed_date).add(30,"minutes").format("MM/DD/YYYYTHH:mm aa")?e:null}));a.setState({videoPending:s,loading:!1,numOfMessages:c.length})}})).then((function(){a.handleAll(),a.paginate(a.state.page),a.getAlerts()})).catch((function(e){console.log(e.response,"error"),a.setState({loading:!1}),a.handleAll()}));case 2:case"end":return t.stop()}}))},a.getAlerts=function(){var e;return o.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:e="Bearer ".concat(a.state.token),de.a.get("https://healthcarebackend.xyz/api/doctor/notifications/",{headers:{Authorization:e}}).then((function(e){var t=e.data.data.sort((function(e,t){return je()(t.created)-je()(e.created)}));a.setState({alerts:t})})).catch((function(e){a.setState({loading:!1})}));case 2:case"end":return t.stop()}}))},a.paginate=function(e){if(0===a.state.searchedUpcomingOrPast.length){var t=Math.ceil(a.state.upcomingOrPast.length/10),n=10*(e-1),l=a.state.upcomingOrPast.slice(n,n+10).sort((function(e,t){return e.created-t.created}));a.setState({paginatedExams:l,loading:!1,maxPages:t})}else{var s=Math.ceil(a.state.searchedUpcomingOrPast.length/10),c=10*(e-1),r=a.state.searchedUpcomingOrPast.slice(c,c+10).sort((function(e,t){return e.created-t.created}));a.setState({paginatedExams:r,loading:!1,maxPages:s})}},a.handleAlert=function(e,t){return o.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:"mail"===t&&a.props.history.push("/doctor/exam/detail/".concat(e,"/")),"video"===t&&a.props.history.push("doctor/video/exam/detail/".concat(e,"/"));case 2:case"end":return n.stop()}}))},a.hnlClick=function(){a.props.history.push("/doctors-email-list")},a.hnlVideoClick=function(){a.props.history.push("/doctors-video-list")},a.hnlAlertsClick=function(){a.props.history.push("/doctors-alerts")},a.handleDoctorProfile=function(){var e;return o.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:e="Bearer ".concat(a.state.token),de.a.get("https://healthcarebackend.xyz/api/doctor/profile/",{headers:{Authorization:e}}).then((function(e){var t=e.data.data;return console.log(t),sessionStorage.getItem("socketConnected")||a.props.connectToWebSocket(new WebSocket("wss://healthcarebackend.xyz/ws/dashboard/doctor/".concat(t.id,"/"))),setTimeout((function(){a.connecSocket()})),a.props.curentDoc(t),a.paginatedExams(),a.setState({doctorCurent:t})}));case 2:case"end":return t.stop()}}))},a.handleClickMail=function(e){a.props.history.push("/doctor/exam/detail/".concat(e))},a.hnlMyConsultations=function(){a.handleAll(),a.setState({hamburger:!1})},a.connecSocket=function(){sessionStorage.getItem("socketConnected")||(a.props.connection.onopen=function(){console.log("connected to port"),sessionStorage.setItem("socketConnected","true")}),a.props.connection.onmessage=function(e){console.log(e),JSON.parse(e.data).content&&oe.NotificationManager.error("".concat(JSON.parse(e.data).content),"New Alert!",2e3),a.messagesNumber()},a.props.connection.onclose=function(){console.error("disconected")}},a.messagesNumber=function(){a.paginatedExams(),a.pnd()},a.handleClientSearch=function(){a.setState({searchClient:!a.state.searchClient})},a.handleTypeSearch=function(){a.setState({searchByTypeClick:!a.state.searchByTypeClick})},a.searchByName=function(e){if(""===e.target.value&&""===a.state.searchType)a.setState({filterFiltered:[]});else if(""===e.target.value&&""!==a.state.searchName){a.setState({filterFiltered:[]});var t=setInterval((function(){a.handlingSearchByType(),clearInterval(t)}),10)}a.setState({searchName:e.target.value});var n=setInterval((function(){a.handlingSearchByName(),clearInterval(n)}),10)},a.handlingSearchByName=function(){var e=a.state.searchName.toLowerCase().split(" "),t=0===a.state.filterFiltered.length?a.state.upcomingOrPast.filter((function(t){var a=t.client.split(" ");if(e[1]){if(a[0].toLowerCase().indexOf(e[0])===e[0].indexOf(e[0])&&a[1].toLowerCase().indexOf(e[1])===e[1].indexOf(e[1])||a[0].toLowerCase().indexOf(e[1])===e[1].indexOf(e[1])&&a[1].toLowerCase().indexOf(e[0])===e[0].indexOf(e[0]))return t}else if(a[0].toLowerCase().indexOf(e[0])===e[0].indexOf(e[0])||a[1].toLowerCase().indexOf(e[0])===e[0].indexOf(e[0]))return t;return null})):a.state.filterFiltered.filter((function(t){var a=t.client.split(" ");if(e[1]){if(a[0].toLowerCase().indexOf(e[0])===e[0].indexOf(e[0])&&a[1].toLowerCase().indexOf(e[1])===e[1].indexOf(e[1])||a[0].toLowerCase().indexOf(e[1])===e[1].indexOf(e[1])&&a[1].toLowerCase().indexOf(e[0])===e[0].indexOf(e[0]))return t}else if(a[0].toLowerCase().indexOf(e[0])===e[0].indexOf(e[0])||a[1].toLowerCase().indexOf(e[0])===e[0].indexOf(e[0]))return t;return null})),n=0===t.length?"No Such Client":0!==t.length&&"No Such Client"!==a.state.messageIfEmpty?a.state.messageIfEmpty:"";0===a.state.filterFiltered.length&&a.setState({filterFiltered:t}),a.setState({searchedUpcomingOrPast:t,page:1,messageIfEmpty:n}),a.paginate(1)},a.ResetonSelectChange=function(){a.setState({filterFiltered:[]});var e=setInterval((function(){a.handlingSearchByName(),clearInterval(e)}),10)},a.searchByType=function(e){if(""===e.target.value&&""===a.state.searchName)a.setState({filterFiltered:[]});else if(""===e.target.value&&""!==a.state.searchName){a.setState({filterFiltered:[]});var t=setInterval((function(){a.handlingSearchByName(),clearInterval(t)}),10)}var n=e.target.value.toLowerCase();a.setState({searchType:n});var l=setInterval((function(){a.handlingSearchByType(),clearInterval(l)}),10)},a.handlingSearchByType=function(){var e=0===a.state.filterFiltered.length?a.state.upcomingOrPast.filter((function(e){return e.exam_type.toLowerCase().indexOf(a.state.searchType)===a.state.searchType.indexOf(a.state.searchType)?e:null})):a.state.filterFiltered.filter((function(e){return e.exam_type.toLowerCase().indexOf(a.state.searchType)===a.state.searchType.indexOf(a.state.searchType)?e:null})),t=0===e.length?"No Such Type":0!==e.length&&"No Such Type"!==a.state.messageIfEmpty?a.state.messageIfEmpty:"";0===a.state.filterFiltered.length&&a.setState({filterFiltered:e}),a.setState({searchedUpcomingOrPast:e,page:1,messageIfEmpty:t}),a.paginate(1)},a.handlePageChange=function(e){a.setState({page:e}),a.paginate(e)},a.state={exams:[],paginatedExams:[],upcomingOrPast:[],searchedUpcomingOrPast:[],filterFiltered:[],record:[],token:sessionStorage.getItem("accessToken"),pending:[],videoPending:[],value:"",doctorCurent:"",page:1,maxPages:"",loading:!0,hamburger:!1,numOfMessages:0,messageIfEmpty:"",currentFilterClicked:"",mail:[],searchName:"",searchClient:!1,searchByTypeClick:!1,searchType:"",firstLoad:!0,alerts:[]},a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.handleDoctorProfile(),this.pnd()}},{key:"componentWillUnmount",value:function(){"/login"===window.location.pathname&&this.props.history.push("/logOutQuestion")}},{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"header"},l.a.createElement("div",null,l.a.createElement(re,null),l.a.createElement(me,null))),l.a.createElement(Ue,{handleClick:this.handleClick,handleClickMail:this.handleClickMail,handleClient:this.handleClient,hnlClick:this.hnlClick,hnlClick2:this.hnlClick2,hnlClick3:this.hnlClick3,hnlAlertsClick:this.hnlAlertsClick,props:this,handleKeyPress:this.handleKeyPress,handleChange:this.handleChange,handleClickLeft:this.handleClickLeft,handleClickRight:this.handleClickRight,loading:this.state.loading,hnlVideoClick:this.hnlVideoClick,handleAlert:this.handleAlert,handleVideoPendingClick:this.handleVideoPendingClick,handleUpcoming:this.handleUpcoming,handlePast:this.handlePast,handleAll:this.handleAll,hnlMyConsultations:this.hnlMyConsultations,handleClientSearch:this.handleClientSearch,handleTypeSearch:this.handleTypeSearch,searchByType:this.searchByType,searchByName:this.searchByName,ResetonSelectChange:this.ResetonSelectChange,handlePageChange:this.handlePageChange}))}}]),t}(n.Component),qe=Object(f.b)((function(e){return{connection:e.getIn(["connectToWebSocketReducer","connection"])}}),(function(e){return Object(g.bindActionCreators)({curentDoc:Re,statusChangeWR:We,connectToWebSocket:He},e)}))(Ye),Je=a(53),Ge=a(27),Qe=(a(151),a(69)),Xe=a.n(Qe),Ke=function(e){var t=e.exam,a=e.handleStatus,s=e.statusValue,c=(e.handleReplyClick,e.onChangeHandler),r=e.handleSubmitSend,o=e.handleMessage,i=e.newMessage,d=e.props,m=e.declineReason,u=e.saveReason,p=e.handlePage,h=e.handleClick,g=e.loading,f=e.searchByType,y=e.ResetonSelectChange,E=e.handlePageChange,v=e.handleExtendDiv,b=e.clearFile,x={control:function(){return{width:160,border:"2px solid #fa9551",borderRadius:"10px",height:"33px",fontWeight:600,display:"flex",background:"transparent"}}};return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"header"},l.a.createElement("div",null,l.a.createElement(re,null),l.a.createElement(me,null))),t&&t.map((function(e){var t="Appointed"===e.status?"Accepted":e.status,N="Accepted"!==e.status?[{value:"Accept",label:"Accept"},{value:"Decline",label:"Decline"}]:[{value:"Finish",label:"Finish"}];return l.a.createElement(n.Fragment,{key:e.id},"consultDetail"===d.PageonNav&&l.a.createElement("div",{className:"detail_exam"},l.a.createElement("div",{className:"iconVideo"},l.a.createElement("div",{className:"ConsulDetails",style:{borderBottom:"consultDetail"===d.PageonNav&&"4px solid #fa9551"},onClick:function(){p("consultDetail")}},l.a.createElement("h4",{style:{fontWeight:"consultDetail"===d.PageonNav&&"bold"}},"Consultations details")," "),l.a.createElement("div",{className:"ConsulDetails",style:{borderBottom:"clientDetail"===d.PageonNav&&"4px solid #fa9551"},onClick:function(){p("clientDetail")}},l.a.createElement("h4",{style:{fontWeight:"clientDetail"===d.PageonNav&&"bold"}},"Client details")," "),l.a.createElement("div",{className:"ConsulDetails",style:{borderBottom:"clientDetailConsult"===d.PageonNav&&"4px solid #fa9551"},onClick:function(){p("clientDetailConsult")}},l.a.createElement("h4",{style:{fontWeight:"clientDetailConsult"===d.PageonNav&&"bold"}},"Client consultations")," ")),l.a.createElement("div",{className:"detail"},l.a.createElement("p",null,l.a.createElement("span",null,"Client:")," ",e.client),l.a.createElement("p",null,l.a.createElement("span",null,"Created:")," ",je()(e.created).add(1,"hours").format("MM/DD/YY HH:mm")),l.a.createElement("p",null,l.a.createElement("span",null,"Type:")," ",e.exam_type),"Canceled"===e.status||"Finished"===e.status||"Declined"===e.status?l.a.createElement("p",null,l.a.createElement("span",null,"Status:")," ",e.status):l.a.createElement("div",{className:"divSelectButton"},l.a.createElement(Ge.a,{type:"text",styles:x,placeholder:t,className:"select-option",value:s,options:N,onChange:a}))),l.a.createElement("div",{className:"sideMessageDetails"},l.a.createElement("div",{className:"SubjectMessage"},l.a.createElement("div",{className:"sideSub"},l.a.createElement("p",null,l.a.createElement("span",{style:{fontWeight:"bold"}},"Subject:")," ",e.subject),l.a.createElement("div",{className:"infoAndSquare",style:{display:"flex"}},l.a.createElement("p",null,l.a.createElement("span",null,je()(e.appointed_date).format("MM/DD/YY"))," ",je()(e.appointed_date).format(" HH:mm")),l.a.createElement("div",{style:{marginRight:"20px"},onClick:v,id:"imageDiv1"}))),l.a.createElement("div",{className:"messageDiv"},l.a.createElement("textarea",{defaultValue:e.message,id:"messageMainText",readOnly:!0}),l.a.createElement("div",{className:"mainFileDiv"},l.a.createElement("div",{className:"FileDiv"},l.a.createElement("p",null,"Files:")),e.attachment&&l.a.createElement("div",{onClick:function(){window.open("https://healthcarebackend.xyz".concat(e.attachment))},className:"fileForDownload"},l.a.createElement("p",null,e.attachment.substring(e.attachment.lastIndexOf("/")+1))))),l.a.createElement("div",{className:""}),l.a.createElement("div",{className:"reportIfDeclined",style:{display:"Declined"===e.status?"block":"Decline"!==d.selectedStatus?"none":"block"}},l.a.createElement("div",{className:"subjectDiv"},l.a.createElement("p",null,l.a.createElement("span",null,"Decline reason:"))),l.a.createElement("div",{className:"messageDivReport"},l.a.createElement("textarea",{name:"text",disabled:"Declined"===e.status&&!0,placeholder:e.decline_notes?e.decline_notes:"text",value:d.declineReason,onChange:m,id:"textarea"})),l.a.createElement("button",{style:{display:"Declined"===e.status&&"none"},onClick:u},"Save"))),l.a.createElement("div",{className:"mainMessageCorrespondence",style:{overflow:0===d.correspondence.length&&"hidden"}},l.a.createElement("div",{className:"MessageCorrespondence"},d.correspondence.map((function(e,t){return l.a.createElement("div",{key:e.id,style:{width:e.sender===d.doctor&&"90%"},className:"Maintbody"},l.a.createElement("div",{style:{background:e.sender===d.doctor&&"#00aff0"},className:"senderMaiin"},l.a.createElement("p",{className:"senderP"},l.a.createElement("span",null,"From:")," ",e.sender),l.a.createElement("p",{className:"createdP"},je()(e.created).add(1,"hours").format("MM/DD/YY HH:mm")),l.a.createElement("div",{id:"imageDiv"})),l.a.createElement("div",{className:"row1"},l.a.createElement("textarea",{id:e.id,defaultValue:e.message,readOnly:!0,className:"message"}),e.attachment?l.a.createElement("div",{className:"mainFileDiv"},l.a.createElement("div",{className:"FileDiv"},l.a.createElement("p",null,"Files:")),e.attachment&&l.a.createElement("div",{onClick:function(){window.open("https://healthcarebackend.xyz".concat(e.attachment))},className:"fileForDownload"},l.a.createElement("p",null,e.attachment.substring(e.attachment.lastIndexOf("/")+1)))):null))}))),d.replyClicked&&l.a.createElement("div",{className:"SendMainDiv",style:{marginBottom:"20px"}},l.a.createElement("div",{style:{background:"#00aff0"},className:"senderMaiin"},l.a.createElement("p",{className:"senderP"},l.a.createElement("span",null,"From:")," ",d.doctor),l.a.createElement("p",{className:"createdP"},je()(new Date).format("MM/DD/YY HH:mm"))),l.a.createElement("textarea",{type:"text",className:"messageTextInput",placeholder:"Message...",onChange:o,value:d.messageValue}),l.a.createElement("div",{className:"sendbuttonAndAtt"},l.a.createElement("div",{className:"attachess"},l.a.createElement("div",{className:"upload-btn-wrapper"},l.a.createElement("button",{className:"btn"},l.a.createElement("p",null,"Add file")),l.a.createElement("input",{id:"useForCleaning",type:"file",name:"myfile",onChange:c,multiple:!0})),d.selectedFile&&l.a.createElement("div",{className:"fileForDownload"},l.a.createElement("p",null,d.selectedFile.name),l.a.createElement("a",{className:"deleteB",onClick:b},"X")))))),"Accept"!==d.statusValue.value&&"Accepted"!==e.status||d.replyClicked?d.replyClicked?l.a.createElement("button",{className:"sendButtonForReplay",onClick:r},l.a.createElement("span",null,"Send")):null:l.a.createElement("button",{className:"newMessage",onClick:i},l.a.createElement("h1",null,"+")))),d.record&&"clientDetail"===d.PageonNav&&d.record.map((function(e){console.log(e);e.client.split(" ");return l.a.createElement("div",{key:e.id,className:"mainClien"},l.a.createElement("div",{className:"iconVideoo"},l.a.createElement("div",{className:"ConsulDetails",style:{borderBottom:"consultDetail"===d.PageonNav&&"4px solid #fa9551"},onClick:function(){p("consultDetail")}},l.a.createElement("h4",{style:{fontWeight:"consultDetail"===d.PageonNav&&"bold"}},"Consultations details")," "),l.a.createElement("div",{className:"ConsulDetails",style:{borderBottom:"clientDetail"===d.PageonNav&&"4px solid #fa9551"},onClick:function(){p("clientDetail")}},l.a.createElement("h4",{style:{fontWeight:"clientDetail"===d.PageonNav&&"bold"}},"Client details")," "),l.a.createElement("div",{className:"ConsulDetails",style:{borderBottom:"clientDetailConsult"===d.PageonNav&&"4px solid #fa9551"},onClick:function(){p("clientDetailConsult")}},l.a.createElement("h4",{style:{fontWeight:"clientDetailConsult"===d.PageonNav&&"bold"}},"Client consultations")," ")),l.a.createElement("div",{className:"client"},l.a.createElement("img",{src:e.image.includes("default")?Xe.a:"https://healthcarebackend.xyz/media/".concat(e.image),alt:"cliet profile"}),l.a.createElement("div",{className:"client-p"},l.a.createElement("p",null,e.client),l.a.createElement("h5",null,"Address: ",l.a.createElement("span",null,e.address)),l.a.createElement("h5",null,"E-mail: ",l.a.createElement("span",null,e.email)),l.a.createElement("h5",null,"Phone number: ",l.a.createElement("span",null,e.phone)),l.a.createElement("h5",null,"Date of birth: ",l.a.createElement("span",null,e.birth_date)),l.a.createElement("h5",null,"M"===e.gender?"Male":"Female"))),l.a.createElement("div",{className:"form"},l.a.createElement("div",{className:"conditionss"},"Chronical conditions:"," "," ",l.a.createElement("br",null),l.a.createElement("textarea",{type:"text",readOnly:!0,className:"address-input",placeholder:e.chronical_conditions,id:"ChronicalConditions"})),l.a.createElement("div",{className:"allergiess"},"Allergies:"," ",l.a.createElement("textarea",{type:"text",readOnly:!0,className:"address-input",placeholder:e.allergies,id:"Allergies"}))))})),"clientDetailConsult"===d.PageonNav&&g?l.a.createElement("img",{src:H.a,className:"loading",alt:"loading...",style:{width:"150px"}}):"clientDetailConsult"!==d.PageonNav||g?null:l.a.createElement("div",{className:"consultMain"},l.a.createElement("div",{className:"iconVideoo"},l.a.createElement("div",{className:"ConsulDetails",style:{borderBottom:"consultDetail"===d.PageonNav&&"4px solid #fa9551"},onClick:function(){p("consultDetail")}},l.a.createElement("h4",{style:{fontWeight:"consultDetail"===d.PageonNav&&"bold"}},"Consultations details")," "),l.a.createElement("div",{className:"ConsulDetails",style:{borderBottom:"clientDetail"===d.PageonNav&&"4px solid #fa9551"},onClick:function(){p("clientDetail")}},l.a.createElement("h4",{style:{fontWeight:"clientDetail"===d.PageonNav&&"bold"}},"Client details")," "),l.a.createElement("div",{className:"ConsulDetails",style:{borderBottom:"clientDetailConsult"===d.PageonNav&&"4px solid #fa9551"},onClick:function(){p("clientDetailConsult")}},l.a.createElement("h4",{style:{fontWeight:"clientDetailConsult"===d.PageonNav&&"bold"}},"Client consultations")," ")),l.a.createElement("div",{className:"mainTabelRecord"},l.a.createElement("div",{className:"mainConsultation"},l.a.createElement("div",{className:"icon_left"},l.a.createElement("p",null,"Consultations"))),l.a.createElement("table",{className:"table2"},l.a.createElement("thead",{className:"client-head"},l.a.createElement("tr",{className:"client-row"},l.a.createElement("th",{className:"client-subject"},"Subject"),l.a.createElement("th",{className:"client-type",style:{padding:d.searchClient&&"0 0 30px 0"}},l.a.createElement("div",{className:"mainExamDiv"},l.a.createElement("select",{type:"text",placeholder:"",onClick:y,onChange:f,defaultValue:d.searchType},l.a.createElement("option",{value:""},"Type"),l.a.createElement("option",{value:"mail"},"Email"),l.a.createElement("option",{value:"video"},"Video")))),l.a.createElement("th",{className:"client-date"},"Date"),l.a.createElement("th",{className:"client-status",style:{padding:d.searchClient&&"0 0 30px 0"}},"Status"))),""===d.messageIfEmpty&&d.paginatedExams.map((function(e,t){return console.log(e),l.a.createElement("tbody",{key:t,className:"client-body"},l.a.createElement("tr",{className:"list-group",style:{fontWeight:e.isRead&&700},onClick:function(){return h(e.id,e.exam_type)}},l.a.createElement("td",{className:"client-subject"},e.subject),l.a.createElement("td",{className:"client-type"},e.exam_type),l.a.createElement("td",{className:"created"},e.created&&!e.appointed_date?l.a.createElement("p",null," ",je()(e.created).format("MM/DD/YY HH:mm")):e.appointed_date?l.a.createElement("p",null," ",je()(e.appointed_date).format("MM/DD/YY HH:mm")):null),l.a.createElement("td",{className:"client-status"},"Pending"===e.status||"In the queue"===e.status?l.a.createElement("img",{src:xe.a,alt:"clockIcon",className:"pendi"}):"Declined"===e.status||"Canceled"===e.status?l.a.createElement("img",{src:Se.a,alt:"declined",className:"declined"}):"Finished"===e.status?l.a.createElement(ye.a,{className:"finished"}):l.a.createElement("img",{src:ve.a,alt:"ckeck",className:"check"}),l.a.createElement("h5",{className:"status"},e.status))))}))),""!==d.messageIfEmpty&&l.a.createElement("div",{className:"NoResultDiv"},d.messageIfEmpty))),"clientDetailConsult"===d.PageonNav&&l.a.createElement("div",{className:"pagi"},l.a.createElement(Ve.a,{activePage:d.page,itemsCountPerPage:10,totalItemsCount:0===d.searchedUpcomingOrPast.length?d.exams.length:d.searchedUpcomingOrPast.length,pageRangeDisplayed:10,onChange:E,itemClassLast:"lastPage",hideFirstLastPages:!0})))})))},$e=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).handleMessage=function(e){var t=document.querySelector(".messageTextInput");t.style.height="",t.style.height="".concat(t.scrollHeight,"px"),a.setState({messageValue:e.target.value})},a.detail=function(e){var t="Bearer ".concat(a.state.token);de.a.get("https://healthcarebackend.xyz/api/doctor/exams/".concat(e,"/"),{headers:{Authorization:t}}).then((function(e){console.log(e,"current"),a.setState({exam:[e.data.data],clientID:e.data.data.client_id,doctor:e.data.data.doctor}),a.record(e.data.data.client_id),a.clientsExams(e.data.data.client_id);var t=document.getElementById("messageMainText"),n=document.querySelector(".messageDiv"),l=document.getElementById("imageDiv1");console.log(t),t.scrollHeight>100&&(t.style.height="".concat(t.scrollHeight,"px"),n.style.height="".concat(t.scrollHeight+60,"px"),l.style.display="block")}))},a.handleSubmit=function(e){var t=a.props.match.params.id;"Decline"!==e&&a.doctorExam(t,e)},a.handleReplyClick=function(){a.setState({replyClicked:!a.state.replyClicked})},a.newMessage=function(){a.setState({replyClicked:!0})},a.handleStatus=function(e){a.setState({statusValue:e});var t=e.value;a.setState({selectedStatus:t}),a.handleSubmit(t)},a.onChangeHandler=function(e){console.log(e.target.files[0]),a.setState({selectedFile:e.target.files[0]})},a.clearFile=function(){a.setState({selectedFile:""}),document.getElementById("useForCleaning").value=""},a.doctorExam=function(e,t){var n,l,s;return o.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return console.log(e,t),n="Bearer ".concat(a.state.token),c.next=4,o.a.awrap(fetch("https://healthcarebackend.xyz/api/doctor/exams/".concat(e,"/"),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:n},body:JSON.stringify({status:t,decline_notes:a.state.declineReason,report:a.state.report})}));case 4:return l=c.sent,c.next=7,o.a.awrap(l.json());case 7:return s=c.sent,console.log(s),s.success&&(a.socket.send({exam_id:a.state.id,changedStatus:!0}),window.location.reload()),c.abrupt("return",s);case 11:case"end":return c.stop()}}))},a.connect=function(){sessionStorage.getItem("socketConnected")||(a.props.connectToWebSocket(new WebSocket("wss://healthcarebackend.xyz/ws/dashboard/doctor/".concat(a.state.id,"/"))),a.props.connection.onopen=function(){console.log("connected to port"),sessionStorage.setItem("socketConnected","true")}),a.props.connection.onmessage=function(e){console.log(e);var t=JSON.parse(e.data);JSON.parse(e.data).content&&oe.NotificationManager.error("".concat(JSON.parse(e.data).content),"New Alert!",2e3),t.id===JSON.parse(a.state.id)&&"mail"===t.exam_type&&a.detail(a.state.id)}},a.handleSubmitSend=function(e){a.state.messageValue?(a.sendMessage(),a.setState({messageValue:"",replyClicked:!1})):oe.NotificationManager.error("Empty Fields","Failed!",2e3)},a.sendMessage=function(){var e,t,n,l,s;return o.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return(e=new FormData).append("message",a.state.messageValue),e.append("attachment",a.state.selectedFile),t="Bearer ".concat(a.state.token),n="https://healthcarebackend.xyz/api/doctor/exams/".concat(a.state.id,"/message/"),l=de.a.post(n,e,{headers:{"content-type":"multipart/form-data",Authorization:t}}),c.next=8,o.a.awrap(l);case 8:return s=c.sent,console.log(s),s.data.success&&(oe.NotificationManager.success("Message Sent","Successful!",2e3),a.socket.send({exam_id:a.state.id,message:a.state.messageValue}),a.detail(a.state.id),a.correspondence(a.state.id),a.setState({selectedFile:""})),c.abrupt("return",l);case 12:case"end":return c.stop()}}))},a.correspondence=function(e){var t="Bearer ".concat(a.state.token);de.a.get("https://healthcarebackend.xyz/api/doctor/exams/".concat(e,"/messages/"),{headers:{Authorization:t}}).then((function(e){console.log(e);var t=e.data.data.map((function(e){return{id:e.id,sender:e.sender,created:e.created,message:e.message,attachment:e.attachment}})),n=t.sort((function(e,t){return Date.parse(e.created)-Date.parse(t.created)}));a.setState({correspondence:n,lastInArray:t[t.length-1]})})).then((function(){setTimeout((function(){a.handleresizeing()}),200)})).catch((function(e){console.log(e.response)}))},a.handleresizeing=function(){if(a.state.correspondence.length){var e=Object(Je.a)(document.querySelectorAll(".message"));console.log(e),e&&0!==e.length&&e.map((function(e){if(e.scrollHeight>100){e.style.height="".concat(e.scrollHeight,"px");var t=e.parentElement.previousSibling.lastChild;t.style.display="block",t.onclick=function(){e.clientHeight>100?e.style.height="100px":e.style.height="".concat(e.scrollHeight,"px")}}}))}},a.declineReason=function(e){a.setState({declineReason:e.target.value}),e.target.scrollHeight<300?e.target.style.height="".concat(e.target.scrollHeight,"px"):e.target.style.height="300px"},a.saveReason=function(){var e=a.props.match.params.id;a.doctorExam(e,a.state.selectedStatus)},a.resetValue=function(){a.setState({value:""});var e=document.querySelector(".inputMessage");document.getElementById("yourMessage").style.height="30px",e.style.height="30px"},a.handlePage=function(e){a.setState({PageonNav:e});var t=setInterval((function(){if("consultDetail"===e){var a=document.getElementById("messageMainText"),n=document.querySelector(".messageDiv"),l=document.getElementById("imageDiv1");a.scrollHeight>100&&(a.style.height="".concat(a.scrollHeight,"px"),n.style.height="".concat(a.scrollHeight+60,"px"),l.style.display="block")}Object(Je.a)(document.querySelectorAll(".message")).map((function(e){if(e.scrollHeight>100){e.style.height="".concat(e.scrollHeight,"px");var t=e.parentElement.previousSibling.lastChild;t.style.display="block",t.onclick=function(){e.clientHeight>100?e.style.height="100px":e.style.height="".concat(e.scrollHeight,"px")}}})),clearInterval(t)}),200)},a.handleExtendDiv=function(){var e=document.getElementById("messageMainText"),t=document.querySelector(".messageDiv");console.log(e.scrollHeight,e.clientHeight),e.clientHeight>100?(e.style.height="100px",t.style.height="".concat(160,"px")):(e.style.height="".concat(e.scrollHeight,"px"),t.style.height="".concat(e.scrollHeight+60,"px"))},a.record=function(e){var t="Bearer ".concat(a.state.token);de.a.get("https://healthcarebackend.xyz/api/doctor/record/".concat(e,"/"),{headers:{Authorization:t}}).then((function(e){return console.log(e,"nzm ni ja sta"),a.handleAll(),a.setState({record:[e.data.data]})}))},a.clientsExams=function(e){var t="Bearer ".concat(a.state.token);de.a.get("https://healthcarebackend.xyz/api/exams/client/".concat(e,"/list/"),{headers:{Authorization:t}}).then((function(e){console.log(e,"podaciiii");var t=0!==e.data.data.mail.length?e.data.data.mail.filter((function(e){return"Pending"!==e.transaction.status})):[],n=0!==e.data.data.video.length?e.data.data.video.filter((function(e){return"Pending"!==e.transaction.status})):[],l=t.concat(n);return a.setState({exams:l})})).then((function(){a.handleAll()}))},a.handleAll=function(){var e=setInterval((function(){var t=a.state.exams,n=t.sort((function(e,t){return Date.parse(t.created)-Date.parse(e.created)})),l=0===t.length?"No consultations":"";a.setState({upcomingOrPast:n,page:1,messageIfEmpty:l,currentFilterClicked:"all",searchedUpcomingOrPast:[],filterFiltered:[],searchType:"",searchName:""}),a.paginate(1),clearInterval(e)}),10)},a.paginate=function(e){if(0===a.state.searchedUpcomingOrPast.length){var t=Math.ceil(a.state.upcomingOrPast.length/10),n=10*(e-1),l=a.state.upcomingOrPast.slice(n,n+10);a.setState({paginatedExams:l,loading:!1,maxPages:t})}else{var s=Math.ceil(a.state.searchedUpcomingOrPast.length/10),c=10*(e-1),r=a.state.searchedUpcomingOrPast.slice(c,c+10);a.setState({paginatedExams:r,loading:!1,maxPages:s})}},a.searchByType=function(e){""===e.target.value&&""===a.state.searchName?a.setState({filterFiltered:[]}):""===e.target.value&&""!==a.state.searchName&&a.setState({filterFiltered:[]});var t=e.target.value.toLowerCase();a.setState({searchType:t});var n=setInterval((function(){a.handlingSearchByType(),clearInterval(n)}),10)},a.handlingSearchByType=function(){var e=0===a.state.filterFiltered.length?a.state.upcomingOrPast.filter((function(e){return e.exam_type.toLowerCase().indexOf(a.state.searchType)===a.state.searchType.indexOf(a.state.searchType)?e:null})):a.state.filterFiltered.filter((function(e){return e.exam_type.toLowerCase().indexOf(a.state.searchType)===a.state.searchType.indexOf(a.state.searchType)?e:null})),t=0===e.length?"No Such Type":0!==e.length&&"No Such Type"!==a.state.messageIfEmpty?a.state.messageIfEmpty:"";0===a.state.filterFiltered.length&&a.setState({filterFiltered:e}),a.setState({searchedUpcomingOrPast:e,page:1,messageIfEmpty:t}),a.paginate(1)},a.handleClick=function(e,t){"mail"===t?(a.props.history.push("/doctor/exam/detail/".concat(e,"/")),window.location.reload()):"video"===t?a.props.history.push("/doctor/video/exam/detail/".concat(e,"/#init")):"queue"===t&&a.props.history.push("/doctor/processing/video/exam/".concat(e,"/#init"))},a.ResetonSelectChange=function(){a.setState({filterFiltered:[]})},a.handlePageChange=function(e){a.setState({page:e}),a.paginate(e)},a.state={exam:[],statusValue:"",selectedStatus:"",token:sessionStorage.getItem("accessToken"),id:"",correspondence:[],lastInArray:null,replyClicked:!1,messageValue:"",selectedFile:"",doctor:"",declineReason:"",report:"",page:1,PageonNav:"",clientID:"",currentFilterClicked:"",searchName:"",searchType:"",messageIfEmpty:"",paginatedExams:[],searchedUpcomingOrPast:[],exams:[]},a.socket=new WebSocket("wss://healthcarebackend.xyz/ws/message/".concat(a.props.match.params.id,"/")),a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"componentWillUnmount",value:function(){this.socket.close()}},{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.id;this.setState({id:t,PageonNav:"consultDetail"}),this.detail(t),this.correspondence(t),this.socket.onopen=function(){console.log("connected")},this.socket.onmessage=function(a){var n=JSON.parse(a.data);console.log(n),n.exam_id===parseInt(t)&&(e.detail(e.state.id),e.correspondence(e.state.id))};var a="Bearer ".concat(this.state.token);de.a.get("https://healthcarebackend.xyz/api/doctor/profile/",{headers:{Authorization:a}}).then((function(t){t.data.data;e.connect()}))}},{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(Ke,{exam:this.state.exam,handleStatus:this.handleStatus,handleReplyClick:this.handleReplyClick,handleSubmitSend:this.handleSubmitSend,props:this.state,onChangeHandler:this.onChangeHandler,handleMessage:this.handleMessage,newMessage:this.newMessage,declineReason:this.declineReason,saveReason:this.saveReason,resetValue:this.resetValue,extendTextArea:this.extendTextArea,handlePage:this.handlePage,handleClick:this.handleClick,loading:this.state.loading,searchByType:this.searchByType,ResetonSelectChange:this.ResetonSelectChange,handlePageChange:this.handlePageChange,handleExtendDiv:this.handleExtendDiv,clearFile:this.clearFile}))}}]),t}(n.Component),Ze=Object(f.b)((function(e){return{connection:e.getIn(["connectToWebSocketReducer","connection"])}}),(function(e){return Object(g.bindActionCreators)({connectToWebSocket:He},e)}))($e),et=a(30),tt=(a(251),a(39)),at=a.n(tt),nt=a(40),lt=a.n(nt),st=function(e){var t=e.userType,a=e.handleEmail,n=e.handleFirstName,s=e.handleLastName,c=e.handlePass,r=e.handleAddress,o=e.handleBirthDate,i=e.handleSpec,d=e.handleSubmit,m=e.handleGenderRadio,u=e.handleUserType,p=e.handleConfPass,h=e.handlePhoneNumber,g=e.handleOrganization,f=e.handleImage1,y=e.handleImage2,E=e.props,v={control:function(e,t){return Object(et.a)({},e,{height:"40px",border:"1.7px solid #fa9551",borderRadius:"10px",flex:"1",fontWeight:"700",marginLeft:"2px",background:!E.selectedSpecValue&&E.color&&"rgb(245, 192, 192)",color:"#666666"})}};return l.a.createElement("div",{className:"mainRegisterDiv"},E.loading&&l.a.createElement("img",{src:H.a,className:"loading",alt:"loading...",style:{width:"150px"}}),l.a.createElement("img",{src:H.a,className:"logo",alt:"cLogo"}),l.a.createElement("div",{className:"radioDiv"},l.a.createElement("h1",{className:"head"},"Are you a doctor or a client?"),l.a.createElement("div",{className:"checkingInputs"},l.a.createElement("div",{className:"doctorORClient"},l.a.createElement("input",{className:"doctorRadio",type:"checkbox",name:"userType",value:"doctor",id:"r1",checked:"doctor"===E.userType,onChange:function(){return u("doctor")},style:{}}),l.a.createElement("label",{htmlFor:"r1",className:"doctorLabel"},"Doctor"),l.a.createElement("input",{className:"clientRadio",type:"checkbox",name:"userType",id:"r2",value:"client",checked:"client"===E.userType,onChange:function(){return u("client")}}),l.a.createElement("label",{htmlFor:"r2",className:"clientLabel"},"Client")),l.a.createElement("div",{className:"gender"},l.a.createElement("div",{className:"maleGender"},l.a.createElement("input",{className:"maleRadio",type:"radio",name:"userType",value:"Male",id:"M",onChange:function(){return m("M")}}),l.a.createElement("label",{htmlFor:"M",className:"Male"},"Male")),l.a.createElement("div",{className:"femaleGender"},l.a.createElement("input",{className:"femaleRadio",type:"radio",name:"userType",id:"F",value:"Female",onChange:function(){return m("F")}}),l.a.createElement("label",{htmlFor:"F",className:"Female"},"Female")),l.a.createElement("p",{style:{display:!E.selectedGenderValue&&E.color?"block":"none"}},"Select gender")))),l.a.createElement("form",{className:"register-form",autoComplete:"none"},l.a.createElement("div",{className:"firstLastGender"},l.a.createElement("div",{className:"reg-name"},l.a.createElement("label",{htmlFor:"firstname"},"First Name"),l.a.createElement("input",{type:"text",className:"form-control",autoComplete:"none",name:"field",id:"firstname",style:{background:!E.firstNameValue&&E.color&&"rgb(245, 192, 192)"},value:E.firstNameValue,onChange:n})),l.a.createElement("div",{className:"reg-surname"},l.a.createElement("label",{htmlFor:"lastname"},"Last Name"),l.a.createElement("input",{type:"text",className:"form-control",id:"lastname",autoComplete:"none",name:"field",style:{background:!E.lastNameValue&&E.color&&"rgb(245, 192, 192)"},value:E.lastNameValue,onChange:s}))),l.a.createElement("div",{className:"regPass"},l.a.createElement("div",{className:"reg-email"},l.a.createElement("label",{htmlFor:"email"},"E-mail"),l.a.createElement("input",{type:"email",className:"form-control",id:"email",style:{background:!E.emailValue&&E.color&&"rgb(245, 192, 192)"},autoComplete:"none",name:"field",value:E.emailValue,onChange:a})),"client"===t?l.a.createElement("div",{className:"address"},l.a.createElement("label",{htmlFor:"address"},"Address"),l.a.createElement("input",{type:"text",className:"form-control",autoComplete:"none",name:"field",style:{background:!E.addressValue&&E.color&&"rgb(245, 192, 192)"},id:"address",value:E.addressValue,onChange:r})):l.a.createElement("div",{className:"address"},l.a.createElement("label",{htmlFor:"phone"},"Phone number"),l.a.createElement("input",{type:"number",className:"form-control",id:"phone",autoComplete:"none",name:"field",style:{background:!E.phoneNumber&&E.color&&"rgb(245, 192, 192)"},value:E.phoneNumber,onChange:h}))),"client"===t&&l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"clientsBinfo"},l.a.createElement("div",{className:"reg-pass"},l.a.createElement("label",{htmlFor:"pwd"},"Password"),l.a.createElement("div",null,l.a.createElement("input",{type:E.seePass1?"text":"password",className:"form-control",autoComplete:"none",name:"field",id:"pwd",style:{background:!E.passwordValue&&E.color&&"rgb(245, 192, 192)"},value:E.passwordValue,onChange:c}),l.a.createElement("img",{onClick:f,src:E.seePass1?at.a:lt.a,alt:"img"}))),l.a.createElement("div",{className:"date"},l.a.createElement("label",{htmlFor:"birthdate"},"Birth Date"),l.a.createElement("input",{type:"date",className:"form-control dateOnRegister",id:"birthdate",autoComplete:"none",name:"field",style:{background:!E.birthDateValue&&E.color&&"rgb(245, 192, 192)",color:E.birthDateValue&&"#666666"},value:E.birthDateValue,onChange:o}))),l.a.createElement("div",{className:"confirmAndPhone"},l.a.createElement("div",{className:"conf-pass"},l.a.createElement("label",{htmlFor:"pwd"},"Confirm Password"),l.a.createElement("div",null,l.a.createElement("input",{type:E.seePass2?"text":"password",className:"form-control",id:"pwd",autoComplete:"none",name:"field",style:{background:!E.confPasswordValue&&E.color&&"rgb(245, 192, 192)"},value:E.confPasswordValue,onChange:p}),l.a.createElement("img",{onClick:y,src:E.seePass2?at.a:lt.a,alt:"img"}))),l.a.createElement("div",{className:"Phone"},l.a.createElement("label",{htmlFor:"phone"},"Phone number"),l.a.createElement("input",{type:"number",className:"form-control",id:"phone",autoComplete:"none",name:"field",style:{background:!E.phoneNumber&&E.color&&"rgb(245, 192, 192)"},value:E.phoneNumber,onChange:h})))),"doctor"===t&&l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"clientsBinfo"},l.a.createElement("div",{className:"reg-pass"},l.a.createElement("label",{htmlFor:"pwd"},"Password"),l.a.createElement("div",null,l.a.createElement("input",{type:E.seePass1?"text":"password",className:"form-control",id:"pwd",autoComplete:"none",name:"field",value:E.passwordValue,style:{background:!E.passwordValue&&E.color&&"rgb(245, 192, 192)"},onChange:c}),l.a.createElement("img",{onClick:f,src:E.seePass1?at.a:lt.a,alt:"img"}))),l.a.createElement("div",{className:"date"},l.a.createElement("label",{htmlFor:"organization"},"Organization"),l.a.createElement("input",{type:"text",className:"form-control",id:"organization",autoComplete:"none",name:"field",style:{background:!E.organization&&E.color&&"rgb(245, 192, 192)"},value:E.organization,onChange:g}))),l.a.createElement("div",{className:"doctorsBinfo"},l.a.createElement("div",{className:"prefix"},l.a.createElement("label",{htmlFor:"pwd"},"Confirm Password"),l.a.createElement("div",null,l.a.createElement("input",{type:E.seePass2?"text":"password",className:"form-control",id:"pwd",autoComplete:"none",name:"field",value:E.confPasswordValue,style:{background:!E.confPasswordValue&&E.color&&"rgb(245, 192, 192)"},onChange:p}),l.a.createElement("img",{onClick:y,src:E.seePass2?at.a:lt.a,alt:"img"}))),l.a.createElement("div",{className:"spec"},l.a.createElement("label",{htmlFor:"speciality"},"Speciality"),l.a.createElement(Ge.a,{type:"text",id:"speciality",value:E.specValue,options:E.specOptions,styles:v,onChange:i})))),l.a.createElement("div",{className:"register-button"},l.a.createElement("button",{type:"submit",className:"btn",autoComplete:"on",onClick:d},"Sign Up"))))},ct=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).handleImage1=function(){a.setState({seePass1:!a.state.seePass1})},a.handleImage2=function(){a.setState({seePass2:!a.state.seePass2})},a.handleUserType=function(e){a.setState({userType:e,seePass1:!1,seePass2:!1})},a.handleEmail=function(e){a.setState({emailValue:e.target.value})},a.handleFirstName=function(e){a.setState({firstNameValue:e.target.value})},a.handleLastName=function(e){a.setState({lastNameValue:e.target.value})},a.handlePass=function(e){a.setState({passwordValue:e.target.value})},a.handleConfPass=function(e){a.setState({confPasswordValue:e.target.value})},a.handleAddress=function(e){a.setState({addressValue:e.target.value})},a.handleBirthDate=function(e){a.setState({birthDateValue:e.target.value})},a.handleEmailPrice=function(e){a.setState({EmailPrice:e.target.value})},a.handleWebPrice=function(e){a.setState({WebPrice:e.target.value})},a.handlePhoneNumber=function(e){a.setState({phoneNumber:e.target.value})},a.handleOrganization=function(e){a.setState({organization:e.target.value})},a.handleSpec=function(e){a.setState({specValue:e});var t=e.value;a.setState({selectedSpecValue:t})},a.handleSubmit=function(e){e.preventDefault(),"client"===a.state.userType&&a.state.emailValue&&a.state.firstNameValue&&a.state.lastNameValue&&a.state.passwordValue&&a.state.selectedGenderValue&&a.state.phoneNumber&&a.state.addressValue&&a.state.birthDateValue&&a.state.confPasswordValue?(a.userRegister(),a.setState({loading:!0})):"doctor"===a.state.userType&&a.state.emailValue&&a.state.firstNameValue&&a.state.lastNameValue&&a.state.passwordValue&&a.state.confPasswordValue&&a.state.organization&&a.state.phoneNumber&&a.state.selectedGenderValue&&a.state.selectedSpecValue?(a.userRegister(),a.setState({loading:!0})):(oe.NotificationManager.error("All Fields Are Required","Failed!",2e3),a.setState({color:"red"}))},a.userRegister=function(){var e,t,n,l;return o.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:if("client"!==a.state.userType){s.next=15;break}return s.next=3,o.a.awrap(fetch("https://healthcarebackend.xyz/api/auth/register/client/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:a.state.emailValue,first_name:a.state.firstNameValue,last_name:a.state.lastNameValue,phone:a.state.phoneNumber,password:a.state.passwordValue,confirm_password:a.state.confPasswordValue,client:{gender:a.state.selectedGenderValue,address:a.state.addressValue,birth_date:a.state.birthDateValue}})}));case 3:return e=s.sent,s.next=6,o.a.awrap(e.json());case 6:return t=s.sent,console.log(t),t&&a.setState({loading:!1}),t.success&&oe.NotificationManager.success("Registered successfully","Successful!",4e3),t.success&&a.props.history.push("/Verification"),!t.success&&oe.NotificationManager.error("".concat(t.error?t.error[Object.keys(t.error)[0]]:t.message,', "Failed')),s.abrupt("return",t);case 15:if("doctor"!==a.state.userType){s.next=25;break}return s.next=18,o.a.awrap(fetch("https://healthcarebackend.xyz/api/auth/register/doctor/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:a.state.emailValue,first_name:a.state.firstNameValue,last_name:a.state.lastNameValue,phone:a.state.phoneNumber,password:a.state.passwordValue,confirm_password:a.state.confPasswordValue,doctor:{gender:a.state.selectedGenderValue,speciality:a.state.selectedSpecValue,organization:a.state.organization}})}));case 18:return n=s.sent,s.next=21,o.a.awrap(n.json());case 21:return l=s.sent,console.log(l),l.success?(a.props.history.push("/Verification"),oe.NotificationManager.success("Registered successfully","Successful!",4e3)):(oe.NotificationManager.error("".concat(l.error?l.error[Object.keys(l.error)[0]]:l.message,', "Failed')),a.setState({loading:!1})),s.abrupt("return",l);case 25:case"end":return s.stop()}}))},a.handleGenderRadio=function(e){a.setState({selectedGenderValue:e})},a.state={userType:"client",emailValue:"",firstNameValue:"",lastNameValue:"",passwordValue:"",confPasswordValue:"",addressValue:"",birthDateValue:"",EmailPrice:0,WebPrice:0,specOptions:[],specValue:"",selectedGenderValue:"",selectedSpecValue:"",phoneNumber:"",organization:"",seePass1:!1,seePass2:!1,loading:!1},a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this;de.a.get("https://healthcarebackend.xyz/api/specialities/").then((function(t){var a=t.data.data.map((function(e){return{value:e.id,label:e.name}}));e.setState({specOptions:a})}))}},{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"header"},l.a.createElement("div",null,l.a.createElement(re,null),l.a.createElement(me,null))),l.a.createElement(st,{props:this.state,userType:this.state.userType,handleEmail:this.handleEmail,handleFirstName:this.handleFirstName,handleLastName:this.handleLastName,handlePass:this.handlePass,handleAddress:this.handleAddress,handleBirthDate:this.handleBirthDate,handleEmailPrice:this.handleEmailPrice,handleWebPrice:this.handleWebPrice,handleSpec:this.handleSpec,handleSubmit:this.handleSubmit,handleGenderRadio:this.handleGenderRadio,handleUserType:this.handleUserType,handleConfPass:this.handleConfPass,handlePhoneNumber:this.handlePhoneNumber,handleOrganization:this.handleOrganization,handleImage1:this.handleImage1,handleImage2:this.handleImage2}))}}]),t}(n.Component),rt=a(33),ot=(a(252),function(e){var t=e.emailValue,a=e.passwordValue,n=e.submitted,s=(e.handleEmail,e.handlePassword),c=e.handleSubmit,r=e.handleChange,o=e.handleChangeRmb,i=e.rememberMe,d=e.handleImage1,m=e.seePass1,u=e.props;return l.a.createElement("div",{className:"mainLogin"},u.loading&&l.a.createElement("img",{src:H.a,className:"loading",alt:"loading...",style:{width:"150px"}}),l.a.createElement("img",{src:H.a,className:"logo",alt:"cLogo"}),l.a.createElement("h1",null,"Log in"),l.a.createElement("h5",null,"Not a Cdoctor user yet?"),l.a.createElement(h.b,{className:"createAccount",to:"/register"},"Create your account"),l.a.createElement("form",{className:"login-form"},l.a.createElement("div",{className:"email"},l.a.createElement("label",{htmlFor:"email"},"Email"),l.a.createElement("input",{type:"email",className:"form-control",id:"email",name:"emailValue",value:t||"",onChange:r})),l.a.createElement("div",{className:"password"},l.a.createElement("label",{htmlFor:"pwd"},"Password"),l.a.createElement("div",null,l.a.createElement("input",{type:m?"text":"password",className:"form-control",id:"pwd",value:a,onChange:s}),l.a.createElement("img",{onClick:d,src:m?at.a:lt.a,alt:"img"}))),l.a.createElement("div",{className:"rememberForgot"},l.a.createElement("div",{onClick:o},l.a.createElement("input",{name:"rememberMe",checked:i,onChange:r,type:"checkbox"})," ",l.a.createElement("label",{htmlFor:"rememberMe"},"Remember me")),l.a.createElement(h.b,{className:"forget",to:"/forgot-password"},"Forgot Password?")),l.a.createElement("div",{className:"login-button"},l.a.createElement("button",{type:"submit",className:"btn",value:n,onClick:c},"Log In"))))}),it=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).handleImage1=function(){a.setState({seePass1:!a.state.seePass1})},a.handlePassword=function(e){a.setState({passwordValue:e.target.value})},a.handleSubmit=function(e){e.preventDefault(),a.setState({loading:!0}),a.userLogin();var t=a.state,n=t.emailValue,l=t.rememberMe;localStorage.setItem("rememberMe",l),localStorage.setItem("emailValue",l?n:"")},a.userLogin=function(){var e,t;return o.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.a.awrap(fetch("https://healthcarebackend.xyz/api/auth/login/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:a.state.emailValue,password:a.state.passwordValue})}));case 2:return e=n.sent,n.next=5,o.a.awrap(e.json());case 5:if((t=n.sent)&&a.setState({loading:!1}),!1!==t.success||400!==t.status_code){n.next=11;break}oe.NotificationManager.error("".concat(t.error),"Failed!",3e3),n.next=24;break;case 11:if("Invalid credentials"!==t.detail&&"User does not exist"!==t.detail&&!t.error){n.next=15;break}oe.NotificationManager.error("".concat(t.error),"Failed!",2e3),n.next=24;break;case 15:if(""!==a.state.emailValue&&""!==a.state.passwordValue){n.next=19;break}oe.NotificationManager.error("All Fields Are Required","Failed!",2e3),n.next=24;break;case 19:return t.is_doctor?a.setState({is_doctor:!0}):a.setState({is_doctor:!1}),a.props.dispatch(C(t.data)),t.data.access_token&&(sessionStorage.setItem("accessToken",t.data.access_token),sessionStorage.setItem("expiresIn",t.data.expires_in),sessionStorage.setItem("is_doctor",a.state.is_doctor),localStorage.setItem("refreshToken",t.data.refresh_token),sessionStorage.setItem("firstTime",!0),a.props.dispatch({type:"USERS_LOGIN_SUCCESS"})),a.redirectUser(),n.abrupt("return",t);case 24:case"end":return n.stop()}}))},a.redirectUser=function(){a.props.isLoggedIn?a.state.is_doctor?a.props.history.push({pathname:"/dashboard-doctor"}):a.props.history.push("/dashboard-client"):a.props.history.push("/login")},a.handleChange=function(e){var t=e.target,n="checkbox"===t.type?t.checked:t.value;a.setState(Object(rt.a)({},t.name,n))},a.handleChangeRmb=function(){a.setState({rememberMe:!a.state.rememberMe})},a.state={emailValue:"",passwordValue:"",submitted:!1,is_doctor:!1,invalid:!1,rememberMe:!1,seePass1:!1,loading:!1},a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e="true"===localStorage.getItem("rememberMe"),t=e?localStorage.getItem("emailValue"):localStorage.removeItem("emailValue");this.setState({emailValue:t,rememberMe:e})}},{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"header"},l.a.createElement("div",null,l.a.createElement(re,null),l.a.createElement(me,null))),l.a.createElement(ot,{emailValue:this.state.emailValue,passwordValue:this.state.passwordValue,submitted:this.state.submitted,handleEmail:this.handleEmail,seePass1:this.state.seePass1,handlePassword:this.handlePassword,handleSubmit:this.handleSubmit,handleRememberClick:this.handleRememberClick,rememberMe:this.state.rememberMe,handleChange:this.handleChange,handleChangeRmb:this.handleChangeRmb,handleImage1:this.handleImage1,props:this.state}))}}]),t}(n.Component),dt=Object(f.b)((function(e){return{user:e.getIn(["authReducer","user"]),isLoggedIn:e.getIn(["authReducer","isLoggedIn"])}}))(it),mt=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).handleSubmit=function(){var e,t,n;return o.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:return e="Bearer ".concat(sessionStorage.getItem("accessToken")),(t=new FormData).append("user.first_name",""),t.append("user.last_name",""),t.append("user.phone",""),t.append("biography",""),t.append("email_exam_price",""),t.append("web_exam_price",""),t.append("web_exam_follow_price",""),t.append("image",""),t.append("organization",""),t.append("start_hour",""),t.append("end_hour",""),t.append("email_currency",""),t.append("web_currency",""),t.append("web_follow_up_currency",""),t.append("speciality",a.props.location.spec),t.append("status","Offline"),t.append("waiting_room_price",""),t.append("waiting_room_currency",""),t.append("web_exam_status",""),t.append("email_exam_status",""),t.append("waiting_room_status",""),t.append("web_exam_follow_status",""),"https://healthcarebackend.xyz/api/doctor/profile/",n=de.a.put("https://healthcarebackend.xyz/api/doctor/profile/",t,{headers:{"content-type":"multipart/form-data",Authorization:e}}),l.next=28,o.a.awrap(n);case 28:l.sent.data.success;case 30:case"end":return l.stop()}}))},a.handleLogout=function(e){"true"===sessionStorage.getItem("is_doctor")&&a.handleSubmit(),sessionStorage.clear(),localStorage.removeItem("refreshToken"),a.props.dispatch({type:"USERS_LOGIN_FAILURE"}),a.redirectUser()},a.redirectUser=function(){a.props.history.push("/login")},a.state={},a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.handleLogout()}},{key:"componentDidUpdate",value:function(){this.handleLogout()}},{key:"render",value:function(){return l.a.createElement("div",{className:"container"},l.a.createElement(re,null),l.a.createElement(me,{handleLogout:this.handleLogout}))}}]),t}(n.Component),ut=Object(f.b)((function(e){return{user:e.get("user"),isLoggedIn:e.get("isLoggedIn")}}))(mt),pt=(a(253),function(e){var t=e.specialities,a=e.subject,n=e.submitted,s=e.message,c=e.handleSpeciality,r=e.handleDoctor,o=e.handleSubject,i=e.handleSubmit,d=e.handleMessage,m=(e.specDoctor,e.resetDoctorSelect,e.handleAttach),u=(e.isClicked,e.clearFile),p=e.props,h={control:function(e,t){return Object(et.a)({},e,{height:33,minHeight:"33px",border:"1.7px solid #fa9551",borderRadius:"10px",width:"100%",background:p.color&&0===p.specialSP.length?"rgb(245, 192, 192)":"white",color:"#666666",fontWeight:"500",div:{display:"flex",alignSelf:"center",height:"33px"}})},placeholder:function(){return{color:"#666666",fontWeight:"500",heigth:"33px"}},valueContainer:function(e,t){return Object(et.a)({},e,{height:"33px",padding:"6px"})},input:function(e,t){return Object(et.a)({},e,{margin:"0px"})},indicatorSeparator:function(e){return{display:"none"}},indicatorsContainer:function(e,t){return Object(et.a)({},e,{height:"33px",div:{padding:"5px",alignSelf:"center",height:"33px"}})},singleValue:function(){return{}}},g={control:function(e,t){return Object(et.a)({},e,{height:33,minHeight:"33px",border:"1.7px solid #fa9551",borderRadius:"10px",width:"100%",background:p.color&&!p.doctor_id?"rgb(245, 192, 192)":"white",color:"#666666",fontWeight:"500",div:{display:"flex",alignSelf:"center",height:"33px"}})},placeholder:function(){return{color:"#666666",fontWeight:"500",heigth:"33px"}},valueContainer:function(e,t){return Object(et.a)({},e,{height:"33px",padding:"6px"})},input:function(e,t){return Object(et.a)({},e,{margin:"0px"})},indicatorSeparator:function(e){return{display:"none"}},indicatorsContainer:function(e,t){return Object(et.a)({},e,{height:"33px",div:{padding:"5px",alignSelf:"center",height:"33px"}})},singleValue:function(){return{}}};return l.a.createElement("div",{className:"exam"},l.a.createElement("div",{className:"mainExam"},l.a.createElement("div",{className:"newEmail"},l.a.createElement("h4",null,"New Email")),l.a.createElement("div",{className:"exam-spec"},l.a.createElement(Ge.a,{type:"text",styles:h,id:"speciality",placeholder:p.currentSpec?p.currentSpec:"Select Speciality...",options:t,onChange:c})),l.a.createElement("div",{className:"exam-doc"},l.a.createElement(Ge.a,{styles:g,type:"text",id:"doctor",placeholder:"Select Doctor...",options:0===p.specDoctor.length?p.doctors:p.specDoctor,onChange:r,value:p.resetDoctorSelect})),l.a.createElement("div",{className:"exam-sub"},l.a.createElement("input",{type:"text",className:"form-control",id:"subject",maxLength:"35",style:{background:p.color&&!a?"rgb(245, 192, 192)":"white"},placeholder:"Enter subject",value:a,onChange:o}))),l.a.createElement("div",{className:"exam-mess"},l.a.createElement("div",{className:"messageTitle"},"Message:"),l.a.createElement("div",{className:"messageAndAttach",style:{background:p.color&&!s?"rgb(245, 192, 192)":"white"}},l.a.createElement("textarea",{type:"text",className:"form-control",id:"exam-message",placeholder:"Enter message",style:{background:p.color&&!s?"rgb(245, 192, 192)":"white"},value:s,onChange:d}),l.a.createElement("div",{className:"mainDivForFile"},l.a.createElement("div",{className:"upload-btn-wrapper"},l.a.createElement("button",{className:"btnn"},l.a.createElement("div",{className:"attachDiv"},l.a.createElement("p",null,"Add file"))),l.a.createElement("input",{type:"file",name:"myfile",id:"useForCleaning",onChange:m,multiple:!0})),p.attach&&l.a.createElement("div",{className:"fileForDownload"},l.a.createElement("p",null,p.attach.name.substring(p.attach.name.lastIndexOf("/")+1)),l.a.createElement("a",{onClick:u,className:"deleteB"},"X")))),l.a.createElement("div",{className:"buttons"},l.a.createElement("button",{value:n,className:"btn",onClick:i},"Submit"))))});function ht(e){return{type:"DOCTOR_OBJ",doctor:e}}var gt=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).handleAttach=function(e){a.setState({attach:e.target.files[0]})},a.handleSpeciality=function(e){var t=a.state.doctors.filter((function(t){return t.spec===e.label}));a.setState({specialSP:e.value,specDoctor:t,resetDoctorSelect:null})},a.handleDoctor=function(e){console.log(e),"True"!==e.email_exam_status&&(a.setState({emailExamStatus:!1}),oe.NotificationManager.error("This Doctor doesn't provide this services","Warning",2e3));var t=a.state.specialities.filter((function(t){return t.label===e.spec}));a.props.dispatch(ht(e)),a.setState({doctor_id:e.iD,price:e.price,currency:e.currency}),a.setState({resetDoctorSelect:e,specialSP:t[0].value,currentSpec:t[0].label})},a.handleSubject=function(e){a.setState({subject:e.target.value})},a.handleMessage=function(e){a.setState({message:e.target.value})},a.handleSubmit=function(e){var t,n,l,s;return o.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:if(e.preventDefault(),a.setState({color:"red"}),!a.state.emailExamStatus){c.next=25;break}if(!(a.state.specialSP&&a.state.doctor_id&&a.state.subject&&a.state.message)){c.next=22;break}return(t=new FormData).append("speciality",a.state.specialSP),t.append("doctor",a.state.doctor_id),t.append("subject",a.state.subject),t.append("attachment",a.state.attach),t.append("message",a.state.message),n="Bearer ".concat(a.state.token),"https://healthcarebackend.xyz/api/client/initiate/",l=de.a.post("https://healthcarebackend.xyz/api/client/initiate/",t,{headers:{"content-type":"multipart/form-data",Authorization:n}}),c.next=15,o.a.awrap(l);case 15:return s=c.sent,console.log(s),a.setState({transaction_id:s.data.data.transaction}),s.data.success&&a.toCheckout(),c.abrupt("return",l);case 22:oe.NotificationManager.error("Empty Fields","Failed!",2e3);case 23:c.next=26;break;case 25:oe.NotificationManager.error("This Doctor doesn't provide this services","Warning",2e3);case 26:case"end":return c.stop()}}))},a.clearFile=function(){a.setState({attach:""}),document.getElementById("useForCleaning").value=""},a.toCheckout=function(){return o.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:if("0.00"===a.state.price){e.next=4;break}return e.abrupt("return",a.props.history.push({pathname:"/checkout",state:{price:a.state.price,currency:a.state.currency,transaction_id:a.state.transaction_id}}));case 4:a.props.history.push("/dashboard-client");case 5:case"end":return e.stop()}}))},a.state={complete:!1,specialities:[],doctors:[],filtered:[],subject:"",message:"",submitted:!1,price:null,currentSpec:"",doctor_id:null,token:sessionStorage.getItem("accessToken"),specDoctor:[],specialSP:[],resetDoctorSelect:null,attach:"",currency:null,color:"",emailExamStatus:!0,transaction_id:""},a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this;de.a.get("https://healthcarebackend.xyz/api/specialities/").then((function(t){console.log(t,"examform");var a=t.data.data.map((function(e){return{value:e.id,iD:e.speciality_id,label:e.name}}));e.setState({specialities:a})})),de.a.get("https://healthcarebackend.xyz/api/doctor/list/").then((function(t){if(console.log(t,"examform2"),t.data.data){var a=t.data.data.map((function(e){return{value:e.id,iD:e.id,label:e.doctor,spec:e.speciality,price:e.email_exam_price,currency:e.email_currency,email_exam_status:e.email_exam_status}}));e.setState({doctors:a}),e.props.location.state&&t.data.data.filter((function(t){if(t.id===e.props.location.state.doctorId){var a={value:t.id,iD:t.id,label:t.doctor,spec:t.speciality,price:t.email_exam_price,currency:t.email_currency,email_exam_status:t.email_exam_status};e.handleDoctor(a)}}))}else oe.NotificationManager.warning("".concat(t.data.message),"Failed!",2e3)})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){return console.log(this.state.emailExamStatus),l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"header"},l.a.createElement("div",null,l.a.createElement(re,null),l.a.createElement(me,null))),l.a.createElement(pt,{specialities:this.state.specialities,subject:this.state.subject,message:this.state.message,submitted:this.state.submitted,handleSpeciality:this.handleSpeciality,handleDoctor:this.handleDoctor,handleSubject:this.handleSubject,handleSubmit:this.handleSubmit,handleMessage:this.handleMessage,props:this.state,specDoctor:this.state.specDoctor,resetDoctorSelect:this.state.resetDoctorSelect,handleAttach:this.handleAttach,clearFile:this.clearFile}))}}]),t}(n.Component),ft=Object(f.b)((function(e){return{doctor:e.getIn(["doctorReducer","doctor"]),price:e.price}}))(gt),yt=(a(254),a(168)),Et=a.n(yt),vt=null,bt=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).createOrder=function(e,t){if(0!==a.props.amount)return t.order.create({purchase_units:[{description:NaN,amount:{currency_code:"EUR",value:a.props.amount}}]});oe.NotificationManager.error("Doctor did not set his price","Faild",3e3)},a.onApprove=function(e,t){0!==a.props.amount&&t.order.capture().then((function(t){var n={payerID:e.payerID,orderID:e.orderID};console.log("Payment Approved: ",n),a.setState({showButtons:!1,paid:!0})}))},a.state={showButtons:!1,loading:!0,paid:!1},window.React=l.a,window.ReactDOM=c.a,a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.isScriptLoaded,a=e.isScriptLoadSucceed;t&&a&&(vt=window.paypal.Buttons.driver("react",{React:l.a,ReactDOM:c.a}),this.setState({loading:!1,showButtons:!0}))}},{key:"componentWillReceiveProps",value:function(e){var t=e.isScriptLoaded,a=e.isScriptLoadSucceed;!this.state.showButtons&&!this.props.isScriptLoaded&&t&&a&&(vt=window.paypal.Buttons.driver("react",{React:l.a,ReactDOM:c.a}),this.setState({loading:!1,showButtons:!0}))}},{key:"render",value:function(){var e=this;console.log(this.props);var t=this.state,a=t.showButtons,n=t.paid;return l.a.createElement("div",{className:"main",style:{margin:"40px auto 0 auto",width:"300px"}},a&&l.a.createElement("div",null,l.a.createElement(vt,{style:{size:"small",color:"gold",shape:"pill",label:"checkout",layout:"horizontal",tagline:"true",commit:"true"},createOrder:function(t,a){return e.createOrder(t,a)},onApprove:function(t,a){return e.onApprove(t,a)}})),n&&l.a.createElement("div",{className:"main"},l.a.createElement("h2",{style:{color:"#4092c2"}},"Congrats!"," ",l.a.createElement("span",{role:"img","aria-label":"emoji"}," ","\ud83d\ude09"))))}}]),t}(l.a.Component),xt=Et()("https://www.paypal.com/sdk/js?client-id=".concat("sb","&currency=EUR"))(bt),Nt=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e){a.setState(Object(rt.a)({},e.elementType,e.complete)),document.getElementById("CardElement").style.backgroundColor=!a.state.cardNumber&&"white",document.getElementById("Expire").style.backgroundColor=a.state.cardExpiry&&"white",document.getElementById("elementCvc").style.backgroundColor=a.state.cardCvc&&"white"},a.handleReady=function(){console.log("[ready]")},a.handleSubmit=function(e){var t,n,l,s,c,r,i;return o.a.async((function(d){for(;;)switch(d.prev=d.next){case 0:if(e.preventDefault(),t=parseInt(a.props.location.state.price,10),n=a.props.location.state.currency,l=a.props.location.state.transaction_id,a.setState({color:"red"}),document.getElementById("CardElement").style.backgroundColor=a.state.cardNumber?"white":"rgb(245, 192, 192)",document.getElementById("Expire").style.backgroundColor=a.state.cardExpiry?"white":"rgb(245, 192, 192)",document.getElementById("elementCvc").style.backgroundColor=a.state.cardCvc?"white":"rgb(245, 192, 192)",!(a.props.stripe&&a.state.name&&a.state.cardNumber&&a.state.cardExpiry&&a.state.cardCvc)){d.next=27;break}return a.setState({loading:!0}),d.next=15,o.a.awrap(a.props.stripe.createPaymentMethod("card",{}));case 15:return s=d.sent,c="Bearer ".concat(a.state.token),d.next=19,o.a.awrap(fetch("https://healthcarebackend.xyz/api/payment/charge/",{method:"POST",headers:{"Content-Type":"application/json",Authorization:c},body:JSON.stringify({payment_method_id:s.paymentMethod.id,amount:t,currency:n,transaction_id:l})}));case 19:return r=d.sent,d.next=22,o.a.awrap(r.json());case 22:(i=d.sent)&&a.setState({loading:!1}),"Payment completed"===i.message?(a.setState({complete:!0}),oe.NotificationManager.success("Checkout Completed","Successful!",2e3)):(oe.NotificationManager.error("Faild to Checkout","Faild!",2e3),console.log("Stripe.js hasn't loaded yet.")),d.next=28;break;case 27:oe.NotificationManager.error("Empty Fields","Faild!",2e3);case 28:case"end":return d.stop()}}))},a.handleServerResponse=function(e){var t,n,l,s;return o.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:if(!e.error){c.next=3;break}c.next=23;break;case 3:if(!e.requires_action){c.next=22;break}return c.next=6,o.a.awrap(a.props.stripe.handleCardAction(e.payment_intent_client_secret));case 6:if(t=c.sent,n=t.error,l=t.paymentIntent,!n){c.next=12;break}c.next=20;break;case 12:return c.next=14,o.a.awrap(fetch("https://healthcarebackend.xyz/api/pay",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({payment_intent_id:l.id})}));case 14:return s=c.sent,c.t0=a,c.next=18,o.a.awrap(s.json());case 18:c.t1=c.sent,c.t0.handleServerResponse.call(c.t0,c.t1);case 20:c.next=23;break;case 22:oe.NotificationManager.success("Completed","Successful!",2e3);case 23:case"end":return c.stop()}}))},a.handleSelect=function(){a.setState({selectedCard:!0,selectedPal:!1})},a.handleSelectPal=function(){a.setState({selectedCard:!1,selectedPal:!0})},a.handleReady=function(e){a.setState({cardElement:e})},a.handleName=function(e){a.setState({name:e.target.value})},a.state={complete:!1,selectedCard:!0,selectedPal:!1,cardNumber:!1,cardCvc:!1,cardExpiry:!1,loading:!1,name:"",color:"",token:sessionStorage.getItem("accessToken")},a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=function(e,t,a){return{style:{base:{color:"#666666",letterSpacing:"0.025em",fontSize:"14px",fontWeight:"bold","::placeholder":{color:"#666666",fontSize:"14px",fontWeight:"450"},padding:t},invalid:{color:"#9e2146"}}}};return this.state.complete?this.props.location.state.location?l.a.createElement(se.a,{to:this.props.location.state.location}):l.a.createElement(se.a,{to:"/dashboard-client"}):l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"header"},l.a.createElement("div",null,l.a.createElement(re,null),l.a.createElement(me,null))),l.a.createElement("h1",{className:"mainTitle"},"Payment"),l.a.createElement("p",{className:"underTitle"},"Choose payment method below"),l.a.createElement("div",{className:"mainCardDiv"},this.state.loading&&l.a.createElement("img",{src:H.a,className:"loading",alt:"loading...",style:{width:"150px"}}),l.a.createElement("div",{className:"payWay"},l.a.createElement("div",{className:"cardIcon",style:{background:this.state.selectedCard?"white":"transparent"},onClick:this.handleSelect},l.a.createElement(ue.a,{className:"icon"})),l.a.createElement("div",{className:"paypalIcon",style:{background:this.state.selectedPal?"white":"transparent"},onClick:this.handleSelectPal},l.a.createElement(ue.e,{className:"icon"}))),this.state.selectedCard?l.a.createElement("div",{className:"mainBillDiv"},l.a.createElement("div",{className:"billingInfo"},l.a.createElement("h1",null,"Billing Info"),l.a.createElement("label",{htmlFor:"fullName"},"Full Name",l.a.createElement("br",null),l.a.createElement("input",{style:{background:!this.state.name&&this.state.color&&"rgb(245, 192, 192)"},id:"fullName",onChange:this.handleName,placeholder:"Full Name",type:"text"})),l.a.createElement("h1",{className:"totalPrice"},"Total:"," ",void 0===this.props.location.state?0:this.props.location.state.price?this.props.location.state.price:0," ",this.props.location.state.currency)),l.a.createElement("div",{className:"creditCardInfo"},l.a.createElement("h1",null,"Credit Card Info"),l.a.createElement("form",{onSubmit:this.handleSubmit},l.a.createElement("label",null,"Card Number",l.a.createElement(N.CardNumberElement,Object.assign({className:"CardElement",id:"CardElement",onChange:this.handleChange,onReady:this.handleReady},e(this.props.fontSize)))),l.a.createElement("label",null,"Expiration Date",l.a.createElement(N.CardExpiryElement,Object.assign({className:"CardElement",id:"Expire",onChange:this.handleChange,onReady:this.handleReady},e(this.props.fontSize)))),l.a.createElement("label",null,"CVC",l.a.createElement(N.CardCVCElement,Object.assign({className:"CardElement cvc",id:"elementCvc",onChange:this.handleChange,onReady:this.handleReady},e(this.props.fontSize)))),l.a.createElement("button",{className:"btn-checkout"}," Submit ")))):this.state.selectedPal?l.a.createElement("div",null,l.a.createElement(xt,{amount:this.props.location.state?this.props.location.state.price:0})):null))}}]),t}(n.Component),St=Object(g.compose)(Object(f.b)((function(e){var t=e.getIn(["doctorReducer","doctor"]);return console.log(t),{doctor:t}})),N.injectStripe)(Nt),Ct=(a(257),a(98)),kt=a.n(Ct),Dt=a(169),wt=a.n(Dt),Ot=a(64),Pt=a.n(Ot),_t=a(38),At=a.n(_t),Tt=function(e){var t=e.doctor,a=e.days,n=e.handleSubmit,s=e.handleSelect,c=e.handleSelect2,r=e.handleSelect3,o=(e.handleSelect4,e.status),i=e.selectValue,d=e.props,m=e.handleChange,u=e.addAttach,p=e.handleSpeciality,h=(e.handleChangeBiography,e.deletePicture),g=e.handleDeleteImageShow,f=e.handlePage,y=e.handleServiceRadio,E=e.handlePlusImg,v=e.handleMinusImage,b=e.handleSubmitForWorkingHours,x=e.handleSelectForDays,N=e.handleChangeTime,S=e.handleChangeTimeEnd,C=e.handleChangeService,k=a.map((function(e){return d.daysAndTime.includes(JSON.parse(e.value))?Object.assign(e,{isdisabled:!0}):0!==d.daysAndTime.length&&"7"===e.value?Object.assign(e,{isdisabled:!0}):0!==d.daysAndTime.length&&d.daysAndTime.includes(JSON.parse(8))?Object.assign(e,{isdisabled:"5"!==e.value&&"6"!==e.value&&!0}):0!==d.daysAndTime.length&&d.daysAndTime.some((function(e){return e>=0&&e<=4}))?Object.assign(e,{isdisabled:"8"===e.value&&!0}):(delete e.isdisabled,e)})),D={control:function(){return{width:"85px",border:"1.7px solid #fa9551",borderRadius:"10px",height:"33px",fontWeight:500,display:"flex",background:"white",marginLeft:"10px",marginRight:"20px",div:{display:"flex",alignSelf:"center"}}},option:function(){return{height:"30px",alignSelf:"center",padding:"5px 0 0 0","&:hover":{background:"#fa9551"}}},placeholder:function(e,t){return Object(et.a)({},e,{display:t.isFocused||t.isSelected||t.selectProps.inputValue||t.value?"none":"block"})}},w={control:function(){return{width:"100%",border:"1.7px solid #fa9551",borderRadius:"10px",height:"33px",fontWeight:700,display:"flex",background:"white",margin:"2px 0 20px 0",div:{display:"flex",alignSelf:"center"}}},option:function(){return{height:"30px",alignSelf:"center",padding:"5px 0 0 0","&:hover":{background:"#fa9551"}}},placeholder:function(e,t){return Object(et.a)({},e,{color:"#969696",display:t.isFocused||t.isSelected||t.selectProps.inputValue||t.value?"none":"block"})}},O={control:function(){return{width:"185px",border:"1.7px solid #fa9551",borderRadius:"10px",height:"33px",fontWeight:500,display:"flex",background:"white",marginRight:"40px",fontSize:"14px",div:{display:"flex",alignSelf:"center"}}},option:function(e,t){return Object(et.a)({},e,{height:"30px",alignSelf:"center",padding:"5px 0 0 0","&:hover":{background:"#fa9551"},display:t.isDisabled&&"none"})},placeholder:function(e,t){return Object(et.a)({},e,{display:t.isFocused||t.isSelected||t.selectProps.inputValue||t.value?"none":"block"})}};return l.a.createElement(l.a.Fragment,null,t&&t.map((function(e){return l.a.createElement("div",{key:e.id,className:"mainDoctor"},l.a.createElement("div",{className:"newVideo"},l.a.createElement("div",{className:"profileDoc",style:{borderBottom:"DocProfile"===d.page&&"4px solid #fa9551"},onClick:function(){f("DocProfile")}},l.a.createElement("h4",{style:{fontWeight:"DocProfile"===d.page&&"bold"}},"Doctor profile")),l.a.createElement("div",{className:"profileDoc",style:{borderBottom:"Services"===d.page&&"4px solid #fa9551"},onClick:function(){f("Services")}},l.a.createElement("h4",{style:{fontWeight:"Services"===d.page&&"bold"}},"Services")),l.a.createElement("div",{className:"profileDoc",style:{borderBottom:"WorkHours"===d.page&&"4px solid #fa9551"},onClick:function(){f("WorkHours")}},l.a.createElement("h4",{style:{fontWeight:"WorkHours"===d.page&&"bold"}},"Working Hours"))),l.a.createElement("div",{style:{display:"DocProfile"!==d.page?"none":"flex",width:"100%"}},l.a.createElement("div",{className:"doctor"},l.a.createElement("div",{className:"doctor-p"},l.a.createElement("label",{htmlFor:"firstName"},"First Name"),l.a.createElement("input",{onFocus:function(t){t.target.value=e.user.first_name},onBlur:function(e){e.target.value=""},placeholder:e.user.first_name,id:"FirstName",onChange:m,type:"text"}),l.a.createElement("label",{htmlFor:"lastName"},"Last Name"),l.a.createElement("input",{placeholder:e.user.last_name,onFocus:function(t){t.target.value=e.user.last_name},onBlur:function(e){e.target.value=""},id:"LastName",onChange:m,type:"text"}),l.a.createElement("label",{htmlFor:"Phone"},"Phone number"),l.a.createElement("input",{onFocus:function(t){t.target.value=e.user.phone},onBlur:function(e){e.target.value=""},placeholder:e.user.phone?e.user.phone:"11 22 33 44",autoComplete:"nope",onChange:m,id:"PhoneNum",type:"number"}),l.a.createElement("label",{htmlFor:"lastName"},"E-mail"),l.a.createElement("input",{placeholder:e.user.email,disabled:!0,id:"Email",onChange:m,type:"text"}),l.a.createElement("label",{htmlFor:"Phone"},"Organization"),l.a.createElement("input",{onFocus:function(t){t.target.value=e.organization},onBlur:function(e){e.target.value=""},placeholder:e.organization?e.organization:"",autoComplete:"nope",onChange:m,id:"Organization",type:"text"}),l.a.createElement("button",{style:{display:!d.showSaveProfile&&"none"},onClick:n,className:"saveChanges"},"Save"))),l.a.createElement("div",{className:"form"},l.a.createElement("label",{htmlFor:"picture"},"Picture"),l.a.createElement("div",{className:"imageAndGender"},l.a.createElement("div",{className:"profilePic"},l.a.createElement("div",{className:"upload-btn-wrapper",onMouseEnter:g,onMouseLeave:g},l.a.createElement("button",{className:"btn"},l.a.createElement("img",{className:"docImage",src:e.image.includes("default")?kt.a:"https://healthcarebackend.xyz".concat(e.image),alt:"profile"})),l.a.createElement("input",{type:"file",name:"myfile",onChange:u}),l.a.createElement("button",{className:"deleteImage",style:{display:d.showDeleteImage&&!e.image.includes("default")?"block":"none"},onClick:h}," X")))),l.a.createElement("div",{className:"allergies"},l.a.createElement("div",{className:"Nameing"},l.a.createElement("p",null," Biography"," ")),l.a.createElement("div",{className:"textAndProfile"},l.a.createElement("textarea",{type:"text",className:"address-input",onChange:m,onFocus:function(t){t.target.defaultValue=e.biography},onBlur:function(e){e.target.defaultValue=""},id:"Biography",placeholder:e.biography}))),l.a.createElement("label",{style:{marginTop:"15px"},htmlFor:"speciality"},"Speciality"),l.a.createElement("div",{className:"exam-spec"},l.a.createElement(Ge.a,{type:"text",styles:w,isSearchable:!1,id:"speciality",placeholder:e.spec_name,options:d.specialities,onChange:p})))),l.a.createElement("div",{className:"Services",style:{display:"Services"!==d.page&&"none"}},l.a.createElement("div",{className:"mainEmailVisit",style:{opacity:"True"===d.EmailVisitChecked&&1}},l.a.createElement("div",{className:"emailVisit"},l.a.createElement("label",{htmlFor:"EmailVisit"},"Email consultation"),l.a.createElement("input",{type:"number",disabled:"True"!==d.EmailVisitChecked&&!0,onChange:C,id:"EmailVisit",value:parseFloat(d.EmailVisit).toFixed(2),placeholder:e.email_exam_price}),l.a.createElement(Ge.a,{type:"text",className:"select-option",styles:D,value:i,isDisabled:"True"!==d.EmailVisitChecked&&!0,options:o,placeholder:e.email_currency?e.email_currency:"USD",onChange:s})),l.a.createElement("input",{type:"checkbox",checked:"True"===d.EmailVisitChecked&&!0,name:"EmailVisitChecked",id:"EmailVisitChecked",onChange:function(e){return y(e)}}),l.a.createElement("label",{htmlFor:"EmailVisitChecked"})),l.a.createElement("div",{className:"mainVideoVisit",style:{opacity:"True"===d.VideoVisitChecked&&1}},l.a.createElement("div",{className:"videoVisit"},l.a.createElement("label",{htmlFor:"videoVisit"},"Video consultation"),l.a.createElement("input",{type:"number",disabled:"True"!==d.VideoVisitChecked&&!0,onChange:C,id:"VideoVisit",value:parseFloat(d.VideoVisit).toFixed(2),placeholder:e.web_exam_price}),l.a.createElement(Ge.a,{type:"text",className:"select-option",styles:D,value:i,isDisabled:"True"!==d.VideoVisitChecked&&!0,options:o,placeholder:e.web_currency?e.web_currency:"USD",onChange:c})),l.a.createElement("input",{type:"checkbox",checked:"True"===d.VideoVisitChecked&&!0,name:"VideoVisitChecked",id:"VideoVisitChecked",onChange:function(e){return y(e)}}),l.a.createElement("label",{htmlFor:"VideoVisitChecked"})),l.a.createElement("div",{className:"mainVideoFollowUp",style:{opacity:"True"===d.VideoVisitFollowUp&&1}},l.a.createElement("div",{className:"videoFollowUp"},l.a.createElement("label",{htmlFor:"videoFollowUp"},"Video follow up"),l.a.createElement("input",{type:"number",disabled:"True"!==d.VideoVisitFollowUp&&!0,onChange:C,id:"VideoFollowUp",value:parseFloat(d.VideoFollowUp).toFixed(2),placeholder:e.web_exam_follow_price}),l.a.createElement(Ge.a,{type:"text",className:"select-option",styles:D,value:i,options:o,isDisabled:"True"!==d.VideoVisitFollowUp&&!0,placeholder:e.web_follow_up_currency?e.web_follow_up_currency:"USD",onChange:r})),l.a.createElement("input",{type:"checkbox",checked:"True"===d.VideoVisitFollowUp&&!0,name:"VideoVisitFollowUp",id:"VideoVisitFollowUp",onChange:function(e){return y(e)}}),l.a.createElement("label",{htmlFor:"VideoVisitFollowUp"})),l.a.createElement("button",{style:{display:!d.showSaveService&&"none"},onClick:n,className:"saveChanges"},"Save")),l.a.createElement("div",{className:"mainWorkHours",style:{display:"WorkHours"!==d.page&&"none"}},d.daysInArray.includes(0)||0===d.daysInArray.length?l.a.createElement("div",{key:"0",id:"0",className:"workHoursDiv"},l.a.createElement(Ge.a,{type:"text",className:"select-option",styles:O,value:i,options:k,isDisabled:d.daysAndTime.includes(0),isOptionDisabled:function(e){return e.isdisabled},placeholder:0!==d.daysAndTimeAndDays.length&&d.daysAndTimeAndDays.filter((function(e){return 0===e.day}))[0]&&0===d.daysAndTimeAndDays.filter((function(e){return 0===e.day}))[0].day?"Monday":"Select...",onChange:x}),l.a.createElement(At.a,{colon:":",showSeconds:!1,onChange:function(e){return N(e,0)},onClick:function(e){return N(e,0)},value:0!==d.daysAndTimeAndDays.length&&d.daysAndTimeAndDays.filter((function(e){return 0===e.day}))[0]?d.daysAndTimeAndDays.filter((function(e){return 0===e.day}))[0].start_hour:"00:00"}),l.a.createElement("p",null,"-"),l.a.createElement(At.a,{colon:":",showSeconds:!1,onChange:function(e){return S(e,0)},onClick:function(e){return S(e,0)},value:0!==d.daysAndTimeAndDays.length&&d.daysAndTimeAndDays.filter((function(e){return 0===e.day}))[0]?d.daysAndTimeAndDays.filter((function(e){return 0===e.day}))[0].end_hour:"00:00"}),l.a.createElement("img",{src:Pt.a,alt:"minusImg",onClick:function(e){var t=d.daysAndTimeAndDays.filter((function(e){return 0===e.day&&e}));v(e,t[0].id)}})):null,d.daysInArray.includes(1)&&l.a.createElement("div",{key:"1",id:"1",className:"workHoursDiv"},l.a.createElement(Ge.a,{type:"text",className:"select-option",styles:O,value:i,isDisabled:d.daysAndTime.includes(1),options:k,isOptionDisabled:function(e){return e.isdisabled},placeholder:0!==d.daysAndTimeAndDays.length&&d.daysAndTimeAndDays.filter((function(e){return 1===e.day}))[0]&&1===d.daysAndTimeAndDays.filter((function(e){return 1===e.day}))[0].day&&"Tuesday",onChange:x}),l.a.createElement(At.a,{colon:":",showSeconds:!1,onChange:function(e){return N(e,1)},value:0!==d.daysAndTimeAndDays.length&&d.daysAndTimeAndDays.filter((function(e){return 1===e.day}))[0]&&d.daysAndTimeAndDays.filter((function(e){return 1===e.day}))[0].start_hour}),l.a.createElement("p",null,"-"),l.a.createElement(At.a,{colon:":",showSeconds:!1,onChange:function(e){return S(e,1)},value:0!==d.daysAndTimeAndDays.length&&d.daysAndTimeAndDays.filter((function(e){return 1===e.day}))[0]&&d.daysAndTimeAndDays.filter((function(e){return 1===e.day}))[0].end_hour}),l.a.createElement("img",{src:Pt.a,alt:"minusImg",onClick:function(e){var t=d.daysAndTimeAndDays.filter((function(e){return 1===e.day&&e}));v(e,t[0].id)}})),d.daysInArray.includes(2)&&l.a.createElement("div",{key:"2",id:"2",className:"workHoursDiv"},l.a.createElement(Ge.a,{type:"text",className:"select-option",styles:O,value:i,isDisabled:d.daysAndTime.includes(2),options:k,isOptionDisabled:function(e){return e.isdisabled},placeholder:0!==d.daysAndTimeAndDays.length&&d.daysAndTimeAndDays.filter((function(e){return 2===e.day}))[0]&&2===d.daysAndTimeAndDays.filter((function(e){return 2===e.day}))[0].day&&"Wednesday",onChange:x}),l.a.createElement(At.a,{colon:":",showSeconds:!1,onChange:function(e){return N(e,2)},value:0!==d.daysAndTimeAndDays.length&&d.daysAndTimeAndDays.filter((function(e){return 2===e.day}))[0]&&d.daysAndTimeAndDays.filter((function(e){return 2===e.day}))[0].start_hour}),l.a.createElement("p",null,"-"),l.a.createElement(At.a,{colon:":",showSeconds:!1,onChange:function(e){return S(e,2)},value:0!==d.daysAndTimeAndDays.length&&d.daysAndTimeAndDays.filter((function(e){return 2===e.day}))[0]&&d.daysAndTimeAndDays.filter((function(e){return 2===e.day}))[0].end_hour}),l.a.createElement("img",{src:Pt.a,alt:"minusImg",onClick:function(e){var t=d.daysAndTimeAndDays.filter((function(e){return 2===e.day&&e}));v(e,t[0].id)}})),d.daysInArray.includes(3)&&l.a.createElement("div",{key:"3",id:"3",className:"workHoursDiv"},l.a.createElement(Ge.a,{type:"text",className:"select-option",styles:O,value:i,options:k,isDisabled:d.daysAndTime.includes(3),isOptionDisabled:function(e){return e.isdisabled},placeholder:0!==d.daysAndTimeAndDays.length&&d.daysAndTimeAndDays.filter((function(e){return 3===e.day}))[0]&&3===d.daysAndTimeAndDays.filter((function(e){return 3===e.day}))[0].day&&"Thursday",onChange:x}),l.a.createElement(At.a,{colon:":",showSeconds:!1,onChange:function(e){return N(e,3)},value:0!==d.daysAndTimeAndDays.length&&d.daysAndTimeAndDays.filter((function(e){return 3===e.day}))[0]&&d.daysAndTimeAndDays.filter((function(e){return 3===e.day}))[0].start_hour}),l.a.createElement("p",null,"-"),l.a.createElement(At.a,{colon:":",showSeconds:!1,onChange:function(e){return S(e,3)},value:0!==d.daysAndTimeAndDays.length&&d.daysAndTimeAndDays.filter((function(e){return 3===e.day}))[0]&&d.daysAndTimeAndDays.filter((function(e){return 3===e.day}))[0].end_hour}),l.a.createElement("img",{src:Pt.a,alt:"minusImg",onClick:function(e){var t=d.daysAndTimeAndDays.filter((function(e){return 3===e.day&&e}));v(e,t[0].id)}})),d.daysInArray.includes(4)&&l.a.createElement("div",{key:"4",id:"4",className:"workHoursDiv"},l.a.createElement(Ge.a,{type:"text",className:"select-option",styles:O,value:i,options:k,isDisabled:d.daysAndTime.includes(4),isOptionDisabled:function(e){return e.isdisabled},placeholder:0!==d.daysAndTimeAndDays.length&&d.daysAndTimeAndDays.filter((function(e){return 4===e.day}))[0]&&4===d.daysAndTimeAndDays.filter((function(e){return 4===e.day}))[0].day&&"Friday",onChange:x}),l.a.createElement(At.a,{colon:":",showSeconds:!1,onChange:function(e){return N(e,4)},value:0!==d.daysAndTimeAndDays.length&&d.daysAndTimeAndDays.filter((function(e){return 4===e.day}))[0]&&d.daysAndTimeAndDays.filter((function(e){return 4===e.day}))[0].start_hour}),l.a.createElement("p",null,"-"),l.a.createElement(At.a,{colon:":",showSeconds:!1,onChange:function(e){return S(e,4)},value:0!==d.daysAndTimeAndDays.length&&d.daysAndTimeAndDays.filter((function(e){return 4===e.day}))[0]&&d.daysAndTimeAndDays.filter((function(e){return 4===e.day}))[0].end_hour}),l.a.createElement("img",{src:Pt.a,alt:"minusImg",onClick:function(e){var t=d.daysAndTimeAndDays.filter((function(e){return 4===e.day&&e}));v(e,t[0].id)}})),d.daysInArray.includes(5)&&l.a.createElement("div",{key:"5",id:"5",className:"workHoursDiv"},l.a.createElement(Ge.a,{type:"text",className:"select-option",styles:O,value:i,options:k,isDisabled:d.daysAndTime.includes(5),isOptionDisabled:function(e){return e.isdisabled},placeholder:0!==d.daysAndTimeAndDays.length&&d.daysAndTimeAndDays.filter((function(e){return 5===e.day}))[0]&&5===d.daysAndTimeAndDays.filter((function(e){return 5===e.day}))[0].day&&"Saturday",onChange:x}),l.a.createElement(At.a,{colon:":",showSeconds:!1,onChange:function(e){return N(e,5)},value:0!==d.daysAndTimeAndDays.length&&d.daysAndTimeAndDays.filter((function(e){return 5===e.day}))[0]&&d.daysAndTimeAndDays.filter((function(e){return 5===e.day}))[0].start_hour}),l.a.createElement("p",null,"-"),l.a.createElement(At.a,{colon:":",showSeconds:!1,onChange:function(e){return S(e,5)},value:0!==d.daysAndTimeAndDays.length&&d.daysAndTimeAndDays.filter((function(e){return 5===e.day}))[0]&&d.daysAndTimeAndDays.filter((function(e){return 5===e.day}))[0].end_hour}),l.a.createElement("img",{src:Pt.a,alt:"minusImg",onClick:function(e){var t=d.daysAndTimeAndDays.filter((function(e){return 5===e.day&&e}));v(e,t[0].id)}})),d.daysInArray.includes(6)&&l.a.createElement("div",{key:"6",id:"6",className:"workHoursDiv"},l.a.createElement(Ge.a,{type:"text",className:"select-option",styles:O,value:i,options:k,isDisabled:d.daysAndTime.includes(6),isOptionDisabled:function(e){return e.isdisabled},placeholder:0!==d.daysAndTimeAndDays.length&&d.daysAndTimeAndDays.filter((function(e){return 6===e.day}))[0]&&6===d.daysAndTimeAndDays.filter((function(e){return 6===e.day}))[0].day&&"Sunday",onChange:x}),l.a.createElement(At.a,{colon:":",showSeconds:!1,onChange:function(e){return N(e,6)},value:0!==d.daysAndTimeAndDays.length&&d.daysAndTimeAndDays.filter((function(e){return 6===e.day}))[0]&&d.daysAndTimeAndDays.filter((function(e){return 6===e.day}))[0].start_hour}),l.a.createElement("p",null,"-"),l.a.createElement(At.a,{colon:":",showSeconds:!1,onChange:function(e){return S(e,6)},value:0!==d.daysAndTimeAndDays.length&&d.daysAndTimeAndDays.filter((function(e){return 6===e.day}))[0]&&d.daysAndTimeAndDays.filter((function(e){return 6===e.day}))[0].end_hour}),l.a.createElement("img",{src:Pt.a,alt:"minusImg",onClick:function(e){var t=d.daysAndTimeAndDays.filter((function(e){return 6===e.day&&e}));v(e,t[0].id)}})),d.daysInArray.includes(7)&&l.a.createElement("div",{key:"7",id:"7",className:"workHoursDiv"},l.a.createElement(Ge.a,{type:"text",className:"select-option",styles:O,value:i,options:k,isDisabled:d.daysAndTime.includes(7),isOptionDisabled:function(e){return e.isdisabled},placeholder:0!==d.daysAndTimeAndDays.length&&d.daysAndTimeAndDays.filter((function(e){return 7===e.day}))[0]&&7===d.daysAndTimeAndDays.filter((function(e){return 7===e.day}))[0].day&&"Every day",onChange:x}),l.a.createElement(At.a,{colon:":",showSeconds:!1,onChange:function(e){return N(e,7)},value:0!==d.daysAndTimeAndDays.length&&d.daysAndTimeAndDays.filter((function(e){return 7===e.day}))[0]&&d.daysAndTimeAndDays.filter((function(e){return 7===e.day}))[0].start_hour}),l.a.createElement("p",null,"-"),l.a.createElement(At.a,{colon:":",showSeconds:!1,onChange:function(e){return S(e,7)},value:0!==d.daysAndTimeAndDays.length&&d.daysAndTimeAndDays.filter((function(e){return 7===e.day}))[0]&&d.daysAndTimeAndDays.filter((function(e){return 7===e.day}))[0].end_hour}),l.a.createElement("img",{src:Pt.a,alt:"minusImg",onClick:function(e){var t=d.daysAndTimeAndDays.filter((function(e){return 7===e.day&&e}));v(e,t[0].id)}})),d.daysInArray.includes(8)&&l.a.createElement("div",{key:"8",id:"8",className:"workHoursDiv"},l.a.createElement(Ge.a,{type:"text",className:"select-option",styles:O,value:i,options:k,isDisabled:d.daysAndTime.includes(8),isOptionDisabled:function(e){return e.isdisabled},placeholder:0!==d.daysAndTimeAndDays.length&&d.daysAndTimeAndDays.filter((function(e){return 8===e.day}))[0]&&8===d.daysAndTimeAndDays.filter((function(e){return 8===e.day}))[0].day&&"Mon-Fri",onChange:x}),l.a.createElement(At.a,{colon:":",showSeconds:!1,onChange:function(e){return N(e,8)},value:0!==d.daysAndTimeAndDays.length&&d.daysAndTimeAndDays.filter((function(e){return 8===e.day}))[0]&&d.daysAndTimeAndDays.filter((function(e){return 8===e.day}))[0].start_hour}),l.a.createElement("p",null,"-"),l.a.createElement(At.a,{colon:":",showSeconds:!1,onChange:function(e){return S(e,8)},value:0!==d.daysAndTimeAndDays.length&&d.daysAndTimeAndDays.filter((function(e){return 8===e.day}))[0]&&d.daysAndTimeAndDays.filter((function(e){return 8===e.day}))[0].end_hour}),l.a.createElement("img",{src:Pt.a,alt:"minusImg",onClick:function(e){var t=d.daysAndTimeAndDays.filter((function(e){return 8===e.day&&e}));v(e,t[0].id)}})),l.a.createElement("img",{src:wt.a,alt:"plus",onClick:E}),l.a.createElement("button",{style:{display:!d.plusClicked&&"none"},onClick:b,className:"saveChanges"},"Save")))})))},It=[{value:"RSD",label:"RSD"},{value:"EUR",label:"EUR"},{value:"USD",label:"USD"}],Ft=[{value:"0",label:"Monday"},{value:"1",label:"Tuesday"},{value:"2",label:"Wednesday"},{value:"3",label:"Thursday"},{value:"4",label:"Friday"},{value:"5",label:"Saturday"},{value:"6",label:"Sunday"},{value:"7",label:"Every day"},{value:"8",label:"Mon-Fri"}],jt=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).handleSelect=function(e){var t=e.value;a.setState({selectEmail:t,showSaveService:!0})},a.handleSelect2=function(e){var t=e.value;a.setState({selectVideo:t,showSaveService:!0})},a.handleSelect3=function(e){var t=e.value;a.setState({selectVideoFollow:t,showSaveService:!0})},a.handleSelectForDays=function(e){console.log(e);var t=e.value;a.setState({selectForDays:JSON.parse(t),plusClicked:!0})},a.handleSubmitForWorkingHours=function(e){var t,n,l,s,c;return o.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.state.daysAndTime.includes(a.state.selectForDays)){e.next=17;break}return console.log("nema ga u redu i on ovde odradi POST",a.state.daysAndTime,a.state.selectForDays),(t=new FormData).append("day",a.state.selectForDays),t.append("start_hour",a.state.TimeStart),t.append("end_hour",a.state.TimeEnd),n="Bearer ".concat(a.state.token),"https://healthcarebackend.xyz/api/doctor/schedule/",l=de.a.post("https://healthcarebackend.xyz/api/doctor/schedule/",t,{headers:{"content-type":"multipart/form-data",Authorization:n}}),console.log("submiting"),e.next=12,o.a.awrap(l);case 12:s=e.sent,console.log(s,"profile changed"),s.data.success&&(a.setState({plusClicked:!1}),oe.NotificationManager.success("Profile Updated!","Successful!",2e3),a.handleWorkingHowrs()),e.next=20;break;case 17:c=a.state.daysAndTimeAndDays.filter((function(e){if(e.day===a.state.selectForDays)return e})),console.log("ima ga u redu i on ovde odradi PUT",c),a.ChangePutDayInArray(c[0].id);case 20:case"end":return e.stop()}}))},a.handleWorkingHowrs=function(){var e="Bearer ".concat(a.state.token);de.a.get("https://healthcarebackend.xyz/api/doctor/schedule/list/",{headers:{Authorization:e}}).then((function(e){console.log(e,"novi podaciiii");var t=e.data.data.map((function(e){return e})),n=e.data.data.map((function(e){return e.day}));a.setState({daysInArray:n,daysAndTime:n,daysAndTimeAndDays:t})})).catch((function(){a.setState({daysInArray:[],daysAndTime:[],daysAndTimeAndDays:[]})}))},a.deleteDayInArray=function(e){var t,n,l;return o.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return t="Bearer ".concat(a.state.token),n=de.a.delete("https://healthcarebackend.xyz/api/doctor/schedule/".concat(e,"/"),{headers:{Authorization:t}}),s.next=4,o.a.awrap(n);case 4:(l=s.sent).data.success&&a.handleWorkingHowrs(),l.data.success&&a.setState({plusClicked:!1}),console.log(l);case 8:case"end":return s.stop()}}))},a.ChangePutDayInArray=function(e){var t,n,l,s,c;return o.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return console.log("radi li? "),(t=new FormData).append("start_hour",a.state.TimeStart),t.append("end_hour",a.state.TimeEnd),n="Bearer ".concat(a.state.token),l="https://healthcarebackend.xyz/api/doctor/schedule/".concat(e,"/"),s=de.a.put(l,t,{headers:{"content-type":"multipart/form-data",Authorization:n}}),console.log("submiting"),r.next=10,o.a.awrap(s);case 10:c=r.sent,console.log(c,"profile changed"),c.data.success&&(a.setState({plusClicked:!1}),oe.NotificationManager.success("Profile Updated!","Successful!",2e3),a.handleWorkingHowrs());case 13:case"end":return r.stop()}}))},a.handleSubmit=function(e){var t,n,l,s;return o.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:if(e.preventDefault(),!(a.state.EmailVisit&&!a.state.selectEmail||a.state.VideoVisit&&!a.state.selectVideo||a.state.VideoFollowUp&&!a.state.selectVideoFollow)){c.next=5;break}oe.NotificationManager.error("Please enter currency","Failed!",2e3),c.next=37;break;case 5:return(t=new FormData).append("user.first_name",a.state.FirstName),t.append("user.last_name",a.state.LastName),t.append("user.phone",a.state.PhoneNum),t.append("biography",a.state.Biography),t.append("email_exam_price",a.state.EmailVisit),t.append("web_exam_price",a.state.VideoVisit),t.append("web_exam_follow_price",a.state.VideoFollowUp),t.append("waiting_room_price",a.state.WaitingRoom),t.append("image",a.state.attach),t.append("status",""),t.append("start_hour",a.state.TimeStart),t.append("end_hour",a.state.TimeEnd),t.append("email_currency",a.state.selectEmail),t.append("web_currency",a.state.selectVideo),t.append("web_follow_up_currency",a.state.selectVideoFollow),t.append("waiting_room_currency",a.state.selectWaitingRoom),t.append("organization",a.state.Organization),t.append("speciality",a.state.specialSP),t.append("email_exam_status",a.state.EmailVisitChecked),t.append("web_exam_status",a.state.VideoVisitChecked),t.append("waiting_room_status",a.state.WaitingRoomVisit),t.append("web_exam_follow_status",a.state.VideoVisitFollowUp),n="Bearer ".concat(a.state.token),"https://healthcarebackend.xyz/api/doctor/profile/",l=de.a.put("https://healthcarebackend.xyz/api/doctor/profile/",t,{headers:{"content-type":"multipart/form-data",Authorization:n}}),console.log("submiting"),c.next=34,o.a.awrap(l);case 34:s=c.sent,console.log(s,"profile changed"),s.data.success&&(oe.NotificationManager.success("Profile Updated!","Successful!",2e3),a.handleDoctorProfile(),a.setState({showSaveProfile:!1,showSaveService:!1}),window.location.reload());case 37:case"end":return c.stop()}}))},a.handleDoctorProfile=function(){var e;return o.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:e="Bearer ".concat(a.state.token),de.a.get("https://healthcarebackend.xyz/api/doctor/profile/",{headers:{Authorization:e}}).then((function(e){console.log(e,"doc profileee");var t=e.data.data.email_currency?e.data.data.email_currency:"USD",n=e.data.data.web_currency?e.data.data.web_currency:"USD",l=e.data.data.web_follow_up_currency?e.data.data.web_follow_up_currency:"USD";a.setState({doctor:[e.data.data],currentStatus:e.data.data.status,selectEmail:t,selectVideo:n,selectVideoFollow:l,specialSP:e.data.data.speciality,EmailVisitChecked:e.data.data.email_exam_status,VideoVisitChecked:e.data.data.web_exam_status,VideoVisitFollowUp:e.data.data.web_exam_follow_status,WaitingRoomVisit:e.data.data.waiting_room_status})}));case 2:case"end":return t.stop()}}))},a.handleSpeciality=function(e){console.log(e),a.setState({specialSP:e.value,selectedSpec:e.label,resetDoctorSelect:null,showSaveProfile:!0})},a.handleChange=function(e){var t;console.log(e),a.setState((t={},Object(rt.a)(t,e.target.id,e.target.value),Object(rt.a)(t,"showSaveProfile",!0),t))},a.handleChangeService=function(e){var t;a.setState((t={},Object(rt.a)(t,e.target.id,e.target.value),Object(rt.a)(t,"showSaveService",!0),t))},a.handleChangeBiography=function(e){a.setState({Biography:e.target.innerHTML})},a.handleChangeTime=function(e,t){console.log(e.target.value,t),console.log(a.state.daysAndTimeAndDays);var n=0!==a.state.daysAndTimeAndDays.length&&a.state.daysAndTimeAndDays.filter((function(e){return e.day===t}))[0]&&a.state.daysAndTimeAndDays.filter((function(e){return e.day===t}))[0].day;a.setState({TimeStart:e.target.value,plusClicked:!0}),n&&a.setState({selectForDays:n})},a.handleChangeTimeEnd=function(e,t){console.log(e.target.value,t);var n=0!==a.state.daysAndTimeAndDays.length&&a.state.daysAndTimeAndDays.filter((function(e){return e.day===t}))[0]&&a.state.daysAndTimeAndDays.filter((function(e){return e.day===t}))[0].day;a.setState({TimeEnd:e.target.value,plusClicked:!0}),n&&a.setState({selectForDays:n})},a.addAttach=function(e){e.target.files[0].name.match(/.(jpg|jpeg|png|gif)$/i)?e.target.files[0].size>2048e3?oe.NotificationManager.error("Image size is to big","Failed!",2e3):(a.setState({attach:e.target.files[0],showSaveProfile:!0}),document.querySelector(".docImage").src=URL.createObjectURL(e.target.files[0])):oe.NotificationManager.error("File is not an image","Failed!",2e3)},a.deletePicture=function(){var e,t,n;return o.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:return e="Bearer ".concat(a.state.token),t=de.a.delete("https://healthcarebackend.xyz/api/doctor/image/",{headers:{Authorization:e},data:{}}),l.next=4,o.a.awrap(t);case 4:n=l.sent,console.log(n),n.data&&window.location.reload();case 7:case"end":return l.stop()}}))},a.handleDeleteImageShow=function(){a.setState({showDeleteImage:!a.state.showDeleteImage})},a.handlePage=function(e){a.setState({page:e})},a.handleServiceRadio=function(e){console.log(e.target.checked),a.setState({showSaveService:!0}),e.target.checked?a.setState(Object(rt.a)({},e.target.id,"True")):e.target.checked||a.setState(Object(rt.a)({},e.target.id,"False"))},a.handlePlusImg=function(){if((!a.state.daysAndTime.includes(8)||3!==a.state.daysAndTime.length)&&!a.state.daysAndTime.includes(7)&&a.state.daysInArray.length<9&&!a.state.plusClicked){var e=a.state.daysInArray.sort((function(e,t){return t-e})),t=[0,1,2,3,4,5,6,7,8].sort((function(e,t){return t-e}));console.log(e);var n=t.filter((l=0,function(t){return t!==e[l]||!++l}));console.log(n,"sta se desava ovde"),a.setState({daysInArray:[].concat(Object(Je.a)(a.state.daysInArray),[n[0]]),plusClicked:!0})}var l},a.handleMinusImage=function(e,t){console.log(e.target.parentElement);var n=parseInt(e.target.parentElement.id),l=a.state.daysInArray.filter((function(e){return e!==n}));a.setState({daysInArray:l}),a.deleteDayInArray(t)},a.state={doctor:[],selectEmail:"",selectVideo:"",selectVideoFollow:"",selectWaitingRoom:"",token:sessionStorage.getItem("accessToken"),FirstName:"",LastName:"",PhoneNum:"",TimeStart:"",TimeEnd:"",EmailVisit:"",VideoVisit:"",VideoFollowUp:"",Biography:"",attach:"",currentStatus:"",Email:"",Organization:"",specialities:[],specialSP:"",showDeleteImage:!1,page:"",WaitingRoom:"",EmailVisitChecked:"",VideoVisitChecked:"",VideoVisitFollowUp:"",WaitingRoomVisit:"",daysInArray:[],daysAndTime:[],selectForDays:"",plusClicked:!1,daysAndTimeAndDays:"",idForPut:"",showSaveProfile:!1,showSaveService:!1},a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.handleDoctorProfile(),de.a.get("https://healthcarebackend.xyz/api/specialities/").then((function(t){console.log(t,"examform");var a=t.data.data.map((function(e){return{value:e.id,iD:e.speciality_id,label:e.name}}));e.setState({specialities:a,page:"DocProfile"})})),this.handleWorkingHowrs()}},{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"header"},l.a.createElement("div",null,l.a.createElement(re,null),l.a.createElement(me,null))),l.a.createElement(Tt,{status:It,doctor:this.state.doctor,handleSubmit:this.handleSubmit,handleSelect:this.handleSelect,handleSelect2:this.handleSelect2,handleSelect3:this.handleSelect3,handleSelect4:this.handleSelect4,props:this.state,handleChange:this.handleChange,addAttach:this.addAttach,handleSpeciality:this.handleSpeciality,handleChangeBiography:this.handleChangeBiography,deletePicture:this.deletePicture,handleDeleteImageShow:this.handleDeleteImageShow,handlePage:this.handlePage,handleServiceRadio:this.handleServiceRadio,days:Ft,handlePlusImg:this.handlePlusImg,handleMinusImage:this.handleMinusImage,handleSubmitForWorkingHours:this.handleSubmitForWorkingHours,handleSelectForDays:this.handleSelectForDays,handleChangeTime:this.handleChangeTime,handleChangeTimeEnd:this.handleChangeTimeEnd,handleChangeService:this.handleChangeService}))}}]),t}(n.Component),Mt=function(e){var t=e.doctor;return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"header"},l.a.createElement("div",null,l.a.createElement(re,null),l.a.createElement(me,null))),t&&t.map((function(e){return l.a.createElement("div",{key:e.id,className:"doctor",style:{height:"180px",margin:"30px 0 0 0"}},l.a.createElement("div",{className:"rounded-pill"},l.a.createElement("div",null,l.a.createElement("p",null,"Doctor: ",e.doctor),l.a.createElement("p",null,"Speciality: ",e.speciality),l.a.createElement("p",null,"NPI: ",e.npi_number),l.a.createElement("p",null,"Prefix: ",e.prefix),l.a.createElement("p",null,"Description: ",e.description),l.a.createElement("p",null,"Price: ",e.email_exam_price))))})))},Vt=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).hanldeDoctorsProfile=function(){var e="Bearer ".concat(a.state.token);de.a.get("https://healthcarebackend.xyz/api/client/doc/".concat(a.state.id,"/"),{headers:{Authorization:e}}).then((function(e){return console.log(e,"doc profile"),a.setState({doctor:[e.data.data]})}))},a.state={doctor:[],token:sessionStorage.getItem("accessToken"),id:a.props.match.params.id},a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.hanldeDoctorsProfile()}},{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(Mt,{doctor:this.state.doctor}))}}]),t}(n.Component),Bt=(a(259),function(e){var t=e.client,a=e.handleSubmit,n=e.handleGenderRadio,s=e.props,c=e.attachInput,r=e.handleChange,o=(e.handleImage,e.handleRemoveImage,e.handleDeleteImageShow),i=e.deletePicture;return l.a.createElement(l.a.Fragment,null,t&&t.map((function(e){return console.log(e),l.a.createElement("div",{key:e.id,className:"mainClientic"},l.a.createElement("div",{className:"newVideo"},l.a.createElement("h4",null,"My profile")),l.a.createElement("div",{className:"client"},l.a.createElement("div",{className:"client-p"},l.a.createElement("label",{htmlFor:"firstName"},"First Name"),l.a.createElement("input",{onFocus:function(t){t.target.value=e.user.first_name},onBlur:function(e){e.target.value=""},placeholder:e.user.first_name,id:"FirstName",onChange:r,type:"text"}),l.a.createElement("label",{htmlFor:"lastName"},"Last Name"),l.a.createElement("input",{onFocus:function(t){t.target.value=e.user.last_name},onBlur:function(e){e.target.value=""},placeholder:e.user.last_name,id:"LastName",onChange:r,type:"text"}),l.a.createElement("label",{htmlFor:"address"},"Address"),l.a.createElement("input",{onFocus:function(t){t.target.value=e.address},onBlur:function(e){e.target.value=""},placeholder:e.address,onChange:r,id:"Address",type:"text"}),l.a.createElement("label",{htmlFor:"address"},"E-mail"),l.a.createElement("input",{placeholder:e.user.email,disabled:!0,onChange:r,id:"Email",type:"text"}),l.a.createElement("label",{htmlFor:"Phone"},"Phone number"),l.a.createElement("input",{onFocus:function(t){t.target.value=e.user.phone},onBlur:function(e){e.target.value=""},autoComplete:"nope",placeholder:e.user.phone?e.user.phone:"11 22 33 44",onChange:r,id:"PhoneNum",type:"number"}),l.a.createElement("label",{htmlFor:"birth"},"Date of birth"),l.a.createElement("input",{onFocus:function(t){t.target.value=e.birth_date},onBlur:function(e){e.target.value=""},placeholder:e.birth_date,onChange:r,id:"BirthDate",type:"text"}),l.a.createElement("button",{style:{display:!s.showSave&&"none"},onClick:a,className:"saveChanges"},"Save"))),l.a.createElement("div",{className:"form"},l.a.createElement("p",{className:"picturelabel",htmlFor:"picture"},"Picture"),l.a.createElement("div",{className:"checkboxDiv"},l.a.createElement("div",{className:"profilePic"},l.a.createElement("div",{className:"upload-btn-wrapper",onMouseEnter:o,onMouseLeave:o},l.a.createElement("button",{className:"btn"},l.a.createElement("img",{className:"cliImage",src:e.image.includes("default")?kt.a:"https://healthcarebackend.xyz".concat(e.image),alt:"#"})),l.a.createElement("input",{type:"file",name:"myfile",onChange:c}),l.a.createElement("button",{className:"deleteImage",style:{display:s.showDeleteImage&&!e.image.includes("default")?"block":"none"},onClick:i}," X"))),l.a.createElement("div",{className:"check"},l.a.createElement("input",{type:"checkbox",name:"Male",id:"Male",checked:"M"===s.gender&&!0,onChange:function(){return n("M")}}),l.a.createElement("label",{className:"Male",value:"Male",htmlFor:"Male"},"Male"),l.a.createElement("input",{type:"checkbox",value:"Female",checked:"F"===s.gender&&!0,name:"Female",id:"Female",onChange:function(){return n("F")}}),l.a.createElement("label",{htmlFor:"Female"},"Female"))),l.a.createElement("div",{className:"conditions"},"Chronical conditions"," ",l.a.createElement("textarea",{type:"text",onFocus:function(t){t.target.defaultValue=e.chronical_conditions},onBlur:function(e){e.target.defaultValue=""},className:"address-input",placeholder:e.chronical_conditions,onChange:r,id:"ChronicalConditions"})),l.a.createElement("div",{className:"allergies"},"Allergies"," ",l.a.createElement("textarea",{style:{height:e.image?"138px":"178px"},type:"text",onFocus:function(t){t.target.defaultValue=e.allergies},onBlur:function(e){e.target.defaultValue=""},className:"address-input",placeholder:e.allergies,onChange:r,id:"Allergies"}))))})))}),Rt=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).handleSubmit=function(e){var t,n,l,s;return o.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return e.preventDefault(),(t=new FormData).append("user.first_name",a.state.FirstName),t.append("user.last_name",a.state.LastName),t.append("gender",a.state.gender),t.append("address",a.state.Address),t.append("birth_date",a.state.BirthDate),t.append("chronical_conditions",a.state.ChronicalConditions),t.append("allergies",a.state.Allergies),t.append("image",a.state.attach),t.append("user.phone",a.state.PhoneNum),n="Bearer ".concat(a.state.token),"https://healthcarebackend.xyz/api/client/profile/",l=de.a.put("https://healthcarebackend.xyz/api/client/profile/",t,{headers:{"content-type":"multipart/form-data",Authorization:n}}),console.log("submiting"),c.next=17,o.a.awrap(l);case 17:s=c.sent,console.log(s,"profile changed"),s.data.success&&(oe.NotificationManager.success("Profile Updated!","Successful!",2e3),window.location.reload(),a.setState({showSave:!1}));case 20:case"end":return c.stop()}}))},a.handleClientProfile=function(){var e;return o.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:e="Bearer ".concat(a.state.token),de.a.get("https://healthcarebackend.xyz/api/client/profile/",{headers:{Authorization:e}}).then((function(e){return console.log(e.data.data,"profile"),a.setState({client:[e.data.data],gender:e.data.data.gender,BirthDate:e.data.data.birth_date})}));case 2:case"end":return t.stop()}}))},a.handleGenderRadio=function(e){a.setState({gender:e,showSave:!0})},a.handleChange=function(e){a.setState(Object(rt.a)({},e.target.id,e.target.value)),""!==e.target.value&&a.setState({showSave:!0})},a.attachInput=function(e){e.target.files[0].name.match(/.(jpg|jpeg|png|gif)$/i)?e.target.files[0].size>2048e3?oe.NotificationManager.error("Image size is to big","Failed!",2e3):(a.setState({attach:e.target.files[0],showSave:!0}),document.querySelector(".cliImage").src=URL.createObjectURL(e.target.files[0])):oe.NotificationManager.error("File is not an image","Failed!",2e3)},a.handleRemoveImage=function(e){var t,n,l;return o.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return t="Bearer ".concat(a.state.token),n=de.a.delete("https://healthcarebackend.xyz/api/client/image/",{headers:{Authorization:t},data:{}}),e.next=4,o.a.awrap(n);case 4:l=e.sent,console.log(l),l.data&&window.location.reload();case 7:case"end":return e.stop()}}))},a.handleDeleteImageShow=function(){a.setState({showDeleteImage:!a.state.showDeleteImage})},a.deletePicture=function(){var e,t,n;return o.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:return e="Bearer ".concat(a.state.token),t=de.a.delete("https://healthcarebackend.xyz/api/client/image/",{headers:{Authorization:e},data:{}}),l.next=4,o.a.awrap(t);case 4:n=l.sent,console.log(n),n.data&&window.location.reload();case 7:case"end":return l.stop()}}))},a.state={client:[],records:[],token:sessionStorage.getItem("accessToken"),gender:"",FirstName:"",LastName:"",Address:"",PhoneNum:"",BirthDate:"",ChronicalConditions:"",Allergies:"",attach:"",Email:"",showDeleteImage:!1,showSave:!1},a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.handleClientProfile()}},{key:"render",value:function(){return console.log(this.state.attach.name),l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"header"},l.a.createElement("div",null,l.a.createElement(re,null),l.a.createElement(me,null))),l.a.createElement(Bt,{client:this.state.client,handleSubmit:this.handleSubmit,handleGenderRadio:this.handleGenderRadio,props:this.state,handleChange:this.handleChange,attachInput:this.attachInput,handleImage:this.handleImage,handleRemoveImage:this.handleRemoveImage,handleDeleteImageShow:this.handleDeleteImageShow,deletePicture:this.deletePicture}))}}]),t}(n.Component),Ht=function(e){var t=e.exam,a=e.handleStatus,s=e.statusValue,c=e.props,r=e.declineReason,o=e.saveReason,i=e.saveReport,d=e.report,m=e.handleJoinRoom,u=e.handleshowSave,p=e.onChangeHandler,h=e.handlePage,g=e.clearFile,f=e.handleClick,y=e.loading,E=e.searchByType,v=e.ResetonSelectChange,b=e.handlePageChange,x=e.handleExtendDiv,N=e.extendreport,S=e.extendreport2,C={control:function(){return{width:160,border:"2px solid #fa9551",borderRadius:"10px",height:"33px",fontWeight:600,display:"flex"}}};return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"header"},l.a.createElement("div",null,l.a.createElement(re,null),l.a.createElement(me,null))),t.map((function(e){var t="Appointed"===e.status?"Accepted":e.status,k="Appointed"!==e.status?[{value:"Accept",label:"Accept"},{value:"Decline",label:"Decline"}]:[{value:"Finish",label:"Finish"}];return l.a.createElement(n.Fragment,{key:e.id},"consultDetail"===c.PageonNav&&l.a.createElement("div",{className:"detail_exam"},l.a.createElement("div",{className:"iconVideo"},l.a.createElement("div",{className:"ConsulDetails",style:{borderBottom:"consultDetail"===c.PageonNav&&"4px solid #fa9551"},onClick:function(){h("consultDetail")}},l.a.createElement("h4",{style:{fontWeight:"consultDetail"===c.PageonNav&&"bold"}},"Consultations details")," "),l.a.createElement("div",{className:"ConsulDetails",style:{borderBottom:"clientDetail"===c.PageonNav&&"4px solid #fa9551"},onClick:function(){h("clientDetail")}},l.a.createElement("h4",{style:{fontWeight:"clientDetail"===c.PageonNav&&"bold"}},"Client details")," "),l.a.createElement("div",{className:"ConsulDetails",style:{borderBottom:"clientDetailConsult"===c.PageonNav&&"4px solid #fa9551"},onClick:function(){h("clientDetailConsult")}},l.a.createElement("h4",{style:{fontWeight:"clientDetailConsult"===c.PageonNav&&"bold"}},"Client consultations")," ")),l.a.createElement("div",{className:"detail"},l.a.createElement("p",null,l.a.createElement("span",null,"Client:")," ",e.client),l.a.createElement("p",null,l.a.createElement("span",null,"Created:")," ",je()(e.created).format("MM/DD/YY HH:mm")),l.a.createElement("p",null,l.a.createElement("span",null,"Appointed"===e.status?"Appointed date:":"Appoint date")," ",je()(e.appointed_date).format("MM/DD/YY HH:mm")),l.a.createElement("p",null,l.a.createElement("span",null,"Type:")," ",e.exam_type),"Canceled"===e.status||"Finished"===e.status||"Declined"===e.status?l.a.createElement("p",null,l.a.createElement("span",null,"Status:")," ",e.status):l.a.createElement("div",{className:"divSelectButton",style:{display:"flex"}},l.a.createElement(Ge.a,{type:"text",placeholder:t,styles:C,className:"select-option",value:s,options:k,onChange:a})),"Appointed"===e.status?l.a.createElement("div",{className:"message-btn"},l.a.createElement("button",{className:"message-link",onClick:function(){return m(e.room.uid)}},"Join now")):null),l.a.createElement("div",{className:"mainMessageDiv"},l.a.createElement("div",{className:"subjectDiv"},l.a.createElement("p",null,l.a.createElement("span",{style:{fontWeight:"bold"}},"Subject:")," ",e.subject),l.a.createElement("div",{className:"infoAndSquare",style:{display:"flex"}},l.a.createElement("p",null,l.a.createElement("span",null,je()(e.appointed_date).format("MM/DD/YY"))," ",je()(e.appointed_date).format(" HH:mm")),l.a.createElement("div",{style:{marginRight:"20px"},onClick:x,id:"imageDiv1"}))),l.a.createElement("div",{className:"messageDiv"},l.a.createElement("textarea",{defaultValue:e.notes,id:"messageMainText",disabled:!0}),l.a.createElement("div",{className:"mainFileDiv"},l.a.createElement("div",{className:"FileDiv"},l.a.createElement("p",null,"Files:")),e.attachments&&l.a.createElement("div",{onClick:function(){window.open("https://healthcarebackend.xyz".concat(e.attachments))},className:"fileForDownload"},l.a.createElement("p",null,e.attachments.substring(e.attachments.lastIndexOf("/")+1))))),l.a.createElement("div",{className:"reportIfDeclined",style:{display:"Declined"===e.status?"block":"Decline"!==c.selectedStatus?"none":"block"}},l.a.createElement("div",{className:"subjectDiv"},l.a.createElement("p",null,l.a.createElement("span",null,"Decline reason:")),l.a.createElement("div",{onClick:S,id:"imageDiv3"})),l.a.createElement("div",{className:"messageDivReport"},l.a.createElement("textarea",{name:"text",className:"reasonTextForExtend",disabled:"Declined"===e.status&&!0,placeholder:e.decline_notes?e.decline_notes:"text",value:c.declineReason,onChange:r,id:"textarea"})),l.a.createElement("button",{style:{display:"Declined"===e.status&&"none"},onClick:o},"Save")),l.a.createElement("div",{className:"reportIfFinished",style:{display:"Finished"!==e.status&&"none"}},l.a.createElement("div",{className:"subjectDiv"},l.a.createElement("p",null,l.a.createElement("span",{style:{fontWeight:"bold"}},"Report:")),l.a.createElement("div",{onClick:N,id:"imageDiv2"})),l.a.createElement("div",{className:"messageDivReport"},l.a.createElement("textarea",{name:"text",placeholder:e.report?e.report:"Add report",onFocus:function(t){return u(t,e.report)},onBlur:function(e){e.target.value=""},onChange:d,id:"textarea",className:"reportTextForExtend"}),l.a.createElement("div",{className:"sendbuttonAndAtt"},l.a.createElement("div",{className:"attachess"},l.a.createElement("div",{className:"upload-btn-wrapper",style:{display:!c.showSaveButton&&"none"}},l.a.createElement("button",{className:"btn"},l.a.createElement("p",null,"Add file")),l.a.createElement("input",{id:"useForCleaning",type:"file",name:"myfile",onChange:p,multiple:!0})),l.a.createElement("p",{style:{display:c.showSaveButton&&"none"},className:"showFiles"},"Files:"),c.selectedFile&&l.a.createElement("div",{style:{marginRight:"10px"},className:"fileForDownload"},l.a.createElement("p",null,c.selectedFile.name.substring(c.selectedFile.name.lastIndexOf("/")+1)),l.a.createElement("a",{className:"deleteB",onClick:g},"X")),e.report_file&&l.a.createElement("div",{onClick:function(){window.open("https://healthcarebackend.xyz".concat(e.report_file))},className:"fileForDownload"},l.a.createElement("p",null,e.report_file.substring(e.report_file.lastIndexOf("/")+1))))))),l.a.createElement("button",{onClick:i,className:"btnForReport",style:{display:!c.showSaveButton&&"none"},type:"submit"},"Save"))),c.record&&"clientDetail"===c.PageonNav&&c.record.map((function(e){console.log(e);e.client.split(" ");return l.a.createElement("div",{key:e.id,className:"mainClien"},l.a.createElement("div",{className:"iconVideoo"},l.a.createElement("div",{className:"ConsulDetails",style:{borderBottom:"consultDetail"===c.PageonNav&&"4px solid #fa9551"},onClick:function(){h("consultDetail")}},l.a.createElement("h4",{style:{fontWeight:"consultDetail"===c.PageonNav&&"bold"}},"Consultations details")," "),l.a.createElement("div",{className:"ConsulDetails",style:{borderBottom:"clientDetail"===c.PageonNav&&"4px solid #fa9551"},onClick:function(){h("clientDetail")}},l.a.createElement("h4",{style:{fontWeight:"clientDetail"===c.PageonNav&&"bold"}},"Client details")," "),l.a.createElement("div",{className:"ConsulDetails",style:{borderBottom:"clientDetailConsult"===c.PageonNav&&"4px solid #fa9551"},onClick:function(){h("clientDetailConsult")}},l.a.createElement("h4",{style:{fontWeight:"clientDetailConsult"===c.PageonNav&&"bold"}},"Client consultations")," ")),l.a.createElement("div",{className:"client"},l.a.createElement("img",{src:e.image.includes("default")?Xe.a:"https://healthcarebackend.xyz/media/".concat(e.image),alt:"cliet profile"}),l.a.createElement("div",{className:"client-p"},l.a.createElement("p",null,e.client),l.a.createElement("h5",null,"Address: ",l.a.createElement("span",null,e.address)),l.a.createElement("h5",null,"E-mail: ",l.a.createElement("span",null,e.email)),l.a.createElement("h5",null,"Phone number: ",l.a.createElement("span",null,e.phone)),l.a.createElement("h5",null,"Date of birth: ",l.a.createElement("span",null,e.birth_date)),l.a.createElement("h5",null,"M"===e.gender?"Male":"Female"))),l.a.createElement("div",{className:"form"},l.a.createElement("div",{className:"conditionss"},"Chronical conditions:"," "," ",l.a.createElement("br",null),l.a.createElement("textarea",{type:"text",readOnly:!0,className:"address-input",placeholder:e.chronical_conditions,id:"ChronicalConditions"})),l.a.createElement("div",{className:"allergiess"},"Allergies:"," ",l.a.createElement("textarea",{type:"text",readOnly:!0,className:"address-input",placeholder:e.allergies,id:"Allergies"}))))})),"clientDetailConsult"===c.PageonNav&&y?l.a.createElement("img",{src:H.a,className:"loading",alt:"loading...",style:{width:"150px"}}):"clientDetailConsult"!==c.PageonNav||y?null:l.a.createElement("div",{className:"consultMain"},l.a.createElement("div",{className:"iconVideoo"},l.a.createElement("div",{className:"ConsulDetails",style:{borderBottom:"consultDetail"===c.PageonNav&&"4px solid #fa9551"},onClick:function(){h("consultDetail")}},l.a.createElement("h4",{style:{fontWeight:"consultDetail"===c.PageonNav&&"bold"}},"Consultations details")," "),l.a.createElement("div",{className:"ConsulDetails",style:{borderBottom:"clientDetail"===c.PageonNav&&"4px solid #fa9551"},onClick:function(){h("clientDetail")}},l.a.createElement("h4",{style:{fontWeight:"clientDetail"===c.PageonNav&&"bold"}},"Client details")," "),l.a.createElement("div",{className:"ConsulDetails",style:{borderBottom:"clientDetailConsult"===c.PageonNav&&"4px solid #fa9551"},onClick:function(){h("clientDetailConsult")}},l.a.createElement("h4",{style:{fontWeight:"clientDetailConsult"===c.PageonNav&&"bold"}},"Client consultations")," ")),l.a.createElement("div",{className:"mainTabelRecord"},l.a.createElement("div",{className:"mainConsultation"},l.a.createElement("div",{className:"icon_left"},l.a.createElement("p",null,"Consultations"))),l.a.createElement("table",{className:"table2"},l.a.createElement("thead",{className:"client-head"},l.a.createElement("tr",{className:"client-row"},l.a.createElement("th",{className:"client-subject"},"Subject"),l.a.createElement("th",{className:"client-type",style:{padding:c.searchClient&&"0 0 30px 0"}},l.a.createElement("div",{className:"mainExamDiv"},l.a.createElement("select",{type:"text",placeholder:"",onClick:v,onChange:E,defaultValue:c.searchType},l.a.createElement("option",{value:""},"Type"),l.a.createElement("option",{value:"mail"},"Email"),l.a.createElement("option",{value:"video"},"Video")))),l.a.createElement("th",{className:"client-date"},"Date"),l.a.createElement("th",{className:"client-status",style:{padding:c.searchClient&&"0 0 30px 0"}},"Status"))),""===c.messageIfEmpty&&c.paginatedExams.map((function(e,t){return console.log(e),l.a.createElement("tbody",{key:t,className:"client-body"},l.a.createElement("tr",{className:"list-group",style:{fontWeight:e.isRead&&700},onClick:function(){return f(e.id,e.exam_type)}},l.a.createElement("td",{className:"client-subject"},e.subject),l.a.createElement("td",{className:"client-type"},e.exam_type),l.a.createElement("td",{className:"created"},e.created&&!e.appointed_date?l.a.createElement("p",null," ",je()(e.created).format("MM/DD/YY HH:mm")):e.appointed_date?l.a.createElement("p",null," ",je()(e.appointed_date).format("MM/DD/YY HH:mm")):null),l.a.createElement("td",{className:"client-status"},"Pending"===e.status||"In the queue"===e.status?l.a.createElement("img",{src:xe.a,alt:"clockIcon",className:"pendi"}):"Declined"===e.status||"Canceled"===e.status?l.a.createElement("img",{src:Se.a,alt:"declined",className:"declined"}):"Finished"===e.status?l.a.createElement(ye.a,{className:"finished"}):l.a.createElement("img",{src:ve.a,alt:"ckeck",className:"check"}),l.a.createElement("h5",{className:"status"},e.status))))}))),""!==c.messageIfEmpty&&l.a.createElement("div",{className:"NoResultDiv"},c.messageIfEmpty))),"clientDetailConsult"===c.PageonNav&&l.a.createElement("div",{className:"pagi"},l.a.createElement(Ve.a,{activePage:c.page,itemsCountPerPage:10,totalItemsCount:0===c.searchedUpcomingOrPast.length?c.exams.length:c.searchedUpcomingOrPast.length,pageRangeDisplayed:10,onChange:b,itemClassLast:"lastPage",hideFirstLastPages:!0})))})))},zt=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).detail=function(e){var t;return o.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t="Bearer ".concat(a.state.token),n.next=3,o.a.awrap(de.a.get("https://healthcarebackend.xyz/api/web/doctor/".concat(e,"/"),{headers:{Authorization:t}}).then((function(e){console.log(e,"test"),a.setState({exam:[e.data.data],clientID:e.data.data.client_id}),a.record(e.data.data.client_id),a.clientsExams(e.data.data.client_id);var t=document.getElementById("messageMainText"),n=document.querySelector(".messageDiv"),l=document.getElementById("imageDiv1");if(console.log(t),t.scrollHeight>100&&(t.style.height="".concat(t.scrollHeight,"px"),n.style.height="".concat(t.scrollHeight+60,"px"),l.style.display="block"),e.data.data.report){var s=document.querySelector(".reportTextForExtend");if(console.log(s.scrollHeight),s.scrollHeight<=130)document.getElementById("imageDiv2").style.display="none"}else{document.getElementById("imageDiv2").style.display="none"}if(e.data.data.decline_notes){var c=document.querySelector(".reasonTextForExtend");if(console.log(c.scrollHeight),c.scrollHeight<=130)document.getElementById("imageDiv3").style.display="none"}else{document.getElementById("imageDiv3").style.display="none"}})));case 3:case"end":return n.stop()}}))},a.handleSubmit=function(e){"Decline"!==e&&a.doctorExam(e)},a.extendreport=function(e){console.log(e.target);var t=document.querySelector(".reportTextForExtend");console.log(t.scrollHeight,t.clientHeight),130===t.clientHeight?t.style.height="".concat(t.scrollHeight,"px"):t.style.height="130px"},a.extendreport2=function(e){console.log(e.target);var t=document.querySelector(".reasonTextForExtend");console.log(t.scrollHeight,t.clientHeight),130===t.clientHeight?t.style.height="".concat(t.scrollHeight,"px"):t.style.height="130px"},a.clearFile=function(){a.setState({selectedFile:""}),document.getElementById("useForCleaning").value=""},a.handleStatus=function(e){a.setState({statusValue:e});var t=e.value;console.log(t),a.setState({selectedStatus:t}),a.handleSubmit(t)},a.doctorExam=function(e){var t,n,l,s,c;return o.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return t="Bearer ".concat(a.state.token),(n=new FormData).append("status",e),n.append("decline_notes",a.state.declineReason),n.append("report",a.state.report),n.append("report_file",a.state.selectedFile),l="https://healthcarebackend.xyz/api/web/doctor/".concat(a.state.id,"/"),s=de.a.put(l,n,{headers:{"content-type":"multipart/form-data",Authorization:t}}),r.next=10,o.a.awrap(s);case 10:return c=r.sent,console.log(c),!0===c.data.success&&(a.socket.send({exam_id:a.state.id,changedStatus:!0}),window.location.reload()),r.abrupt("return",s);case 14:case"end":return r.stop()}}))},a.declineReason=function(e){a.setState({declineReason:e.target.value}),e.target.scrollHeight<300?e.target.style.height="".concat(e.target.scrollHeight,"px"):e.target.style.height="300px"},a.saveReason=function(){a.doctorExam(a.state.selectedStatus)},a.saveReport=function(){a.doctorExam("Finish")},a.report=function(e){a.setState({report:e.target.value}),e.target.scrollHeight<300?e.target.style.height="".concat(e.target.scrollHeight,"px"):e.target.style.height="300px"},a.handleJoinRoom=function(e){a.props.history.push({pathname:"/room/".concat(a.props.match.params.id),state:e})},a.handleshowSave=function(e,t){e.target.value=t,a.setState({showSaveButton:!0})},a.onChangeHandler=function(e){a.setState({selectedFile:e.target.files[0]})},a.handlePage=function(e){a.setState({PageonNav:e});var t=setInterval((function(){if("clientDetail"===e){var a=document.getElementById("ChronicalConditions");a.style.height="".concat(a.scrollHeight,"px"),console.log(a);var n=document.getElementById("Allergies");n.style.height="".concat(n.scrollHeight,"px")}else if("consultDetail"===e){var l=document.getElementById("messageMainText"),s=document.querySelector(".messageDiv"),c=document.getElementById("imageDiv1");if(console.log(l),l.scrollHeight>100&&(l.style.height="".concat(l.scrollHeight,"px"),s.style.height="".concat(l.scrollHeight+60,"px"),c.style.display="block"),Object(Je.a)(document.querySelectorAll(".message")).map((function(e){if(e.scrollHeight>100){e.style.height="".concat(e.scrollHeight,"px");var t=e.parentElement.previousSibling.lastChild;t.style.display="block",t.onclick=function(){e.clientHeight>100?e.style.height="100px":e.style.height="".concat(e.scrollHeight,"px")}}})),document.querySelector(".reportTextForExtend").scrollHeight<=130)document.getElementById("imageDiv2").style.display="none";if(document.querySelector(".reportTextForExtend").scrollHeight<=130)document.getElementById("imageDiv3").style.display="none"}clearInterval(t)}),200)},a.handleExtendDiv=function(){var e=document.getElementById("messageMainText"),t=document.querySelector(".messageDiv");console.log(e),e.clientHeight>100?(e.style.height="100px",t.style.height="".concat(160,"px")):(e.style.height="".concat(e.scrollHeight,"px"),t.style.height="".concat(e.scrollHeight+60,"px"))},a.record=function(e){var t="Bearer ".concat(a.state.token);de.a.get("https://healthcarebackend.xyz/api/doctor/record/".concat(e,"/"),{headers:{Authorization:t}}).then((function(e){return console.log(e,"nzm ni ja sta"),a.handleAll(),a.setState({record:[e.data.data]})}))},a.clientsExams=function(e){var t="Bearer ".concat(a.state.token);de.a.get("https://healthcarebackend.xyz/api/exams/client/".concat(e,"/list/"),{headers:{Authorization:t}}).then((function(e){var t=0!==e.data.data.mail.length?e.data.data.mail.filter((function(e){return"Pending"!==e.transaction.status})):[],n=0!==e.data.data.video.length?e.data.data.video.filter((function(e){return"Pending"!==e.transaction.status})):[],l=t.concat(n);return a.setState({exams:l})})).then((function(){a.handleAll()}))},a.handleAll=function(){var e=setInterval((function(){var t=a.state.exams,n=t.sort((function(e,t){return Date.parse(t.created)-Date.parse(e.created)})),l=0===t.length?"No consultations":"";a.setState({upcomingOrPast:n,page:1,messageIfEmpty:l,currentFilterClicked:"all",searchedUpcomingOrPast:[],filterFiltered:[],searchType:"",searchName:""}),a.paginate(1),clearInterval(e)}),10)},a.paginate=function(e){if(0===a.state.searchedUpcomingOrPast.length){var t=Math.ceil(a.state.upcomingOrPast.length/10),n=10*(e-1),l=a.state.upcomingOrPast.slice(n,n+10);a.setState({paginatedExams:l,loading:!1,maxPages:t})}else{var s=Math.ceil(a.state.searchedUpcomingOrPast.length/10),c=10*(e-1),r=a.state.searchedUpcomingOrPast.slice(c,c+10);a.setState({paginatedExams:r,loading:!1,maxPages:s})}},a.searchByType=function(e){""===e.target.value&&""===a.state.searchName?a.setState({filterFiltered:[]}):""===e.target.value&&""!==a.state.searchName&&a.setState({filterFiltered:[]});var t=e.target.value.toLowerCase();a.setState({searchType:t});var n=setInterval((function(){a.handlingSearchByType(),clearInterval(n)}),10)},a.handlingSearchByType=function(){var e=0===a.state.filterFiltered.length?a.state.upcomingOrPast.filter((function(e){return e.exam_type.toLowerCase().indexOf(a.state.searchType)===a.state.searchType.indexOf(a.state.searchType)?e:null})):a.state.filterFiltered.filter((function(e){return e.exam_type.toLowerCase().indexOf(a.state.searchType)===a.state.searchType.indexOf(a.state.searchType)?e:null})),t=0===e.length?"No Such Type":0!==e.length&&"No Such Type"!==a.state.messageIfEmpty?a.state.messageIfEmpty:"";0===a.state.filterFiltered.length&&a.setState({filterFiltered:e}),a.setState({searchedUpcomingOrPast:e,page:1,messageIfEmpty:t}),a.paginate(1)},a.handleClick=function(e,t){"mail"===t?a.props.history.push("/doctor/exam/detail/".concat(e)):"video"===t?(a.props.history.push("/doctor/video/exam/detail/".concat(e,"/")),window.location.reload()):"queue"===t&&a.props.history.push("/doctor/processing/video/exam/".concat(e,"/#init"))},a.ResetonSelectChange=function(){a.setState({filterFiltered:[]})},a.handlePageChange=function(e){a.setState({page:e}),a.paginate(e)},a.connect=function(){sessionStorage.getItem("socketConnected")||(a.props.connectToWebSocket(new WebSocket("wss://healthcarebackend.xyz/ws/dashboard/doctor/".concat(a.state.id,"/"))),a.props.connection.onopen=function(){console.log("connected to port"),sessionStorage.setItem("socketConnected","true")}),a.props.connection.onmessage=function(e){console.log(e);var t=JSON.parse(e.data);JSON.parse(e.data).content&&oe.NotificationManager.error("".concat(JSON.parse(e.data).content),"New Alert!",2e3),t.id===JSON.parse(a.state.id)&&"video"===t.exam_type&&a.detail(a.props.match.params.id)}},a.state={exam:[],statusValue:"",selectedStatus:"",token:sessionStorage.getItem("accessToken"),id:"",value:"",declineReason:"",report:"",displayReport:!1,showSaveButton:!1,page:1,PageonNav:"",clientID:"",currentFilterClicked:"",searchName:"",searchType:"",messageIfEmpty:"",paginatedExams:[],searchedUpcomingOrPast:[],exams:[],selectedFile:""},a.socket=new WebSocket("wss://healthcarebackend.xyz/ws/message/".concat(a.props.match.params.id,"/")),a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.id;this.setState({id:t,PageonNav:"consultDetail"}),this.detail(t),this.socket.onopen=function(){console.log("connected")},this.socket.onmessage=function(a){var n=JSON.parse(a.data);console.log(n),n.exam_id===parseInt(t)&&e.detail(t)},setTimeout((function(){e.connect()}))}},{key:"componentWillUnmount",value:function(){this.socket.close()}},{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(Ht,{exam:this.state.exam,handleStatus:this.handleStatus,submitValue:this.state.submitValue,handleSubmit:this.handleSubmit,props:this.state,extendreport:this.extendreport,extendreport2:this.extendreport2,declineReason:this.declineReason,saveReason:this.saveReason,saveReport:this.saveReport,report:this.report,handleJoinRoom:this.handleJoinRoom,handleshowSave:this.handleshowSave,onChangeHandler:this.onChangeHandler,handlePage:this.handlePage,clearFile:this.clearFile,handleClick:this.handleClick,loading:this.state.loading,searchByType:this.searchByType,ResetonSelectChange:this.ResetonSelectChange,handlePageChange:this.handlePageChange,handleExtendDiv:this.handleExtendDiv}))}}]),t}(n.Component),Lt=Object(f.b)((function(e){return{connection:e.getIn(["connectToWebSocketReducer","connection"])}}),(function(e){return Object(g.bindActionCreators)({connectToWebSocket:He},e)}))(zt),Ut=(a(260),function(e){var t=e.props,a=e.record,n=e.handleClick,s=e.loading,c=e.searchByType,r=e.ResetonSelectChange,o=e.handlePageChange,i=e.handlePage;return l.a.createElement(l.a.Fragment,null,a&&a.map((function(e){return console.log(e),l.a.createElement("div",{key:e.id,className:"mainClienn",style:{padding:"clientConsul"===t.pageYourOn&&"0",height:"clientConsul"===t.pageYourOn&&"10px"}},l.a.createElement("div",{className:"newVideo",style:{margin:"clientConsul"===t.pageYourOn&&"0px"}},l.a.createElement("div",{className:"profileDoc",style:{borderBottom:"clientDetails"===t.pageYourOn&&"4px solid #fa9551"},onClick:function(){i("clientDetails")}},l.a.createElement("h4",{style:{fontWeight:"clientDetails"===t.pageYourOn&&"bold"}},"Client details")),l.a.createElement("div",{className:"profileDoc",style:{borderBottom:"clientConsul"===t.pageYourOn&&"4px solid #fa9551"},onClick:function(){i("clientConsul")}},l.a.createElement("h4",{style:{fontWeight:"clientConsul"===t.pageYourOn&&"bold"}},"Client consultations"))),"clientDetails"===t.pageYourOn&&l.a.createElement("div",null,l.a.createElement("div",{className:"client"},l.a.createElement("img",{src:e.image.includes("default")?Xe.a:"https://healthcarebackend.xyz/media/".concat(e.image),alt:"cliet profile"}),l.a.createElement("div",{className:"client-p"},l.a.createElement("p",null,e.client),l.a.createElement("h5",null,"Address: ",l.a.createElement("span",null,e.address)),l.a.createElement("h5",null,"E-mail: ",l.a.createElement("span",null,e.email)),l.a.createElement("h5",null,"Phone number: ",l.a.createElement("span",null,e.phone)),l.a.createElement("h5",null,"Date of birth: ",l.a.createElement("span",null,e.birth_date)),l.a.createElement("h5",null,"M"===e.gender?"Male":"Female"))),l.a.createElement("div",{className:"form"},l.a.createElement("div",{className:"conditionss"},l.a.createElement("span",null,"Chronical conditions"," "),l.a.createElement("textarea",{type:"text",readOnly:!0,className:"address-input",placeholder:e.chronical_conditions,id:"ChronicalConditions"})),l.a.createElement("div",{className:"allergiess"},l.a.createElement("span",null,"Allergies"," "),l.a.createElement("textarea",{type:"text",readOnly:!0,className:"address-input2",placeholder:e.allergies,id:"Allergies"})))),"clientConsul"===t.pageYourOn&&l.a.createElement("div",{className:"consAndPagi"},s?l.a.createElement("img",{src:H.a,className:"loading",alt:"loading...",style:{width:"150px"}}):l.a.createElement("div",{className:"mainTabelRecord"},l.a.createElement("div",{className:"mainConsultation"},l.a.createElement("div",{className:"icon_left"},l.a.createElement("p",null,"Consultations"))),l.a.createElement("table",{className:"table2"},l.a.createElement("thead",{className:"client-head"},l.a.createElement("tr",{className:"client-row"},l.a.createElement("th",{className:"client-subject"},"Subject"),l.a.createElement("th",{className:"client-type",style:{padding:t.searchClient&&"0 0 30px 0"}},l.a.createElement("div",{className:"mainExamDiv"},l.a.createElement("select",{type:"text",placeholder:"",onClick:r,onChange:c,value:t.searchType},l.a.createElement("option",{value:""},"Type"),l.a.createElement("option",{value:"mail"},"Email"),l.a.createElement("option",{value:"video"},"Video")))),l.a.createElement("th",{className:"client-date"},"Date"),l.a.createElement("th",{className:"client-status",style:{padding:t.searchClient&&"0 0 30px 0"}},"Status"))),""===t.messageIfEmpty&&t.paginatedExams.map((function(e,t){return console.log(e),l.a.createElement("tbody",{key:t,className:"client-body"},l.a.createElement("tr",{className:"list-group",style:{fontWeight:e.isRead&&700},onClick:function(){return n(e.id,e.exam_type)}},l.a.createElement("td",{className:"client-subject"},e.subject),l.a.createElement("td",{className:"client-type"},e.exam_type),l.a.createElement("td",{className:"created"},e.created&&!e.appointed_date?l.a.createElement("p",null," ",je()(e.created).format("MM/DD/YY HH:mm")):e.appointed_date?l.a.createElement("p",null," ",je()(e.appointed_date).format("MM/DD/YY HH:mm")):null),l.a.createElement("td",{className:"client-status"},"Pending"===e.status||"In the queue"===e.status?l.a.createElement("img",{src:xe.a,alt:"clockIcon",className:"pendi"}):"Declined"===e.status||"Canceled"===e.status?l.a.createElement("img",{src:Se.a,alt:"declined",className:"declined"}):"Finished"===e.status?l.a.createElement(ye.a,{className:"finished"}):l.a.createElement("img",{src:ve.a,alt:"ckeck",className:"check"}),l.a.createElement("h5",{className:"status"},e.status))))}))),""!==t.messageIfEmpty&&l.a.createElement("div",{className:"NoResultDiv"},t.messageIfEmpty)),l.a.createElement("div",{className:"pagi"},l.a.createElement(Ve.a,{activePage:t.page,itemsCountPerPage:10,totalItemsCount:0===t.searchedUpcomingOrPast.length?t.exams.length:t.searchedUpcomingOrPast.length,pageRangeDisplayed:10,onChange:o,itemClassLast:"lastPage",hideFirstLastPages:!0}))))})))}),Wt=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).record=function(){var e="Bearer ".concat(a.state.token);de.a.get("https://healthcarebackend.xyz/api/doctor/record/".concat(a.state.id,"/"),{headers:{Authorization:e}}).then((function(e){return console.log(e,"nzm ni ja sta"),a.handleAll(),a.setState({record:[e.data.data]})})).then((function(){var e=document.getElementById("ChronicalConditions");e.style.height="".concat(e.scrollHeight,"px");var t=document.getElementById("Allergies");t.style.height="".concat(t.scrollHeight,"px")}))},a.clientsExams=function(){var e="Bearer ".concat(a.state.token);de.a.get("https://healthcarebackend.xyz/api/exams/client/".concat(a.state.id,"/list/"),{headers:{Authorization:e}}).then((function(e){console.log(e,"podaciiii");var t=0!==e.data.data.mail.length?e.data.data.mail.filter((function(e){return"Pending"!==e.transaction.status})):[],n=0!==e.data.data.video.length?e.data.data.video.filter((function(e){return"Pending"!==e.transaction.status})):[],l=t.concat(n);return a.setState({exams:l})})).then((function(){a.handleAll()}))},a.handlePage=function(e){a.setState({pageYourOn:e})},a.handleAll=function(){var e=setInterval((function(){var t=a.state.exams,n=t.sort((function(e,t){return Date.parse(t.created)-Date.parse(e.created)})),l=0===t.length?"No consultations":"";a.setState({upcomingOrPast:n,page:1,messageIfEmpty:l,currentFilterClicked:"all",searchedUpcomingOrPast:[],filterFiltered:[],searchType:"",searchName:""}),a.paginate(1),clearInterval(e)}),10)},a.paginate=function(e){if(0===a.state.searchedUpcomingOrPast.length){var t=Math.ceil(a.state.upcomingOrPast.length/10),n=10*(e-1),l=a.state.upcomingOrPast.slice(n,n+10);a.setState({paginatedExams:l,loading:!1,maxPages:t})}else{var s=Math.ceil(a.state.searchedUpcomingOrPast.length/10),c=10*(e-1),r=a.state.searchedUpcomingOrPast.slice(c,c+10);a.setState({paginatedExams:r,loading:!1,maxPages:s})}},a.searchByType=function(e){""===e.target.value&&""===a.state.searchName?a.setState({filterFiltered:[]}):""===e.target.value&&""!==a.state.searchName&&a.setState({filterFiltered:[]});var t=e.target.value.toLowerCase();a.setState({searchType:t});var n=setInterval((function(){a.handlingSearchByType(),clearInterval(n)}),10)},a.handlingSearchByType=function(){var e=0===a.state.filterFiltered.length?a.state.upcomingOrPast.filter((function(e){return e.exam_type.toLowerCase().indexOf(a.state.searchType)===a.state.searchType.indexOf(a.state.searchType)?e:null})):a.state.filterFiltered.filter((function(e){return e.exam_type.toLowerCase().indexOf(a.state.searchType)===a.state.searchType.indexOf(a.state.searchType)?e:null})),t=0===e.length?"No Such Type":0!==e.length&&"No Such Type"!==a.state.messageIfEmpty?a.state.messageIfEmpty:"";0===a.state.filterFiltered.length&&a.setState({filterFiltered:e}),a.setState({searchedUpcomingOrPast:e,page:1,messageIfEmpty:t}),a.paginate(1)},a.handleClick=function(e,t){"mail"===t?a.props.history.push("/doctor/exam/detail/".concat(e)):"video"===t?a.props.history.push("/doctor/video/exam/detail/".concat(e,"/#init")):"queue"===t&&a.props.history.push("/doctor/processing/video/exam/".concat(e,"/#init"))},a.ResetonSelectChange=function(){a.setState({filterFiltered:[]})},a.handlePageChange=function(e){a.setState({page:e}),a.paginate(e)},a.state={exams:[],record:null,token:sessionStorage.getItem("accessToken"),id:a.props.match.params.id,currentFilterClicked:"",searchName:"",searchType:"",messageIfEmpty:"",paginatedExams:[],searchedUpcomingOrPast:[],pageYourOn:""},a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.record(),this.clientsExams(),this.setState({pageYourOn:"clientDetails"})}},{key:"render",value:function(){return console.log(this.state.exams),l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"header"},l.a.createElement("div",null,l.a.createElement(re,null),l.a.createElement(me,null))),l.a.createElement(Ut,{record:this.state.record,props:this.state,handleClick:this.handleClick,handleClickMail:this.handleClickMail,handleClient:this.handleClient,hnlClick:this.hnlClick,hnlClick2:this.hnlClick2,hnlClick3:this.hnlClick3,hnlWaitingClick:this.hnlWaitingClick,handleKeyPress:this.handleKeyPress,handleChange:this.handleChange,handleClickLeft:this.handleClickLeft,handleClickRight:this.handleClickRight,loading:this.state.loading,hnlVideoClick:this.hnlVideoClick,handleWaitingRoom:this.handleWaitingRoom,handleVideoPendingClick:this.handleVideoPendingClick,handlePast:this.handlePast,handleAll:this.handleAll,hnlMyConsultations:this.hnlMyConsultations,handleClientSearch:this.handleClientSearch,handleTypeSearch:this.handleTypeSearch,searchByType:this.searchByType,searchByName:this.searchByName,ResetonSelectChange:this.ResetonSelectChange,handlePageChange:this.handlePageChange,handlePage:this.handlePage}))}}]),t}(n.Component),Yt=(a(261),a(170)),qt=a.n(Yt),Jt=(a(262),function(e){var t=e.handleSpeciality,a=e.handleDoctor,n=e.handleSubject,s=e.handleSubmit,c=e.handleMessage,r=e.handleDateChange,o=e.props,i=e.handleAttach,d=e.clearFile,m=e.showDisabledMessage,u=o.excludeTime&&o.excludeTime.map((function(e){return new Date(e.appointed_date)})),p={control:function(e,t){return Object(et.a)({},e,{height:"33px",minHeight:"33px",border:"1.7px solid #fa9551",borderRadius:"10px",width:"100%",background:o.color&&0===o.specialSP.length?"rgb(245, 192, 192)":"white",color:"#666666",fontWeight:"500",div:{display:"flex",alignSelf:"center",height:"33px"}})},menu:function(e,t){return{position:"absolute",zIndex:"40",width:"100%",background:"white",border:"1px solid gray",borderRadius:"5px",boxShadow:"2px 2px 10px gray"}},placeholder:function(){return{fontWeight:"500",color:"#666666",heigth:"33px"}},valueContainer:function(e,t){return Object(et.a)({},e,{height:"33px",padding:"6px"})},input:function(e,t){return Object(et.a)({},e,{margin:"0px"})},indicatorSeparator:function(e){return{display:"none"}},indicatorsContainer:function(e,t){return Object(et.a)({},e,{height:"33px",div:{padding:"5px",alignSelf:"center",height:"33px"}})},singleValue:function(){return{}}},h={control:function(e,t){return Object(et.a)({},e,{height:"33px",minHeight:"33px",border:"1.7px solid #fa9551",borderRadius:"10px",width:"100%",background:o.color&&!o.doctor_id?"rgb(245, 192, 192)":"white",color:"#666666",fontWeight:"500",div:{display:"flex",alignSelf:"center",height:"33px"}})},menu:function(e,t){return{position:"absolute",zIndex:"40",width:"100%",background:"white",border:"1px solid gray",borderRadius:"5px",boxShadow:"2px 2px 10px gray"}},placeholder:function(){return{fontWeight:"500",color:"#666666",heigth:"33px"}},valueContainer:function(e,t){return Object(et.a)({},e,{height:"33px",padding:"6px"})},input:function(e,t){return Object(et.a)({},e,{margin:"0px"})},indicatorSeparator:function(e){return{display:"none"}},indicatorsContainer:function(e,t){return Object(et.a)({},e,{height:"33px",div:{padding:"5px",alignSelf:"center",height:"33px"}})},singleValue:function(){return{}}};return l.a.createElement("div",{className:"exam1"},l.a.createElement("div",{className:"mainExam"},l.a.createElement("div",{className:"newVideo"},l.a.createElement("h4",null,"Video Appointment")),l.a.createElement("div",{className:"exam-spec"},l.a.createElement(Ge.a,{type:"text",id:"speciality",styles:p,placeholder:o.currentSpec?o.currentSpec:"Select Speciality...",options:o.specialities,onChange:t})),l.a.createElement("div",{className:"exam-doc"},l.a.createElement(Ge.a,{noOptionsMessage:function(){return"Select speciality"},type:"text",id:"doctor",styles:h,placeholder:"Select Doctor...",options:0===o.specDoctor.length?o.doctors:o.specDoctor,onChange:a,value:o.resetDoctorSelect})),l.a.createElement("div",{className:"exam-sub"},l.a.createElement("input",{type:"text",className:"form-control",id:"subject",style:{background:o.color&&!o.subject?"rgb(245, 192, 192)":"white"},placeholder:"Enter subject",maxLength:"35",value:o.subject,onChange:n}))),l.a.createElement("div",{className:"DatePicker"},l.a.createElement("div",{className:"exam-mess",style:{background:o.color&&!o.notes?"rgb(245, 192, 192)":"white"}},l.a.createElement("textarea",{type:"text",id:"exam-notes",placeholder:"Enter notes",style:{background:o.color&&!o.notes?"rgb(245, 192, 192)":"white"},value:o.notes,onChange:c}),l.a.createElement("div",{className:"mainDivForFile"},l.a.createElement("div",{className:"upload-btn-wrapper"},l.a.createElement("button",{className:"btnn"},l.a.createElement("div",{className:"attachDiv"},l.a.createElement("p",null,"Add file"))),l.a.createElement("input",{type:"file",id:"useForCleaning",name:"myfile",onChange:i,multiple:!0})),o.attachments&&l.a.createElement("div",{className:"fileForDownload"},l.a.createElement("p",null,o.attachments.name.substring(o.attachments.name.lastIndexOf("/")+1)),l.a.createElement("a",{onClick:d,className:"deleteB"},"X")))),l.a.createElement("div",{className:"MainDate"},l.a.createElement("div",{className:"disabledDiv",onClick:m,style:{zIndex:o.specialSP&&o.doctor_id?0:1}}),l.a.createElement(qt.a,{excludeTimes:u,inline:!0,selected:o.startDate,onChange:r,showTimeSelect:!0,excludeOutOfBoundsTimes:!0,minDate:new Date,timeFormat:"HH:mm",timeIntervals:30,timeCaption:"time",fixedHeight:!0,minTime:7===o.whichDayIsIt?new Date(o.selectedDateForStart):8===o.whichDayIsIt&&o.clickDay>=0&&o.clickDay<5?new Date(o.selectedDateForStart):0===o.selectedWorkingHours.length?je()(new Date).set("hour",23).set("minute",15)._d:new Date(o.selectedDateForStart),maxTime:7===o.whichDayIsIt?new Date(o.selectedDateForEnd):8===o.whichDayIsIt&&o.clickDay>=0&&o.clickDay<5?new Date(o.selectedDateForEnd):0===o.selectedWorkingHours.length?je()(new Date).set("hour",23).set("minute",15)._d:new Date(o.selectedDateForEnd)}),l.a.createElement("p",{style:{display:o.color&&!o.reservedDate?"block":"none"}},"Please select Time and Date")),l.a.createElement("div",{className:"divAndAttach"},l.a.createElement("button",{value:o.submitted,className:"send",onClick:s},"Send"))))}),Gt=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).handleDateChange=function(e){var t=je()(e).format("YYYY-MM-DDTHH:mm:ss"),n=je()(e).format("YYYY-MM-DD"),l=0!==a.state.workingHoursArray.length&&a.state.workingHoursArray.filter((function(t){return t.day===je()(e).isoWeekday()-1}));if(a.setState({startDate:e,reservedDate:t}),0!==a.state.workingHoursArray.length&&7===a.state.workingHoursArray[0].day){var s=je()(e).format("YYYY-MM-DD"),c=s+"T"+a.state.workingHoursArray[0].start_hour,r=s+"T"+a.state.workingHoursArray[0].end_hour;a.setState({selectedDateForEnd:r,selectedDateForStart:c,whichDayIsIt:a.state.workingHoursArray[0].day})}else if(l&&0!==l.length){var o=je()(e).format("YYYY-MM-DD"),i=o+"T"+l[0].start_hour,d=o+"T"+l[0].end_hour;a.setState({selectedDateForEnd:d,selectedDateForStart:i,selectedWorkingHours:l})}else if(0!==a.state.workingHoursArray&&a.state.workingHoursArray.some((function(e){return 8===e.day}))){var m=a.state.workingHoursArray.sort((function(e,t){return t.day-e.day})),u=je()(e).format("YYYY-MM-DD"),p=u+"T"+m[0].start_hour,h=u+"T"+m[0].end_hour;a.setState({selectedDateForEnd:h,selectedDateForStart:p,whichDayIsIt:m[0].day,selectedWorkingHours:[]})}else a.setState({selectedDateForEnd:"",selectedDateForStart:"",selectedWorkingHours:[]});var g=a.state.doctorsExams&&a.state.doctorsExams.filter((function(e){return je()(e.appointed_date).format("YYYY-MM-DD")===n?e:null}));a.setState({excludeTime:g,clickDay:je()(e).isoWeekday()-1})},a.handleSpeciality=function(e){var t=a.state.doctors.filter((function(t){return t.spec===e.label}));console.log(t),a.setState({specialSP:e.value,specDoctor:t,resetDoctorSelect:null,currentSpec:""})},a.handleDoctor=function(e){console.log(e),"True"!==e.web_exam_status&&(a.setState({webExamStatus:!1}),oe.NotificationManager.error("This Doctor doesn't provide this services","Warning",2e3)),a.props.dispatch(ht(e)),console.log(e);var t=a.state.specialities.filter((function(t){return t.label===e.spec}));console.log(a.state.specialities),a.setState({doctor_id:e.iD,doctorsPrice:e.price,currency:e.currency});var n="Bearer ".concat(a.state.token);de.a.get("https://healthcarebackend.xyz/api/web/doc/".concat(e.iD,"/"),{headers:{Authorization:n}}).then((function(e){console.log(e);var t=e.data.data&&e.data.data.filter((function(e){return je()(e.appointed_date).format("YYYY-MM-DD")>=je()(new Date).format("YYYY-MM-DD")}));a.setState({doctorsExams:t})})).then((function(){var e=je()(new Date).format("YYYY-MM-DD"),t=a.state.doctorsExams&&a.state.doctorsExams.filter((function(t){return je()(t.appointed_date).format("YYYY-MM-DD")===e?t:null}));a.setState({excludeTime:t})})),a.setState({resetDoctorSelect:e,specialSP:t[0].value,currentSpec:t[0].label}),a.workingHoursForDoctor(e.iD)},a.handleSubject=function(e){a.setState({subject:e.target.value})},a.handleMessage=function(e){a.setState({notes:e.target.value})},a.handleSubmit=function(e){var t,n,l,s;return o.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.setState({color:"red"}),!a.state.webExamStatus){e.next=27;break}if(!(a.state.specialSP&&a.state.doctor_id&&a.state.subject&&a.state.notes&&a.state.reservedDate)){e.next=24;break}return a.setState({isClicked:!0}),(t=new FormData).append("client",a.state.clientId),t.append("speciality",a.state.specialSP),t.append("doctor",a.state.doctor_id),t.append("subject",a.state.subject),t.append("attachments",a.state.attachments),t.append("appointed_date",a.state.reservedDate),t.append("notes",a.state.notes),t.append("price",""),n="Bearer ".concat(a.state.token),"https://healthcarebackend.xyz/api/web/client/initiate/",l=de.a.post("https://healthcarebackend.xyz/api/web/client/initiate/",t,{headers:{"content-type":"multipart/form-data",Authorization:n}}),e.next=18,o.a.awrap(l);case 18:return s=e.sent,console.log(s),s.data.success&&(a.setState({transaction_id:s.data.data.transaction}),a.toCheckout()),e.abrupt("return",l);case 24:oe.NotificationManager.error("Empty Fielde Or You Did Not Set Time And Date","Failed!",4e3);case 25:e.next=28;break;case 27:oe.NotificationManager.error("This Doctor doesn't provide this services","Warning",2e3);case 28:case"end":return e.stop()}}))},a.toCheckout=function(){return o.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:if("0.00"===a.state.doctorsPrice){e.next=4;break}return e.abrupt("return",a.props.history.push({pathname:"/checkout",state:{price:a.state.doctorsPrice,currency:a.state.currency,transaction_id:a.state.transaction_id}}));case 4:return e.abrupt("return",a.props.history.push("/dashboard-client"));case 5:case"end":return e.stop()}}))},a.handleClientProfile=function(){var e;return o.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:e="Bearer ".concat(a.state.token),de.a.get("https://healthcarebackend.xyz/api/client/profile/",{headers:{Authorization:e}}).then((function(e){return console.log(e.data.data,"profile of client"),a.setState({clientId:e.data.data.id})}));case 2:case"end":return t.stop()}}))},a.workingHoursForDoctor=function(e){var t="Bearer ".concat(a.state.token);de.a.get("https://healthcarebackend.xyz/api/client/schedule/".concat(e,"/"),{headers:{Authorization:t}}).then((function(e){a.setState({workingHoursArray:e.data.data})}))},a.clearFile=function(){a.setState({attachments:""}),document.getElementById("useForCleaning").value=""},a.handleAttach=function(e){a.setState({attachments:e.target.files[0]})},a.showDisabledMessage=function(){oe.NotificationManager.error("Please select Doctor first","Warning",3e3)},a.state={complete:!1,specialities:[],doctors:[],filtered:[],subject:"",notes:"",submitted:!1,price:null,doctor_id:null,token:sessionStorage.getItem("accessToken"),specDoctor:[],specialSP:[],currentSpec:"",resetDoctorSelect:null,isClicked:!1,startDate:"",reservedDate:"",doctorsPrice:"",clientId:null,attachments:"",doctorsExams:[],excludeTime:[],currency:null,color:"",webExamStatus:!0,workingHoursArray:[],selectedDateForStart:"",selectedDateForEnd:"",excludeDate:"",selectedWorkingHours:[],transaction_id:"",whichDayIsIt:"",clickDay:""},a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.handleClientProfile(),de.a.get("https://healthcarebackend.xyz/api/specialities/").then((function(t){console.log(t,"spec");var a=t.data.data.map((function(e){return{value:e.id,iD:e.speciality_id,label:e.name}}));e.setState({specialities:a})})),de.a.get("https://healthcarebackend.xyz/api/doctor/list/").then((function(t){console.log(t);var a=t.data.data.map((function(e){return{value:e.id,iD:e.id,label:e.doctor,spec:e.speciality,price:e.web_exam_price,currency:e.web_currency,web_exam_status:e.web_exam_status}}));e.setState({doctors:a}),e.props.location.state&&t.data.data.filter((function(t){if(t.id===e.props.location.state.doctorId){var a={value:t.id,iD:t.id,label:t.doctor,spec:t.speciality,price:t.web_exam_price,currency:t.web_currency,web_exam_status:t.web_exam_status};e.handleDoctor(a)}}))}))}},{key:"render",value:function(){return console.log(this.state.selectedDateForStart,this.state.selectedDateForEnd),console.log(this.state.selectedWorkingHours),l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"header"},l.a.createElement("div",null,l.a.createElement(re,null),l.a.createElement(me,null))),l.a.createElement(Jt,{handleSpeciality:this.handleSpeciality,handleDoctor:this.handleDoctor,handleSubject:this.handleSubject,handleSubmit:this.handleSubmit,handleMessage:this.handleMessage,handleDateChange:this.handleDateChange,handleAttach:this.handleAttach,props:this.state,clearFile:this.clearFile,showDisabledMessage:this.showDisabledMessage}))}}]),t}(n.Component),Qt=Object(f.b)((function(e){return{doctor:e.getIn(["doctorReducer","doctor"]),price:e.price}}))(Gt),Xt=(a(156),function(e){var t=e.exam,a=e.props,s=e.handleStatus,c=e.statusValue,r=e.handleJoinRoom,o=e.handleExtendDiv,i=e.extendreport2,d=e.extendreport,m={control:function(){return{width:160,border:"2px solid #fa9551",borderRadius:"10px",height:"33px",fontWeight:600,display:"flex"}}};return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"header"},l.a.createElement("div",null,l.a.createElement(re,null),l.a.createElement(me,null))),t.map((function(e){console.log(e);var t="Appointed"===e.status?"Accepted":e.status,u="Pending"===e.status||"Appointed"===e.status?[{value:"Cancel",label:"Cancel"}]:[];return l.a.createElement(n.Fragment,{key:e.id},l.a.createElement("div",{className:"detail-exam"},l.a.createElement("div",{className:"iconVideo"},l.a.createElement("h4",null,"Consultation details")," "),l.a.createElement("div",{className:"detail"},l.a.createElement("p",null,l.a.createElement("span",null,"Doctor:")," ",e.doctor),l.a.createElement("p",null,l.a.createElement("span",null,"Speciality:")," ",e.speciality),e.appointed_date?l.a.createElement("p",null,l.a.createElement("span",null,"Appointed"===e.status||"Finished"===e.status?"Appointed date: :":"Appoint date: ")," ",je()(e.appointed_date).format("MM/DD/YY HH:mm")):l.a.createElement("p",null," ",l.a.createElement("span",null,"Created:")," ",new Intl.DateTimeFormat("en-GB",{year:"numeric",month:"long",day:"2-digit"}).format(new Date(e.created))),l.a.createElement("p",null,l.a.createElement("span",null,"Type:")," ",e.exam_type),"Pending"!==e.status?l.a.createElement("p",null,l.a.createElement("span",null,"Status:")," ",e.status):l.a.createElement("div",{className:"divSelectButton"},l.a.createElement(Ge.a,{type:"text",placeholder:t,styles:m,className:"select-option",value:c,options:u,onChange:s}))),l.a.createElement("div",{className:"mainMessageDiv"},l.a.createElement("div",{className:"subjectDiv"},l.a.createElement("p",null,l.a.createElement("span",{style:{fontWeight:"bold"}},"Subject:")," ",e.subject),l.a.createElement("div",{className:"infoAndSquare",style:{display:"flex"}},l.a.createElement("p",null,l.a.createElement("span",null,je()(e.created).format("MM/DD/YY"))),l.a.createElement("div",{id:"imageDiv1",onClick:o}))),l.a.createElement("div",{className:"messageDiv"},l.a.createElement("textarea",{defaultValue:e.notes,id:"messageMainText",disabled:!0}),e.attachments?l.a.createElement("div",{className:"mainFileDiv"},l.a.createElement("div",{className:"FileDiv"},l.a.createElement("p",null,"Files:")),e.attachments&&l.a.createElement("div",{onClick:function(){window.location.href="https://healthcarebackend.xyz".concat(e.attachments)},className:"fileForDownload"},l.a.createElement("p",null,e.attachments.substring(e.attachments.lastIndexOf("/")+1)))):null),l.a.createElement("div",{className:"reportIfDeclined",style:{display:"Declined"!==e.status?"none":"block"}},l.a.createElement("div",{className:"subjectDiv"},l.a.createElement("p",null,l.a.createElement("span",null,"Decline reason:")),l.a.createElement("div",{onClick:i,id:"imageDiv3"})),l.a.createElement("div",{className:"messageDivReport"},l.a.createElement("textarea",{name:"text",className:"reasonTextForExtend",disabled:"Declined"===e.status&&!0,placeholder:e.decline_notes?e.decline_notes:"text",value:a.declineReason,id:"textarea"}))),l.a.createElement("div",{className:"reportIfFinished",style:{display:"Finished"!==e.status?"none":"block"}},l.a.createElement("div",{className:"subjectDiv"},l.a.createElement("p",null,l.a.createElement("span",null,"Report:")),l.a.createElement("div",{onClick:d,id:"imageDiv2"})),l.a.createElement("div",{className:"messageDivReport"},l.a.createElement("textarea",{name:"text",className:"reportTextForExtend",disabled:"Finished"===e.status&&!0,placeholder:e.report?e.report:"text",value:a.declineReason,id:"textarea"}),e.report_file?l.a.createElement("div",{className:"mainFileDiv"},l.a.createElement("div",{className:"FileDiv"},l.a.createElement("p",null,"Files:")),e.report_file&&l.a.createElement("div",{onClick:function(){window.open("https://healthcarebackend.xyz".concat(e.report_file))},className:"fileForDownload"},l.a.createElement("p",null,e.report_file.substring(e.report_file.lastIndexOf("/")+1)))):null))),"Appointed"===e.status||"Accepted"===e.status?l.a.createElement("div",{className:"message-btn"},l.a.createElement("button",{className:"message-link",onClick:function(){return r(e.room.uid)}},"Join now")):null))})))}),Kt=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).handleJoinRoom=function(e){a.props.history.push({pathname:"/room/".concat(a.props.match.params.id),state:e})},a.handleStatus=function(e){a.setState({statusValue:e});var t=e.value,n=e.label;console.log(t,n),a.setState({selectedStatus:t}),a.handleCancel(t)},a.handleCancel=function(e){var t,n,l;return o.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return t="Bearer ".concat(a.state.token),s.next=3,o.a.awrap(fetch("https://healthcarebackend.xyz/api/web/client/".concat(a.state.id,"/"),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:t},body:JSON.stringify({status:e})}));case 3:return n=s.sent,s.next=6,o.a.awrap(n.json());case 6:return l=s.sent,console.log(l),!0===l.success&&a.props.history.push("/dashboard-client"),s.abrupt("return",l);case 10:case"end":return s.stop()}}))},a.detail=function(){var e="Bearer ".concat(a.state.token);de.a.get("https://healthcarebackend.xyz/api/web/client/".concat(a.state.id,"/"),{headers:{Authorization:e}}).then((function(e){console.log(e.data),a.setState({exam:[e.data.data],appointedDate:e.data.data.appointed_date});var t=document.getElementById("messageMainText"),n=document.querySelector(".messageDiv"),l=document.getElementById("imageDiv1");if(console.log(t),t.scrollHeight>100&&(t.style.height="".concat(t.scrollHeight,"px"),n.style.height="".concat(t.scrollHeight+60,"px"),l.style.display="block"),e.data.data.report){var s=document.querySelector(".reportTextForExtend");if(console.log(s.scrollHeight),s.scrollHeight<=150)document.getElementById("imageDiv2").style.display="none"}else{document.getElementById("imageDiv2").style.display="none"}if(e.data.data.decline_notes){var c=document.querySelector(".reasonTextForExtend");if(console.log(c.scrollHeight),c.scrollHeight<=150)document.getElementById("imageDiv3").style.display="none"}else{document.getElementById("imageDiv3").style.display="none"}}))},a.connect=function(){sessionStorage.getItem("socketConnected")||(a.props.connectToWebSocket(new WebSocket("wss://healthcarebackend.xyz/ws/dashboard/client/".concat(a.state.id,"/"))),a.props.connection.onopen=function(){console.log("connected to port"),sessionStorage.setItem("socketConnected","true")}),a.props.connection.onmessage=function(e){console.log(e);var t=JSON.parse(e.data);JSON.parse(e.data).content&&oe.NotificationManager.error("".concat(JSON.parse(e.data).content),"New Alert!",2e3),t.id===JSON.parse(a.state.id)&&"video"===t.exam_type&&a.detail()}},a.extendreport=function(e){console.log(e.target);var t=document.querySelector(".reportTextForExtend");console.log(t.scrollHeight,t.clientHeight),150===t.clientHeight?t.style.height="".concat(t.scrollHeight,"px"):t.style.height="150px"},a.extendreport2=function(e){console.log(e.target);var t=document.querySelector(".reasonTextForExtend");console.log(t.scrollHeight,t.clientHeight),150===t.clientHeight?t.style.height="".concat(t.scrollHeight,"px"):t.style.height="150px"},a.handleExtendDiv=function(){var e=document.getElementById("messageMainText"),t=document.querySelector(".messageDiv");console.log(e),e.clientHeight>100?(e.style.height="100px",t.style.height="".concat(160,"px")):(e.style.height="".concat(e.scrollHeight,"px"),t.style.height="".concat(e.scrollHeight+60,"px"))},a.handleDivClose=function(){a.setState({startVideo:!1})},a.state={exam:[],statusValue:"",selectedStatus:"",token:sessionStorage.getItem("accessToken"),id:a.props.match.params.id,appointedDate:"",YourNumber:null,doctorsVideoId:null,startVideo:!1,value:"",width:700,height:500,x:0,y:0,hover:!1,showChat:!1,video:!0,audio:!0},a.socket=new WebSocket("wss://healthcarebackend.xyz/ws/message/".concat(a.props.match.params.id,"/")),a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"componentWillUnmount",value:function(){this.socket.close()}},{key:"componentDidMount",value:function(){var e=this;this.detail(),this.socket.onopen=function(){console.log("connected")},this.socket.onmessage=function(t){var a=JSON.parse(t.data);console.log(a),a.exam_id===parseInt(e.state.id)&&e.detail()},setTimeout((function(){e.connect()}))}},{key:"render",value:function(){return console.log(this.state.selectedStatus,this.state.statusValue),l.a.createElement(l.a.Fragment,null,l.a.createElement(Xt,{exam:this.state.exam,handleCancel:this.handleCancel,props:this.state,handleStatus:this.handleStatus,handleJoinRoom:this.handleJoinRoom,handleExtendDiv:this.handleExtendDiv,extendreport:this.extendreport,extendreport2:this.extendreport2}))}}]),t}(n.Component),$t=Object(f.b)((function(e){return{connection:e.getIn(["connectToWebSocketReducer","connection"])}}),(function(e){return Object(g.bindActionCreators)({connectToWebSocket:He},e)}))(Kt);a(320);var Zt=function(e){var t=e.props,a=e.handleClick,n=e.handleDelete;return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"header"},l.a.createElement("div",null,l.a.createElement(re,null),l.a.createElement(me,null))),l.a.createElement("div",{className:"mainClientAlerts"},l.a.createElement("div",{className:"iconAlert"},l.a.createElement("h4",null,"Clients alerts")," "),t.loading?l.a.createElement("img",{src:H.a,alt:"loading",className:"loading"}):l.a.createElement("div",{className:"tableDiv"},l.a.createElement("table",{className:"table2"},l.a.createElement("thead",{className:"client-head"},l.a.createElement("tr",{className:"client-row"},l.a.createElement("th",{className:"client-doctor"},"Text"),l.a.createElement("th",{className:"client-type"},"Type"),l.a.createElement("th",{className:"client-date"},"Time"),l.a.createElement("th",{className:"client-trash"}))),""===t.messageOnScreen&&t.exams.map((function(e,t){return l.a.createElement("tbody",{key:t,className:"client-body"},l.a.createElement("tr",{className:"list-group",style:{fontWeight:e.isRead&&700}},l.a.createElement("td",{onClick:function(){return a(e.mail?e.mail:e.video?e.video:"",e.mail?"mail":e.video?"video":"")},className:"client-doctor"},e.content.replace("Doctor","".concat(e.sender))),l.a.createElement("td",{onClick:function(){return a(e.mail?e.mail:e.video?e.video:"",e.mail?"mail":e.video?"video":"")},className:"client-type"},e.mail?"Mail":e.video?"Video":""),l.a.createElement("td",{onClick:function(){return a(e.mail?e.mail:e.video?e.video:"",e.mail?"mail":e.video?"video":"")},className:"created"},l.a.createElement("p",null," ",je()(e.created).format("MM/DD/YY HH:mm"))),l.a.createElement("td",{onClick:function(){return n(e.id)},className:"client-trash"},"X")))}))),""!==t.messageOnScreen&&l.a.createElement("div",{className:"NoResultDiv"},t.messageOnScreen))))},ea=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).handleDoctorProfile=function(){var e;return o.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:e="Bearer ".concat(a.state.token),de.a.get("https://healthcarebackend.xyz/api/client/profile/",{headers:{Authorization:e}}).then((function(e){var t=e.data.data;setTimeout((function(){a.connect(t.id)})),a.peopleInWaitingRoom(t.id)}));case 2:case"end":return t.stop()}}))},a.peopleInWaitingRoom=function(){var e;return o.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:e="Bearer ".concat(a.state.token),de.a.get("https://healthcarebackend.xyz/api/client/notifications/",{headers:{Authorization:e}}).then((function(e){console.log(e),a.setState({exams:e.data.data,loading:!1})})).catch((function(e){console.log(e.response),a.setState({messageOnScreen:"No alerts",exams:[],loading:!1})}));case 2:case"end":return t.stop()}}))},a.handleClick=function(e,t){return o.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:"mail"===t?a.props.history.push("/client/exam/detail/".concat(e)):"video"===t&&a.props.history.push("/client/video/exam/detail/".concat(e));case 2:case"end":return n.stop()}}))},a.handleDelete=function(e){var t,n,l;return o.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return t="Bearer ".concat(a.state.token),n=de.a.delete("https://healthcarebackend.xyz/api/client/notifications/".concat(e,"/"),{headers:{Authorization:t}}),s.next=4,o.a.awrap(n);case 4:l=s.sent,console.log(l),a.peopleInWaitingRoom();case 7:case"end":return s.stop()}}))},a.connect=function(){sessionStorage.getItem("socketConnected")||(a.props.connectToWebSocket(new WebSocket("wss://healthcarebackend.xyz/ws/dashboard/client/".concat(a.state.id,"/"))),a.props.connection.onopen=function(){console.log("connected to port"),sessionStorage.setItem("socketConnected","true")}),a.props.connection.onmessage=function(e){console.log(e.data),JSON.parse(e.data).content&&oe.NotificationManager.error("".concat(JSON.parse(e.data).content),"New Alert!",2e3),a.peopleInWaitingRoom()}},a.state={exams:[],loading:!0,messageOnScreen:"",token:sessionStorage.getItem("accessToken")},a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.handleDoctorProfile()}},{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(Zt,{props:this.state,handleClick:this.handleClick,handleDelete:this.handleDelete}))}}]),t}(n.Component),ta=Object(f.b)((function(e){return{connection:e.getIn(["connectToWebSocketReducer","connection"])}}),(function(e){return Object(g.bindActionCreators)({connectToWebSocket:He},e)}))(ea),aa=function(e){var t=e.exam,a=e.props,s=e.handleStatus,c=e.statusValue,r=(e.handleReplyClick,e.onChangeHandler),o=e.handleSubmitSend,i=e.handleMessage,d=e.newMessage,m=e.handleExtendDiv,u=e.clearFile,p={control:function(){return{width:160,border:"2px solid #fa9551",borderRadius:"10px",height:"33px",fontWeight:600,display:"flex"}}};return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"header"},l.a.createElement("div",null,l.a.createElement(re,null),l.a.createElement(me,null))),t.map((function(e){console.log(e);var t="Appointed"===e.status?"Accepted":e.status,h="Pending"===e.status||"Accepted"===e.status?[{value:"Cancel",label:"Cancel"}]:[];return l.a.createElement(n.Fragment,{key:e.id},l.a.createElement("div",{className:"detail-exam"},l.a.createElement("div",{className:"iconVideo"},l.a.createElement("h4",null,"Consultation details")," "),l.a.createElement("div",{className:"detail"},l.a.createElement("p",null,l.a.createElement("span",null,"Doctor:")," ",e.doctor),l.a.createElement("p",null,l.a.createElement("span",null,"Speciality:")," ",e.speciality),l.a.createElement("p",null,l.a.createElement("span",null,"Created:")," ",je()(e.created).add(1,"hours").format("MM/DD/YY HH:mm")),l.a.createElement("p",null,l.a.createElement("span",null,"Type:")," ",e.exam_type),"Pending"!==e.status?l.a.createElement("p",null,l.a.createElement("span",null,"Status:")," ",e.status):l.a.createElement("div",{className:"divSelectButton"},l.a.createElement(Ge.a,{type:"text",placeholder:t,className:"select-option",value:c,options:h,styles:p,onChange:s}))),l.a.createElement("div",{className:"sideMessageDetails"},l.a.createElement("div",{className:"SubjectMessage"},l.a.createElement("div",{className:"subjectDiv"},l.a.createElement("p",null,l.a.createElement("span",{style:{fontWeight:"bold"}},"Subject:")," ",e.subject),l.a.createElement("div",{className:"infoAndSquare",style:{display:"flex"}},l.a.createElement("p",null,l.a.createElement("span",null,je()(e.created).format("MM/DD/YY HH:mm"))),l.a.createElement("div",{id:"imageDiv1",onClick:m}))),l.a.createElement("div",{className:"messageDiv"},l.a.createElement("textarea",{defaultValue:e.message,id:"messageMainText",readOnly:!0}),e.attachment?l.a.createElement("div",{className:"mainFileDiv"},l.a.createElement("div",{className:"FileDiv"},l.a.createElement("p",null,"Files:")),e.attachment&&l.a.createElement("div",{onClick:function(){window.open("https://healthcarebackend.xyz".concat(e.attachments))},className:"fileForDownload"},l.a.createElement("p",null,e.attachment.substring(e.attachment.lastIndexOf("/")+1)))):null),l.a.createElement("div",{className:"reportIfDeclined",style:{display:"Declined"===e.status?"block":"none"}},l.a.createElement("div",{className:"subjectDiv"},l.a.createElement("p",null,l.a.createElement("span",null,"Decline reason:"))),l.a.createElement("div",{className:"messageDivReport"},l.a.createElement("textarea",{name:"text",disabled:"Declined"===e.status&&!0,placeholder:e.decline_notes?e.decline_notes:"text",id:"textarea"})))),l.a.createElement("div",{className:"mainMessageCorrespondence",style:{overflow:0===a.correspondence.length&&"hidden"}},l.a.createElement("div",{className:"MessageCorrespondence"},a.correspondence.map((function(e,t){return l.a.createElement("div",{style:{width:e.sender===a.doctor&&"90%"},key:e.id,className:"Maintbody"},l.a.createElement("div",{style:{background:e.sender===a.doctor&&"#00aff0"},className:"senderMaiin"},l.a.createElement("p",{className:"senderP"},l.a.createElement("span",null,"From:")," ",e.sender),l.a.createElement("p",{className:"createdP"},je()(e.created).add(2,"hours").format("MM/DD/YY HH:mm")),l.a.createElement("div",{id:"imageDiv"})),l.a.createElement("div",{className:"row1"},l.a.createElement("textarea",{id:e.id,readOnly:!0,defaultValue:e.message,className:"message"}),e.attachment?l.a.createElement("div",{className:"mainFileDiv"},l.a.createElement("div",{className:"FileDiv"},l.a.createElement("p",null,"Files:")),e.attachment&&l.a.createElement("div",{onClick:function(){window.open("https://healthcarebackend.xyz".concat(e.attachments))},className:"fileForDownload"},l.a.createElement("p",null,e.attachment.substring(e.attachment.lastIndexOf("/")+1)))):null))}))),a.replyClicked&&l.a.createElement("div",{className:"SendMainDiv",style:{marginBottom:"20px"}},l.a.createElement("div",{className:"senderMaiin"},l.a.createElement("p",{className:"senderP"},l.a.createElement("span",null,"From:")," ",a.client),l.a.createElement("p",{className:"createdP"},je()(new Date).format("MM/DD/YY HH:mm"))),l.a.createElement("textarea",{type:"text",className:"messageTextInput",placeholder:"Message...",onChange:i,value:a.messageValue}),l.a.createElement("div",{className:"sendbuttonAndAtt"},l.a.createElement("div",{className:"attachess"},l.a.createElement("div",{className:"upload-btn-wrapper"},l.a.createElement("button",{className:"btn"},l.a.createElement("p",null,"Add file")),l.a.createElement("input",{id:"useForCleaning",type:"file",name:"myfile",onChange:r,multiple:!0})),a.selectedFile&&l.a.createElement("div",{className:"fileForDownload"},l.a.createElement("p",null,a.selectedFile.name.substring(a.selectedFile.name.lastIndexOf("/")+1)),l.a.createElement("a",{onClick:u,className:"deleteB"},"X")))))),"Accepted"!==e.status||a.replyClicked?a.replyClicked?l.a.createElement("button",{className:"sendButtonForReplay",onClick:o},l.a.createElement("span",null,"Send")):null:l.a.createElement("button",{className:"newMessage",onClick:d},l.a.createElement("h1",null,"+")))))})))},na=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).handleStatus=function(e){a.setState({statusValue:e});var t=e.value;e.label;a.handleCancel(t),a.setState({selectedStatus:t})},a.handleCancel=function(e){var t,n,l;return o.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return t="Bearer ".concat(a.state.token),s.next=3,o.a.awrap(fetch("https://healthcarebackend.xyz/api/client/exams/".concat(a.state.id,"/"),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:t},body:JSON.stringify({status:e})}));case 3:return n=s.sent,s.next=6,o.a.awrap(n.json());case 6:return(l=s.sent).success&&a.props.history.push("/dashboard-client"),s.abrupt("return",l);case 9:case"end":return s.stop()}}))},a.detail=function(){var e="Bearer ".concat(a.state.token);de.a.get("https://healthcarebackend.xyz/api/client/exams/".concat(a.state.id,"/"),{headers:{Authorization:e}}).then((function(e){a.setState({exam:[e.data.data],doctor:e.data.data.doctor});var t=document.getElementById("messageMainText"),n=document.querySelector(".messageDiv"),l=document.getElementById("imageDiv1");t.scrollHeight>100&&(t.style.height="".concat(t.scrollHeight,"px"),n.style.height="".concat(t.scrollHeight+60,"px"),l.style.display="block")})).catch((function(e){console.log(e.response)}))},a.handleExtendDiv=function(){var e=document.getElementById("messageMainText"),t=document.querySelector(".messageDiv");e.clientHeight>100?(e.style.height="100px",t.style.height="".concat(120,"px")):(e.style.height="".concat(e.scrollHeight,"px"),t.style.height="".concat(e.scrollHeight+60,"px"))},a.connect=function(){sessionStorage.getItem("socketConnected")||(a.props.connectToWebSocket(new WebSocket("wss://healthcarebackend.xyz/ws/dashboard/client/".concat(a.state.id,"/"))),a.props.connection.onopen=function(){console.log("connected to port"),sessionStorage.setItem("socketConnected","true")}),a.props.connection.onmessage=function(e){console.log(e);var t=JSON.parse(e.data);JSON.parse(e.data).content&&oe.NotificationManager.error("".concat(JSON.parse(e.data).content),"New Alert!",2e3),t.id===JSON.parse(a.state.id)&&"mail"===t.exam_type&&a.detail()}},a.handleMessage=function(e){var t=document.querySelector(".messageTextInput");t.style.height="",t.style.height="".concat(t.scrollHeight,"px"),a.setState({messageValue:e.target.value})},a.handleReplyClick=function(){a.setState({replyClicked:!a.state.replyClicked})},a.newMessage=function(){a.setState({replyClicked:!0})},a.onChangeHandler=function(e){a.setState({selectedFile:e.target.files[0]})},a.handleSubmitSend=function(e){a.state.messageValue?(a.sendMessage(),a.setState({messageValue:"",replyClicked:!1})):oe.NotificationManager.error("Empty Fields","Failed!",2e3)},a.clearFile=function(){a.setState({selectedFile:""}),document.getElementById("useForCleaning").value=""},a.sendMessage=function(){var e,t,n,l;return o.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return(e=new FormData).append("message",a.state.messageValue),e.append("attachment",a.state.selectedFile),t="Bearer ".concat(a.state.token),n="https://healthcarebackend.xyz/api/client/exams/".concat(a.state.id,"/message/"),l=de.a.post(n,e,{headers:{"content-type":"multipart/form-data",Authorization:t}}),s.next=8,o.a.awrap(l);case 8:return s.sent.data.success&&(oe.NotificationManager.success("Message Sent","Successful!",2e3),a.socket.send({exam_id:a.state.id,message:a.state.messageValue}),a.detail(a.state.id),a.correspondence(a.state.id),a.setState({selectedFile:""})),s.abrupt("return",l);case 11:case"end":return s.stop()}}))},a.correspondence=function(e){var t;return o.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t="Bearer ".concat(a.state.token),n.next=3,o.a.awrap(de.a.get("https://healthcarebackend.xyz/api/client/exams/".concat(e,"/messages/"),{headers:{Authorization:t}}).then((function(e){var t=e.data.data.map((function(e){return{id:e.id,sender:e.sender,created:e.created,message:e.message,attachment:e.attachment}})),n=t.sort((function(e,t){return Date.parse(e.created)-Date.parse(t.created)}));a.setState({correspondence:n,lastInArray:t[t.length-1]})})).then((function(){setTimeout((function(){a.handleresizeing()}),200)})).catch((function(e){console.log(e.response)})));case 3:case"end":return n.stop()}}))},a.handleresizeing=function(){if(a.state.correspondence.length){var e=Object(Je.a)(document.querySelectorAll(".message"));e&&0!==e.length&&e.map((function(e){if(e.scrollHeight>100){e.style.height="".concat(e.scrollHeight,"px");var t=e.parentElement.previousSibling.lastChild;t.style.display="block",t.onclick=function(){e.clientHeight>100?e.style.height="100px":e.style.height="".concat(e.scrollHeight,"px")}}}))}},a.state={exam:[],statusValue:"",selectedStatus:"",token:sessionStorage.getItem("accessToken"),id:a.props.match.params.id,correspondence:[],lastInArray:null,replyClicked:!1,messageValue:"",selectedFile:"",doctor:"",client:""},a.socket=new WebSocket("wss://healthcarebackend.xyz/ws/message/".concat(a.props.match.params.id,"/")),a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"componentWillUnmount",value:function(){this.socket.close()}},{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.id;this.detail(),this.correspondence(t),this.socket.onopen=function(){console.log("connected")},this.socket.onmessage=function(a){var n=JSON.parse(a.data);console.log(n),n.exam_id===parseInt(t)&&(e.detail(t),e.correspondence(t)),console.log(n)};var a="Bearer ".concat(this.state.token);de.a.get("https://healthcarebackend.xyz/api/client/profile/",{headers:{Authorization:a}}).then((function(t){var a="".concat(t.data.data.user.first_name," ").concat(t.data.data.user.last_name);return e.connect(),e.setState({client:a})}))}},{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(aa,{exam:this.state.exam,props:this.state,handleStatus:this.handleStatus,onChangeHandler:this.onChangeHandler,handleMessage:this.handleMessage,newMessage:this.newMessage,handleReplyClick:this.handleReplyClick,handleSubmitSend:this.handleSubmitSend,handleExtendDiv:this.handleExtendDiv,clearFile:this.clearFile}))}}]),t}(n.Component),la=Object(f.b)((function(e){return{connection:e.getIn(["connectToWebSocketReducer","connection"])}}),(function(e){return Object(g.bindActionCreators)({connectToWebSocket:He},e)}))(na);a(321);var sa=function(e){var t=e.props,a=e.handleChange,n=e.handleSubmit;return l.a.createElement("div",{className:"mainForgotPass"},l.a.createElement("div",{className:"forgot",style:{display:t.message?"none":"block"}},l.a.createElement("h2",null,"Forgot your password?"),l.a.createElement("p",null,"Tell us your email address, and we'll get you back on track in no time."),l.a.createElement("label",{htmlFor:"email"},"Email Address"),l.a.createElement("br",null),l.a.createElement("input",{type:"text",id:"email",placeholder:"Enter your Email Address",value:t.userEmail,onChange:a}),l.a.createElement("br",null),l.a.createElement("button",{onClick:n},"Confirm email"),l.a.createElement("div",{className:"mainGoBackDiv"},l.a.createElement(h.b,{to:"/login",className:"goBack"},"Back to sing in"))),l.a.createElement("div",{className:"message",style:{display:t.message?"block":"none"}},l.a.createElement("h3",null,t.message)))},ca=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e){a.setState({userEmail:e.target.value})},a.handleSubmit=function(e){e.preventDefault(),a.userCheck()},a.userCheck=function(){var e,t;return o.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.a.awrap(fetch("https://healthcarebackend.xyz/api/auth/reset/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:a.state.userEmail})}));case 2:return e=n.sent,n.next=5,o.a.awrap(e.json());case 5:t=n.sent,console.log(t),t.success,a.setState({message:t.message});case 8:case"end":return n.stop()}}))},a.state={userEmail:"",message:null,newPassword:"",confPassword:""},a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"header"},l.a.createElement("div",null,l.a.createElement(re,null),l.a.createElement(me,null))),l.a.createElement(sa,{props:this.state,handleChange:this.handleChange,handleSubmit:this.handleSubmit}),l.a.createElement("div",{style:{position:"fixed",bottom:"0",width:"100%"}},l.a.createElement(ge,null)))}}]),t}(n.Component);a(322);var ra=function(e){var t=e.handleNewPassword,a=e.handleConfPassword,n=e.handleChangePassSubmit,s=e.props;return l.a.createElement("div",{className:"mainChangePass"},l.a.createElement("div",{className:"newPasswords",style:{display:s.message?"none":"block"}},l.a.createElement("h2",null,"Changing password"),l.a.createElement("p",null,"Please note that when changing your password, we ask you to set yourself a secure password that contains both uppercase and lowercase letters as well as numbers. This is for your own safety."),l.a.createElement("label",{htmlFor:"newPass"},"New password"),l.a.createElement("br",null),l.a.createElement("input",{type:"password",id:"newPass",value:s.newPassword,onChange:t}),l.a.createElement("br",null),l.a.createElement("label",{htmlFor:"confPass"},"Confirm new password"),l.a.createElement("br",null),l.a.createElement("input",{type:"password",id:"confPass",value:s.confPassword,onChange:a}),l.a.createElement("button",{onClick:n},"Change password")),l.a.createElement("div",{className:"message",style:{display:s.message?"block":"none"}},l.a.createElement("h3",null,s.message)))},oa=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).handleNewPassword=function(e){a.setState({newPassword:e.target.value})},a.handleConfPassword=function(e){a.setState({confPassword:e.target.value})},a.handleChangePassSubmit=function(e){e.preventDefault(),a.state.newPassword===a.state.confPassword?a.changePass():oe.NotificationManager.error("Confirmation password is not identical","Failed!",2e3)},a.changePass=function(){var e,t;return o.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.a.awrap(fetch("https://healthcarebackend.xyz/api/auth/reset-confirm/".concat(a.state.id,"/"),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:a.state.newPassword,confirm_password:a.state.confPassword})}));case 2:return e=n.sent,n.next=5,o.a.awrap(e.json());case 5:t=n.sent,console.log(t),t.success,a.setState({message:t.message});case 8:case"end":return n.stop()}}))},a.state={newPassword:"",confPassword:"",message:null,id:a.props.match.params.id},a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return console.log(this.state.id,this.state.pass,this.state.newPassword,this.state.confPassword),l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"header"},l.a.createElement("div",null,l.a.createElement(re,null),l.a.createElement(me,null))),l.a.createElement(ra,{handleNewPassword:this.handleNewPassword,handleConfPassword:this.handleConfPassword,handleChangePassSubmit:this.handleChangePassSubmit,props:this.state}),l.a.createElement("div",{style:{position:"fixed",bottom:"0",width:"100%"}},l.a.createElement(ge,null)))}}]),t}(n.Component),ia={width:"37%",margin:"120px auto 0px auto",height:"500px",backgroundColor:"#f2f2f2",borderRadius:"15px",position:"relative",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",padding:"20px"},da={color:"#00aff0",marginBottom:"30px",fontWeight:"700"},ma={position:"absolute",width:"110px",right:"-30px",top:"-25px"},ua=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).getResponse=function(){de.a.get("https://healthcarebackend.xyz/api/auth/activate/".concat(a.state.id),{headers:{"Content-Type":"application/json"}}).then((function(e){console.log(e.data),e.data.success||a.setState({message:e.data.message})})).catch((function(e){console.log(e)}))},a.state={id:a.props.match.params.id,message:""},a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.getResponse()}},{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"header"},l.a.createElement("div",null,l.a.createElement(re,null),l.a.createElement(me,null))),l.a.createElement("div",{style:ia},l.a.createElement("img",{src:H.a,style:ma,alt:"cLogo"}),l.a.createElement("h1",{style:da},!this.state.message&&"Email confirmed!"),l.a.createElement("h3",{style:{color:"#00aff0"}},this.state.message?this.state.message:"Click on Log in to access your account")))}}]),t}(n.Component),pa=(a(323),a(359));var ha=function(e){var t=e.handleClient,a=e.clients,n=(e.handleSort,e.handleSearch,e.props),s=e.handleDoctor,c=e.resetFilter,r=0===n.filteredByName.length?n.clients:n.rfilteredByName,o={control:function(e,t){return Object(et.a)({},e,{height:"33px",border:"1.7px solid #fa9551",borderRadius:"15px",width:"100%",background:"white",color:"#666666",fontWeight:"bold"})},placeholder:function(){return{color:"#666666",fontWeight:"bold"}}};return l.a.createElement("div",{className:"mainClientsDiv"},l.a.createElement("div",{className:"clientsAbove"},l.a.createElement("h4",null,"Clients List")),l.a.createElement("div",{className:"clientsDiv"},l.a.createElement("div",{className:"exam-doc"},l.a.createElement(Ge.a,{styles:o,type:"text",id:"doctor",placeholder:"Choose Client",options:r,onChange:s,onMenuOpen:c,value:n.resetDoctorSelect}))),l.a.createElement("div",{className:"row2"},a.map((function(e){return console.log(e),null===e.iD?null:l.a.createElement("div",{key:e.iD,className:"list-group"},l.a.createElement("div",{"data-id":e.iD,className:"list-group-item"},l.a.createElement("img",{src:e.image.includes("default")?Xe.a:"https://healthcarebackend.xyz/media/".concat(e.image),alt:"cliet profile"}),l.a.createElement("div",{className:"docInfo"},l.a.createElement("p",null,e.label),l.a.createElement("h5",null,"Email: ",l.a.createElement("span",null,e.email)),l.a.createElement("h5",null,"Phone: ",l.a.createElement("span",null,e.phone))),l.a.createElement(pa.a,{to:"#",onClick:function(){return t(e.iD)},className:"Details"},"Details")))}))))},ga=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).handleClient=function(e){a.props.history.push("/doctor/record/".concat(e))},a.clients=function(){var e="Bearer ".concat(a.state.token);de.a.get("https://healthcarebackend.xyz/api/doctor/clients/",{headers:{Authorization:e}}).then((function(e){if(console.log(e,"examform2"),e.data.data){var t=e.data.data.map((function(e){return{value:e.id,iD:e.client_id,label:e.client,spec:e.speciality,price:e.email_exam_price,currency:e.email_currency,image:e.image,email:e.email,phone:e.phone}}));a.setState({clients:t})}}))},a.handleDoctor=function(e){console.log(e);a.state.clients.filter((function(t){return t.spec===e.label}));a.setState({resetDoctorSelect:e,filteredByName:[e]})},a.resetFilter=function(){a.setState({filteredByName:[]})},a.state={clients:[],token:sessionStorage.getItem("accessToken"),filteredByName:[]},a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.clients()}},{key:"render",value:function(){return console.log(this.state.clients),l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"header"},l.a.createElement("div",null,l.a.createElement(re,null),l.a.createElement(me,null))),l.a.createElement(ha,{clients:this.state.clients,handleClient:this.handleClient,handleSort:this.handleSort,handleSearch:this.handleSearch,props:this.state,handleDoctor:this.handleDoctor,resetFilter:this.resetFilter}))}}]),t}(n.Component),fa=(a(324),a(360)),ya=a(133),Ea=a(355),va=a(356),ba=a(357),xa=a(358),Na=a(361),Sa=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).peopleVideoPending=function(){var e;return o.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return e="Bearer ".concat(a.state.token),t.next=3,o.a.awrap(de.a.get("https://healthcarebackend.xyz/api/exams/doctor/",{headers:{Authorization:e}}).then((function(e){console.log(e.data.data);var t=e.data.data.video.map((function(e){return{client:e.client,startTime:e.appointed_date,endTime:je()(e.appointed_date).add(30,"minutes").format("YYYY-MM-DD HH:mm"),id:e.id}}));a.setState({exams:Object(Je.a)(a.state.exams.concat(t))})})).catch((function(e){console.log(e)})));case 3:case"end":return t.stop()}}))},a.state={token:sessionStorage.getItem("accessToken"),exams:[]},a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.peopleVideoPending()}},{key:"render",value:function(){return console.log(this.state.exams),l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"header"},l.a.createElement("div",null,l.a.createElement(re,null),l.a.createElement(me,null))),l.a.createElement("div",{style:{width:"calc(100% - 480px)",margin:"110px 120px 58px auto"}},l.a.createElement(fa.a,{currentView:"Agenda",workHours:{highlight:!0,start:"09:00",end:"17:00"},selectedDate:new Date,isSlotAvailable:!0,eventSettings:{dataSource:this.state.exams,fields:{id:"id",subject:{name:"client"},startTime:{name:"startTime"},endTime:{name:"endTime"}}}},l.a.createElement(ya.b,{services:[Ea.a,va.a,ba.a,xa.a,Na.a]}))))}}]),t}(n.Component),Ca=(a(325),function(e){var t=e.props,a=e.handleClick;return l.a.createElement("div",{className:"mainEmailList"},l.a.createElement("div",{className:"iconEmail"},l.a.createElement("h4",null,"Email request")," "),t.loading?l.a.createElement("img",{src:H.a,alt:"loading",className:"loading"}):l.a.createElement("div",{className:"tableDiv"},l.a.createElement("table",{className:"table2"},l.a.createElement("thead",{className:"client-head"},l.a.createElement("tr",{className:"client-row"},l.a.createElement("th",{className:"client-doctor"},l.a.createElement("div",{className:"mainExamDiv"},l.a.createElement("span",{className:"examTypetext"},"Client"," "))),l.a.createElement("th",{className:"client-subject"},"Subject"),l.a.createElement("th",{className:"client-date"},"Date"))),""===t.messageOnScreen&&t.exams.map((function(e,t){return l.a.createElement("tbody",{key:t,className:"client-body"},l.a.createElement("tr",{className:"list-group",style:{fontWeight:e.isRead&&700},onClick:function(){return a(e.id,e.exam_type)}},l.a.createElement("td",{className:"client-doctor"},e.client),l.a.createElement("td",{className:"client-subject"},"Subject: ",e.subject),l.a.createElement("td",{className:"created"},e.created&&!e.appointed_date?l.a.createElement("p",null," ",je()(e.created).format("MM/DD/YY")):e.appointed_date?l.a.createElement("p",null," ",je()(e.appointed_date).format("MM/DD/YY HH:mm")):null)))}))),""!==t.messageOnScreen&&l.a.createElement("div",{className:"NoResultDiv"},t.messageOnScreen)))}),ka=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).paginatedExams=function(){var e;return o.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:e="Bearer ".concat(a.state.token),de.a.get("https://healthcarebackend.xyz/api/exams/doctor/",{headers:{Authorization:e}}).then((function(e){if(console.log(e),0!==e.data.data.mail.length){var t=0!==e.data.data.mail.length?e.data.data.mail.filter((function(e){return"Pending"!==e.transaction.status})):[],n=t.filter((function(e){return"Pending"===e.status}));a.setState({exams:n,loading:!1}),0===t.length&&a.setState({messageOnScreen:"No consultations"})}else a.setState({messageOnScreen:"No counsultations",exams:[],loading:!1})})).catch((function(e){console.log(e.response,"error"),a.setState({messageOnScreen:"No counsultations",exams:[],loading:!1})}));case 2:case"end":return t.stop()}}))},a.handleClick=function(e,t){"mail"===t&&a.props.history.push("/doctor/exam/detail/".concat(e))},a.handleDoctorProfile=function(){var e;return o.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:e="Bearer ".concat(a.state.token),de.a.get("https://healthcarebackend.xyz/api/doctor/profile/",{headers:{Authorization:e}}).then((function(e){var t=e.data.data;a.setState({doctorCurent:t}),a.paginatedExams()}));case 2:case"end":return t.stop()}}))},a.state={exams:[],loading:!0,messageOnScreen:"",token:sessionStorage.getItem("accessToken"),mail:[],doctorCurent:""},a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.handleDoctorProfile()}},{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"header"},l.a.createElement("div",null,l.a.createElement(re,null),l.a.createElement(me,null))),l.a.createElement(Ca,{props:this.state,handleClick:this.handleClick}))}}]),t}(n.Component),Da=Object(f.b)((function(e){return{doctor:e.getIn(["docReducer","doctor"])}}))(ka),wa=(a(326),function(e){var t=e.props,a=e.handleClick;return l.a.createElement("div",{className:"mainEmailList"},l.a.createElement("div",{className:"iconEmail"},l.a.createElement("h4",null,"Video requests")," "),t.loading?l.a.createElement("img",{src:H.a,alt:"loading",className:"loading"}):l.a.createElement("div",{className:"tableDiv"},l.a.createElement("table",{className:"table2"},l.a.createElement("thead",{className:"client-head"},l.a.createElement("tr",{className:"client-row"},l.a.createElement("th",{className:"client-doctor"},l.a.createElement("div",{className:"mainExamDiv"},l.a.createElement("span",{className:"examTypetext"},"Client"," "))),l.a.createElement("th",{className:"client-subject"},"Subject"),l.a.createElement("th",{className:"client-date"},"Date"))),""===t.messageOnScreen&&t.exams.map((function(e,t){return l.a.createElement("tbody",{key:t,className:"client-body"},l.a.createElement("tr",{className:"list-group",style:{fontWeight:e.isRead&&700},onClick:function(){return a(e.id,e.exam_type)}},l.a.createElement("td",{className:"client-doctor"},e.client),l.a.createElement("td",{className:"client-subject"},"Subject: ",e.subject),l.a.createElement("td",{className:"created"},e.created&&!e.appointed_date?l.a.createElement("p",null," ",je()(e.created).format("MM/DD/YY")):e.appointed_date?l.a.createElement("p",null," ",je()(e.appointed_date).format("MM/DD/YY HH:mm")):null)))}))),""!==t.messageOnScreen&&l.a.createElement("div",{className:"NoResultDiv"},t.messageOnScreen)))}),Oa=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).paginatedExams=function(){var e;return o.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:e="Bearer ".concat(a.state.token),de.a.get("https://healthcarebackend.xyz/api/exams/doctor/",{headers:{Authorization:e}}).then((function(e){if(console.log(e),0!==e.data.data.video.length){var t=0!==e.data.data.video.length?e.data.data.video.filter((function(e){return"Pending"!==e.transaction.status})):[],n=t.filter((function(e){return"Pending"===e.status}));console.log(t,n),a.setState({exams:n,loading:!1}),0===n.length&&a.setState({messageOnScreen:"No consultations"})}else a.setState({messageOnScreen:"No counsultations",exams:[],loading:!1})})).catch((function(e){console.log(e.response,"error"),a.setState({messageOnScreen:"No counsultations",exams:[],loading:!1})}));case 2:case"end":return t.stop()}}))},a.handleClick=function(e,t){"video"===t&&a.props.history.push("/doctor/video/exam/detail/".concat(e,"/#init"))},a.state={exams:[],loading:!0,messageOnScreen:"",token:sessionStorage.getItem("accessToken")},a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.paginatedExams()}},{key:"render",value:function(){return console.log(this.state.messageOnScreen),l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"header"},l.a.createElement("div",null,l.a.createElement(re,null),l.a.createElement(me,null))),l.a.createElement(wa,{props:this.state,handleClick:this.handleClick}))}}]),t}(n.Component);a(327);var Pa=function(e){var t=e.handleClick,a=e.props,n=e.handleDelete;return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"header"},l.a.createElement("div",null,l.a.createElement(re,null),l.a.createElement(me,null))),l.a.createElement("div",{className:"mainDoctorAlerts"},l.a.createElement("div",{className:"iconAlert"},l.a.createElement("h4",null,"Doctors alerts")," "),a.loading?l.a.createElement("img",{src:H.a,alt:"loading",className:"loading"}):l.a.createElement("div",{className:"tableDiv"},l.a.createElement("table",{className:"table2"},l.a.createElement("thead",{className:"client-head"},l.a.createElement("tr",{className:"client-row"},l.a.createElement("th",{className:"client-doctor"},"Text"),l.a.createElement("th",{className:"client-type"},"Type"),l.a.createElement("th",{className:"client-date"},"Time"),l.a.createElement("th",{className:"client-trash"}))),""===a.messageOnScreen&&a.exams.map((function(e,a){var s=e.content.replace("Client","".concat(e.sender));return l.a.createElement("tbody",{key:a,className:"client-body"},l.a.createElement("tr",{className:"list-group",style:{fontWeight:e.isRead&&700}},l.a.createElement("td",{onClick:function(){return t(e.mail?e.mail:e.video?e.video:"",e.mail?"mail":e.video?"video":"")},className:"client-doctor"},s),l.a.createElement("td",{onClick:function(){return t(e.mail?e.mail:e.video?e.video:"",e.mail?"mail":e.video?"video":"")},className:"client-type"},e.mail?"Mail":e.video?"Video":""),l.a.createElement("td",{onClick:function(){return t(e.mail?e.mail:e.video?e.video:"",e.mail?"mail":e.video?"video":"")},className:"created"},l.a.createElement("p",null," ",je()(e.created).format("MM/DD/YY HH:mm"))),l.a.createElement("td",{onClick:function(){return n(e.id)},className:"client-trash"},"X")))}))),""!==a.messageOnScreen&&l.a.createElement("div",{className:"NoResultDiv"},a.messageOnScreen))))},_a=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).handleDoctorProfile=function(){var e;return o.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:e="Bearer ".concat(a.state.token),de.a.get("https://healthcarebackend.xyz/api/doctor/profile/",{headers:{Authorization:e}}).then((function(e){var t=e.data.data;setTimeout((function(){a.connect(t.id)})),a.paginatedExams()}));case 2:case"end":return t.stop()}}))},a.paginatedExams=function(){var e;return o.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:e="Bearer ".concat(a.state.token),de.a.get("https://healthcarebackend.xyz/api/doctor/notifications/",{headers:{Authorization:e}}).then((function(e){console.log(e),a.setState({exams:e.data.data,loading:!1})})).catch((function(e){console.log(e.response,"error"),a.setState({loading:!1,messageOnScreen:"No alerts",exams:[]})}));case 2:case"end":return t.stop()}}))},a.connect=function(e){sessionStorage.getItem("socketConnected")||(a.props.connectToWebSocket(new WebSocket("wss://healthcarebackend.xyz/ws/dashboard/doctor/".concat(e,"/"))),a.props.connection.onopen=function(){console.log("connected to port"),sessionStorage.setItem("socketConnected","true")}),a.props.connection.onmessage=function(e){console.log(e.data),JSON.parse(e.data).content&&oe.NotificationManager.error("".concat(JSON.parse(e.data).content),"New Alert!",2e3),a.paginatedExams()}},a.handleClick=function(e,t){return o.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:"mail"===t&&a.props.history.push("/doctor/exam/detail/".concat(e,"/")),"video"===t&&a.props.history.push("doctor/video/exam/detail/".concat(e,"/#init"));case 2:case"end":return n.stop()}}))},a.handleDelete=function(e){var t,n,l;return o.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return t="Bearer ".concat(a.state.token),console.log(e),n=de.a.delete("https://healthcarebackend.xyz/api/doctor/notifications/".concat(e,"/"),{headers:{Authorization:t}}),s.next=5,o.a.awrap(n);case 5:l=s.sent,console.log(l),a.paginatedExams();case 8:case"end":return s.stop()}}))},a.state={exams:[],loading:!0,messageOnScreen:"",token:sessionStorage.getItem("accessToken")},a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.handleDoctorProfile()}},{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(Pa,{props:this.state,handleClick:this.handleClick,handleDelete:this.handleDelete}))}}]),t}(n.Component),Aa=Object(f.b)((function(e){return{connection:e.getIn(["connectToWebSocketReducer","connection"])}}),(function(e){return Object(g.bindActionCreators)({connectToWebSocket:He},e)}))(_a),Ta=a(79),Ia=function(e){var t=e.component,a=Object(Ta.a)(e,["component"]);return l.a.createElement(se.b,Object.assign({},a,{render:function(e){return sessionStorage.getItem("accessToken")&&"false"===sessionStorage.getItem("is_doctor")?l.a.createElement(t,e):l.a.createElement(se.a,{to:{pathname:"/login",state:{from:e.location}}})}}))},Fa=function(e){var t=e.component,a=Object(Ta.a)(e,["component"]);return l.a.createElement(se.b,Object.assign({},a,{render:function(e){return sessionStorage.getItem("accessToken")&&"true"===sessionStorage.getItem("is_doctor")?l.a.createElement(t,e):l.a.createElement(se.a,{to:{pathname:"/login",state:{from:e.location}}})}}))},ja=function(e){var t=e.component,a=Object(Ta.a)(e,["component"]);return l.a.createElement(se.b,Object.assign({},a,{render:function(e){return sessionStorage.getItem("accessToken")&&"false"===sessionStorage.getItem("is_doctor")||"true"===sessionStorage.getItem("is_doctor")?l.a.createElement(t,e):l.a.createElement(se.a,{to:{pathname:"/login",state:{from:e.location}}})}}))};a(328);var Ma=function(e){var t=e.props,a=e.handleImage,n=e.userLogin,s=e.handleChange;return l.a.createElement("div",{className:"mainSettings"},l.a.createElement("div",{className:"iconVideo"},l.a.createElement("h4",null,"Settings")," "),l.a.createElement("div",{className:"doctor"},l.a.createElement("label",{htmlFor:"Email"},"Email"),l.a.createElement("input",{id:"Email",value:t.Email,onChange:s,autoComplete:"off",type:"text"}),l.a.createElement("label",{htmlFor:"Password"},"Password"),l.a.createElement("div",{className:"imageAndInputDiv"},l.a.createElement("input",{id:"Password",value:t.Password,onChange:s,autoComplete:"off",type:t.seePass?"text":"password"}),l.a.createElement("img",{onClick:a,src:t.seePass?at.a:lt.a,alt:"img"})),l.a.createElement("button",{onClick:n},"Update")))},Va=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).handleImage=function(){a.setState({seePass:!a.state.seePass})},a.handleChange=function(e){a.setState(Object(rt.a)({},e.target.id,e.target.value))},a.userLogin=function(){var e,t;return o.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.a.awrap(fetch("https://healthcarebackend.xyz/api/auth/login/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:a.state.Email,password:a.state.Password})}));case 2:return e=n.sent,n.next=5,o.a.awrap(e.json());case 5:t=n.sent,console.log(t),t.password?oe.NotificationManager.error("".concat(t.password[0]),"Failed!",3e3):t.email?oe.NotificationManager.error("".concat(t.email[0]),"Failed!",3e3):!1===t.success?oe.NotificationManager.error("Invalid credentials","Failed!",3e3):!0===t.success&&a.props.history.push({pathname:"/doctors-update",state:{detail:"doctor found"}});case 8:case"end":return n.stop()}}))},a.state={seePass:!1,Email:"",Password:""},a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return console.log(this.state.Password),l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"header"},l.a.createElement("div",null,l.a.createElement(re,null),l.a.createElement(me,null))),l.a.createElement(Ma,{props:this.state,handleImage:this.handleImage,userLogin:this.userLogin,handleChange:this.handleChange}))}}]),t}(n.Component);a(329);var Ba=function(e){var t=e.props,a=e.userLogin,n=e.handleChange,s=e.handleImage1,c=e.handleImage2;return l.a.createElement("div",{className:"mainUpdate"},l.a.createElement("div",{className:"iconVideo"},l.a.createElement("h4",null,"Update account")," "),l.a.createElement("div",{className:"doctor"},l.a.createElement("label",{htmlFor:"Password"},"New Password"),l.a.createElement("div",null,l.a.createElement("input",{id:"NewPassword",type:t.seePass1?"text":"password",autoComplete:"off",value:t.NewPassword,onChange:n}),l.a.createElement("img",{onClick:s,src:t.seePass1?at.a:lt.a,alt:"img"})),l.a.createElement("label",{htmlFor:"Password"},"Confirm new Password"),l.a.createElement("div",null,l.a.createElement("input",{id:"ConfNewPassword",value:t.ConfNewPassword,autoComplete:"off",onChange:n,type:t.seePass2?"text":"password"}),l.a.createElement("img",{onClick:c,src:t.seePass2?at.a:lt.a,alt:"img"})),l.a.createElement("button",{onClick:a},"Update")))},Ra=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e){a.setState(Object(rt.a)({},e.target.id,e.target.value))},a.handleImage1=function(){a.setState({seePass1:!a.state.seePass1})},a.handleImage2=function(){a.setState({seePass2:!a.state.seePass2})},a.userLogin=function(){var e,t,n;return o.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:return e="Bearer ".concat(a.state.token),l.next=3,o.a.awrap(fetch("https://healthcarebackend.xyz/api/auth/password-change/",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:e},body:JSON.stringify({new_password:a.state.NewPassword,confirm_password:a.state.ConfNewPassword})}));case 3:return t=l.sent,l.next=6,o.a.awrap(t.json());case 6:n=l.sent,console.log(n),!1===n.success?oe.NotificationManager.error("".concat(n.error),"Failed!",2e3):!0===n.success&&(oe.NotificationManager.success("".concat(n.message),"Successful!",2e3),a.props.history.push("/doctors-settings"));case 9:case"end":return l.stop()}}))},a.state={NewPassword:"",ConfNewPassword:"",seePass1:!1,seePass2:!1,token:sessionStorage.getItem("accessToken")},a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.props.location.state||this.props.history.push("/doctors-settings")}},{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"header"},l.a.createElement("div",null,l.a.createElement(re,null),l.a.createElement(me,null))),l.a.createElement(Ba,{props:this.state,userLogin:this.userLogin,handleImage1:this.handleImage1,handleImage2:this.handleImage2,handleChange:this.handleChange}))}}]),t}(n.Component);a(330),a(331);var Ha=function(e){var t=e.props,a=e.handleImage,n=e.userLogin,s=e.handleChange;return l.a.createElement("div",{className:"mainSettingsClient"},l.a.createElement("div",{className:"iconVideo"},l.a.createElement("h4",null,"Settings")," "),l.a.createElement("div",{className:"doctor"},l.a.createElement("label",{htmlFor:"Email"},"Email"),l.a.createElement("input",{id:"Email",value:t.Email,autoComplete:"off",onChange:s,type:"text"}),l.a.createElement("label",{htmlFor:"Password"},"Password"),l.a.createElement("div",{className:"imageAndInputDiv"},l.a.createElement("input",{id:"Password",value:t.Password,onChange:s,autoComplete:"off",type:t.seePass?"text":"password"}),l.a.createElement("img",{onClick:a,src:t.seePass?at.a:lt.a,alt:"img"})),l.a.createElement("button",{onClick:n},"Update")))},za=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).handleImage=function(){a.setState({seePass:!a.state.seePass})},a.handleChange=function(e){a.setState(Object(rt.a)({},e.target.id,e.target.value))},a.userLogin=function(){var e,t;return o.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.a.awrap(fetch("https://healthcarebackend.xyz/api/auth/login/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:a.state.Email,password:a.state.Password})}));case 2:return e=n.sent,n.next=5,o.a.awrap(e.json());case 5:t=n.sent,console.log(t),t.password?oe.NotificationManager.error("".concat(t.password[0]),"Failed!",3e3):t.email?oe.NotificationManager.error("".concat(t.email[0]),"Failed!",3e3):!1===t.success?oe.NotificationManager.error("Invalid credentials","Failed!",3e3):!0===t.success&&a.props.history.push({pathname:"/client-update",state:{detail:"client found"}});case 8:case"end":return n.stop()}}))},a.state={seePass:!1,Email:"",Password:""},a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return console.log(this.state.Password),l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"header"},l.a.createElement("div",null,l.a.createElement(re,null),l.a.createElement(me,null))),l.a.createElement(Ha,{props:this.state,handleImage:this.handleImage,userLogin:this.userLogin,handleChange:this.handleChange}))}}]),t}(n.Component);a(332);var La=function(e){var t=e.props,a=e.userLogin,n=e.handleChange,s=e.handleImage1,c=e.handleImage2;return l.a.createElement("div",{className:"mainUpdateClient"},l.a.createElement("div",{className:"iconVideo"},l.a.createElement("h4",null,"Update account")," "),l.a.createElement("div",{className:"doctor"},l.a.createElement("label",{htmlFor:"Password"},"New Password"),l.a.createElement("div",null,l.a.createElement("input",{id:"NewPassword",value:t.NewPassword,autoComplete:"off",onChange:n,type:t.seePass1?"text":"password"}),l.a.createElement("img",{onClick:s,src:t.seePass1?at.a:lt.a,alt:"img"})),l.a.createElement("label",{htmlFor:"Password"},"Confirm new Password"),l.a.createElement("div",null,l.a.createElement("input",{id:"ConfNewPassword",value:t.ConfNewPassword,autoComplete:"off",onChange:n,type:t.seePass2?"text":"password"}),l.a.createElement("img",{onClick:c,src:t.seePass2?at.a:lt.a,alt:"img"})),l.a.createElement("button",{onClick:a},"Update")))},Ua=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).handleImage1=function(){a.setState({seePass1:!a.state.seePass1})},a.handleImage2=function(){a.setState({seePass2:!a.state.seePass2})},a.handleChange=function(e){a.setState(Object(rt.a)({},e.target.id,e.target.value))},a.userLogin=function(){var e,t,n;return o.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:return e="Bearer ".concat(a.state.token),l.next=3,o.a.awrap(fetch("https://healthcarebackend.xyz/api/auth/password-change/",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:e},body:JSON.stringify({new_password:a.state.NewPassword,confirm_password:a.state.ConfNewPassword})}));case 3:return t=l.sent,l.next=6,o.a.awrap(t.json());case 6:n=l.sent,console.log(n),!1===n.success?oe.NotificationManager.error("".concat(n.error),"Failed!",2e3):!0===n.success&&(oe.NotificationManager.success("".concat(n.message),"Successful!",2e3),a.props.history.push("/client-settings"));case 9:case"end":return l.stop()}}))},a.state={seePass1:!1,seePass2:!1,NewPassword:"",ConfNewPassword:"",token:sessionStorage.getItem("accessToken")},a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.props.location.state||this.props.history.push("/client-settings")}},{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"header"},l.a.createElement("div",null,l.a.createElement(re,null),l.a.createElement(me,null))),l.a.createElement(La,{props:this.state,userLogin:this.userLogin,handleImage1:this.handleImage1,handleImage2:this.handleImage2,handleChange:this.handleChange}))}}]),t}(n.Component),Wa=a(106),Ya=a.n(Wa);a(333);var qa=function(e){var t=e.handleClient,a=e.props,n=(e.handleSort,e.handleSortBySpec,e.handleSpeciality),s=e.handleDoctor,c=e.resetFilter,r={control:function(e,t){return Object(et.a)({},e,{height:"33px",border:"1.7px solid #fa9551",borderRadius:"15px",width:"100%",background:"white",color:"#666666",fontWeight:"bold"})},placeholder:function(){return{color:"#666666",fontWeight:"bold"}}},o=0===a.filteredBySpec.length?a.doctors:a.filteredBySpec;return console.log(o),l.a.createElement("div",{className:"mainDoctorsDiv"},l.a.createElement("div",{className:"doctorsAbove"},l.a.createElement("h4",null,"Doctors list")),l.a.createElement("div",{className:"doctorsDiv"},l.a.createElement("div",{className:"exam-spec"},l.a.createElement(Ge.a,{type:"text",styles:r,id:"speciality",placeholder:a.currentSpec?a.currentSpec:"Select Speciality",options:a.specialities,onChange:n})),l.a.createElement("div",{className:"exam-doc"},l.a.createElement(Ge.a,{styles:r,type:"text",id:"doctor",placeholder:"Choose Doctor",options:0===a.specDoctor.length?a.doctors:a.specDoctor,onChange:s,onMenuOpen:c,value:a.resetDoctorSelect}))),l.a.createElement("div",{className:"row2"},o.map((function(e){return console.log(e),null===e.id?null:l.a.createElement("div",{key:e.iD,className:"list-group"},l.a.createElement("div",{"data-id":e.id,className:"list-group-item"},l.a.createElement("img",{src:e.image.includes("default")?Ya.a:"https://healthcarebackend.xyz".concat(e.image),alt:"cliet profile"}),l.a.createElement("div",{className:"docInfo"},l.a.createElement("p",null,e.label),l.a.createElement("h5",null,"Speciality: ",l.a.createElement("span",null,e.spec)),l.a.createElement("h5",null,"Organization: ",l.a.createElement("span",null,e.organization))),l.a.createElement(h.b,{to:"#",onClick:function(){return t(e.iD)},className:"Details"},"Details")))}))))},Ja=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).handleClient=function(e){a.props.history.push("/client/Doctor-detail/".concat(e))},a.handleSpeciality=function(e){console.log(e);var t=a.state.doctors.filter((function(t){return t.spec===e.label})),n=a.state.doctors.filter((function(t){return t.spec===e.label}));a.setState({specialSP:e.value,specDoctor:t,resetDoctorSelect:null,filteredBySpec:n})},a.handleDoctor=function(e){console.log(e);var t=a.state.specialities.filter((function(t){return t.label===e.spec}));console.log(t),a.setState({resetDoctorSelect:e,specialSP:t[0].value,currentSpec:t[0].label,filteredBySpec:[e]})},a.resetFilter=function(){a.setState({specialSP:null,filteredBySpec:[]})},a.state={doctors:[],speciality:[],specialities:"",specDoctor:[],filteredBySpec:[],token:sessionStorage.getItem("accessToken"),resetDoctorSelect:null},a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this;de.a.get("https://healthcarebackend.xyz/api/specialities/").then((function(t){console.log(t,"examform");var a=t.data.data.map((function(e){return{value:e.id,iD:e.speciality_id,label:e.name}}));e.setState({specialities:a})})),de.a.get("https://healthcarebackend.xyz/api/doctor/list/").then((function(t){if(console.log(t,"examform2"),t.data.data){var a=t.data.data.map((function(e){return{value:e.id,iD:e.id,label:e.doctor,spec:e.speciality,price:e.email_exam_price,currency:e.email_currency,image:e.image,organization:e.organization}}));e.setState({doctors:a})}else oe.NotificationManager.warning("".concat(t.data.message),"Failed!",2e3)})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){return console.log(this.state.doctors),console.log(this.state.resetDoctorSelect),l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"header"},l.a.createElement("div",null,l.a.createElement(re,null),l.a.createElement(me,null))),l.a.createElement(qa,{props:this.state,handleClient:this.handleClient,handleSort:this.handleSort,handleSortBySpec:this.handleSortBySpec,handleSpeciality:this.handleSpeciality,handleDoctor:this.handleDoctor,resetFilter:this.resetFilter}))}}]),t}(n.Component);a(334);var Ga=function(e){e.handleClient;var t=e.doctor,a=(e.handleSort,e.props),s=e.main;console.log(a);var c=60*Number(a.startW.split(":")[0])*60*1e3+60*Number(a.startW.split(":")[1])*1e3;return Number(a.endW.split(":")[0]),Number(a.endW.split(":")[1]),console.log(c),l.a.createElement("div",{className:"mainDoctorDiv"},l.a.createElement("div",{className:"doctorsAbove"},l.a.createElement("h4",null,"Doctor details")),l.a.createElement("div",{className:"row2"},t.map((function(e){return console.log(e),l.a.createElement(n.Fragment,{key:e.id},l.a.createElement("div",{className:"mainDoctorInfoDiv"},l.a.createElement("div",{className:"imageDiv"},l.a.createElement("img",{src:e.image.includes("default")?Ya.a:"https://healthcarebackend.xyz".concat(e.image),alt:"pic"}),l.a.createElement("div",{className:"info"},l.a.createElement("p",null,e.doctor),l.a.createElement("h5",null,"Speciality: ",l.a.createElement("span",null,e.speciality)),l.a.createElement("h5",null,"Organization: ",l.a.createElement("span",null,e.organization)),l.a.createElement("h5",null,"Email: ",l.a.createElement("span",null,e.email)),l.a.createElement("h5",null,"Phone: ",l.a.createElement("span",null,e.phone)))),l.a.createElement("div",{className:"pricesAndDoing"},l.a.createElement("div",{className:"priceInfo"},l.a.createElement("p",{style:{fontWeight:"900",textAlign:"start",fontSize:"16px"}},"Services"),"True"===e.email_exam_status&&l.a.createElement("div",null,l.a.createElement("p",null,l.a.createElement("span",null,"Email consultation: "),e.email_exam_price," ",e.email_currency),"True"===e.email_exam_status&&l.a.createElement("button",{onClick:function(){s.props.history.push({pathname:"/initiate",state:{doctorId:e.id}})}},"Start")),"True"===e.web_exam_status&&l.a.createElement("div",null,l.a.createElement("p",null,l.a.createElement("span",null,"Video consultation: "),e.web_exam_price," ",e.web_currency),"True"===e.web_exam_status&&l.a.createElement("button",{onClick:function(){s.props.history.push({pathname:"/client/video-request",state:{doctorId:e.id}})}},"Start")),"True"===e.web_exam_follow_status&&l.a.createElement("div",null,l.a.createElement("p",null,l.a.createElement("span",null,"Video follow up: "),e.web_exam_follow_price," ",e.web_follow_up_currency),"True"===e.web_exam_follow_status&&l.a.createElement("button",{onClick:function(){s.props.history.push({pathname:"/client/video-request",state:{doctorId:e.id}})}},"Start"))))),l.a.createElement("div",{className:"BiographyDiv"},l.a.createElement("div",{className:"workHours"},l.a.createElement("div",null,l.a.createElement("p",{style:{fontSize:"16px"}},l.a.createElement("span",null,"Working Hours ")," "),a.workingHoursArray.map((function(e){return l.a.createElement("p",{key:e.id},l.a.createElement("span",null,0===e.day?"Mon: ":1===e.day?"Tue: ":2===e.day?"Wed: ":3===e.day?"Thu: ":4===e.day?"Fri: ":5===e.day?"Sat: ":6===e.day?"Sun: ":7===e.day?"Every day: ":8===e.day?"Mon-Fri: ":null),je()(e.start_hour,"HH:mm:ss").format("HH:mm")," : ",je()(e.end_hour,"HH:mm:ss").format("HH:mm"))})))),l.a.createElement("div",{className:"bio"},l.a.createElement("p",{className:"pForBio",style:{fontSize:"16px"}},"Biography"),l.a.createElement("textarea",{disabled:!0,className:"bioText",placeholder:e.biography}))))}))))},Qa=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).doctor=function(e){var t="Bearer ".concat(a.state.token);de.a.get("https://healthcarebackend.xyz/api/client/doc/".concat(e,"/"),{headers:{Authorization:t}}).then((function(e){console.log(e.data.data);var t=e.data.data.start_hour?e.data.data.start_hour.slice(0,-3):"",n=e.data.data.end_hour?e.data.data.end_hour.slice(0,-3):"";a.setState({doctor:[e.data.data],startW:t,endW:n})})).then((function(){var e=document.querySelector(".bioText");e.style.height="".concat(e.scrollHeight,"px")}))},a.workingHoursForDoctor=function(e){var t="Bearer ".concat(a.state.token);de.a.get("https://healthcarebackend.xyz/api/client/schedule/".concat(e,"/"),{headers:{Authorization:t}}).then((function(e){console.log(e,"noviapinovitesssssssssssssssssttttttttttttt");var t=e.data.data.sort((function(e,t){return e.day-t.day}));a.setState({workingHoursArray:t})}))},a.state={doctor:[],startW:"",endW:"",token:sessionStorage.getItem("accessToken"),workingHoursArray:[]},a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params.id;this.doctor(e),this.workingHoursForDoctor(e)}},{key:"render",value:function(){return console.log(this),l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"header"},l.a.createElement("div",null,l.a.createElement(re,null),l.a.createElement(me,null))),l.a.createElement(Ga,{doctor:this.state.doctor,props:this.state,main:this}))}}]),t}(n.Component),Xa={width:"37%",margin:"120px auto 0px auto",height:"500px",backgroundColor:"#f2f2f2",borderRadius:"15px",position:"relative",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",padding:"20px"},Ka={color:"#00aff0",marginBottom:"30px",fontWeight:"700"},$a={position:"absolute",width:"110px",right:"-30px",top:"-25px"},Za=function(e){function t(){return Object(i.a)(this,t),Object(m.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"header"},l.a.createElement("div",null,l.a.createElement(re,null),l.a.createElement(me,null))),l.a.createElement("div",{style:Xa},l.a.createElement("img",{src:H.a,style:$a,alt:"cLogo"}),l.a.createElement("h1",{style:Ka},"Verification Email sent"),l.a.createElement("h3",{style:{color:"#00aff0"}},"Click on the link in your verification email to complete registration")))}}]),t}(n.Component),en={width:"37%",margin:"120px auto 0px auto",height:"400px",backgroundColor:"#f2f2f2",borderRadius:"15px",position:"relative",display:"flex",flexDirection:"column",padding:"70px 20px 20px 20px"},tn={color:"#00aff0",marginBottom:"70px",fontWeight:"700"},an={position:"absolute",width:"110px",right:"-30px",top:"-25px"},nn={display:"flex",width:"100%",justifyContent:"space-evenly"},ln={backgroundColor:"rgb(0,175,240)",width:"130px",height:"50px",borderRadius:"10px",color:"white",border:"none",fontSize:"18px",fontWeight:"600"},sn=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).logOut=function(){a.props.history.push("/logout")},a.goBack=function(){"true"===sessionStorage.getItem("is_doctor")?a.props.history.push("/dashboard-doctor"):a.props.history.push("/dashboard-client")},a.state={},a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"header"},l.a.createElement("div",null,l.a.createElement(re,null),l.a.createElement(me,null))),l.a.createElement("div",{style:en},l.a.createElement("img",{src:H.a,style:an,alt:"cLogo"}),l.a.createElement("h1",{style:tn},"Log out?"),l.a.createElement("div",{style:nn},l.a.createElement("button",{style:ln,onClick:this.logOut},"Yes"),l.a.createElement("button",{style:ln,onClick:this.goBack},"No"))))}}]),t}(n.Component),cn=(a(335),a(336),a(174)),rn=a.n(cn),on=a(175),dn=a.n(on),mn=a(176),un=a.n(mn),pn=a(127),hn=a.n(pn),gn=a(177),fn=a.n(gn),yn=a(178),En=a.n(yn),vn=a(128),bn=a.n(vn),xn=a(129),Nn=a.n(xn),Sn=a(130),Cn=a.n(Sn),kn=a(131),Dn=a.n(kn),wn=a(179),On=a.n(wn),Pn=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).handleClickImage=function(e){window.open(e.target.src)},a.handleHam=function(){a.setState({hamburger:!a.state.hamburger})},a.currentPage=function(e){a.setState({currentActive:e})},a.state={hamburger:!0,current:sessionStorage.getItem("is_doctor"),currentDoc:"",fullName:"",fullNameClient:"",currentClient:"",currentActive:""},a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"componentDidUpdate",value:function(){this.props.history&&this.state.currentActive!==this.props.history.location.pathname&&this.setState({currentActive:this.props.history.location.pathname})}},{key:"componentDidMount",value:function(){var e=this,t="Bearer ".concat(sessionStorage.getItem("accessToken"));"true"===sessionStorage.getItem("is_doctor")&&de.a.get("https://healthcarebackend.xyz/api/doctor/profile/",{headers:{Authorization:t}}).then((function(t){var a="".concat(t.data.data.user.first_name," ").concat(t.data.data.user.last_name," ");return e.setState({currentDoc:t.data.data,fullName:a,currentActive:window.location.href})})),"true"!==sessionStorage.getItem("is_doctor")&&de.a.get("https://healthcarebackend.xyz/api/client/profile/",{headers:{Authorization:t}}).then((function(t){var a="".concat(t.data.data.user.first_name," ").concat(t.data.data.user.last_name," ");return e.setState({currentClient:t.data.data,fullNameClient:a,currentActive:window.location.href})}))}},{key:"render",value:function(){var e=this;return"true"===this.state.current?l.a.createElement("div",{className:"sideNav"},l.a.createElement("div",{className:"sideProfile"},l.a.createElement("div",{className:"mainProfile"},l.a.createElement("div",{className:"profile"},this.state.currentDoc&&this.state.currentDoc.image.includes("default")?"Available"===this.state.currentDoc.status?l.a.createElement("img",{src:rn.a,alt:"online doctor"}):l.a.createElement("img",{src:un.a,alt:"offline doctor"}):l.a.createElement("img",{style:{borderRadius:"50%",background:"white"},onClick:function(t){return e.handleClickImage(t)},src:"https://healthcarebackend.xyz".concat(this.state.currentDoc.image),alt:"#"}))),l.a.createElement("p",null,this.state.fullName)),l.a.createElement(h.b,{onClick:function(){return e.currentPage("/dashboard-doctor")},className:"sideVideo ".concat(this.state.currentActive.includes("dashboard-doctor")&&"active"),to:"/dashboard-doctor"},l.a.createElement("span",{className:"video"},l.a.createElement("img",{src:hn.a,alt:"icon"})),l.a.createElement("h2",null,"Dashboard")),l.a.createElement(h.b,{onClick:function(){return e.currentPage("/doctors-clients")},className:"sideEmail ".concat(this.state.currentActive.includes("doctors-clients")&&"active"),to:"/doctors-clients"},l.a.createElement("span",{className:"email"},l.a.createElement("img",{src:fn.a,alt:"icon"})),l.a.createElement("h2",null,"My Patients")),l.a.createElement(h.b,{onClick:function(){return e.currentPage("/doctor/calendar")},className:"sideWaitingRoom ".concat(this.state.currentActive.includes("calendar")&&"active"),to:"/doctor/calendar"},l.a.createElement("span",{className:"clock"},l.a.createElement("img",{src:En.a,alt:"icon"})),l.a.createElement("h2",null,"Calendar")),l.a.createElement(h.b,{onClick:function(){return e.currentPage("/doctors-alerts")},to:"/doctors-alerts",className:"sideMyCounsultation ".concat(this.state.currentActive.includes("doctors-alerts")&&"active")},l.a.createElement("span",null,l.a.createElement("img",{src:bn.a,alt:"icon"})),l.a.createElement("h2",null,"Alerts")),l.a.createElement(h.b,{onClick:function(){return e.currentPage("/doctor/profile/")},to:"/doctor/profile/",className:"sideMyAccount ".concat(this.state.currentActive.includes("doctor/profile")&&"active")},l.a.createElement("span",null,l.a.createElement("img",{src:Nn.a,alt:"icon"})),l.a.createElement("h2",null,"Profile")),l.a.createElement(h.b,{onClick:function(){return e.currentPage("/doctors-settings")},className:"sideHelp ".concat(this.state.currentActive.includes("doctors-settings")&&"active"),to:"/doctors-settings"},l.a.createElement("span",{className:"help"},l.a.createElement("img",{src:Cn.a,alt:"icon"})),l.a.createElement("h2",null,"Settings")),l.a.createElement(h.b,{className:"sideFaq",to:{pathname:"/logout",spec:this.state.currentDoc.speciality}},l.a.createElement("span",{className:"faq"},l.a.createElement("img",{src:Dn.a,alt:"icon"})),l.a.createElement("h2",null,"Log Out"))):l.a.createElement("div",{className:"sideNav"},l.a.createElement("div",{className:"sideProfile"},l.a.createElement("div",{className:"mainProfile"},l.a.createElement("div",{className:"profile"},this.state.currentClient&&this.state.currentClient.image.includes("default")?l.a.createElement("img",{src:dn.a,alt:"online client"}):l.a.createElement("img",{style:{borderRadius:"50%",background:"white"},onClick:function(t){return e.handleClickImage(t)},src:"https://healthcarebackend.xyz".concat(this.state.currentClient.image),alt:"#"}))),l.a.createElement("p",null,this.state.fullNameClient)),l.a.createElement(h.b,{onClick:function(){return e.currentPage("/dashboard-client")},className:"sideVideo ".concat(this.state.currentActive.includes("dashboard-client")&&"active"),to:"/dashboard-client"},l.a.createElement("span",{className:"video"},l.a.createElement("img",{src:hn.a,alt:"icon"})),l.a.createElement("h2",null,"Dashboard")),l.a.createElement(h.b,{onClick:function(){return e.currentPage("/client/Doctor-list/")},className:"sideEmail ".concat(this.state.currentActive.includes("Doctor-list")&&"active"),to:"/client/Doctor-list/"},l.a.createElement("span",{className:"email"},l.a.createElement("img",{src:On.a,alt:"icon"})),l.a.createElement("h2",null,"Doctors")),l.a.createElement(h.b,{onClick:function(){return e.currentPage("/client-alerts")},to:"/client-alerts",className:"sideMyCounsultation ".concat(this.state.currentActive.includes("client-alerts")&&"active")},l.a.createElement("span",null,l.a.createElement("img",{src:bn.a,alt:"icon"})),l.a.createElement("h2",null,"Alerts")),l.a.createElement(h.b,{onClick:function(){return e.currentPage("/client/profile/")},to:"/client/profile/",className:"sideMyAccount ".concat(this.state.currentActive.includes("client/profile")&&"active")},l.a.createElement("span",null,l.a.createElement("img",{src:Nn.a,alt:"icon"})),l.a.createElement("h2",null,"Profile")),l.a.createElement(h.b,{onClick:function(){return e.currentPage("/client-settings")},to:"/client-settings",className:"sideHelp ".concat(this.state.currentActive.includes("client-settings")&&"active")},l.a.createElement("span",{className:"help"},l.a.createElement("img",{src:Cn.a,alt:"icon"})),l.a.createElement("h2",null,"Settings")),l.a.createElement(h.b,{to:"/logout",className:"sideFaq"},l.a.createElement("span",{className:"faq"},l.a.createElement("img",{src:Dn.a,alt:"icon"})),l.a.createElement("h2",null,"Log Out")))}}]),t}(n.Component),_n=(Object(g.compose)(se.j,Object(f.b)((function(e){return{history:e.getIn(["trackHistoryReducer","history"])}})))(Pn),a(180)),An=a.n(_n),Tn=a(181),In=a.n(Tn),Fn=a(182),jn=a.n(Fn),Mn=a(183),Vn=a.n(Mn),Bn=a(184),Rn=a.n(Bn),Hn=a(185),zn=a.n(Hn),Ln=a(132),Un=a.n(Ln),Wn=function(e){var t=Object(n.useState)(!1),a=Object(ee.a)(t,2),s=a[0],c=a[1],r=Object(n.useState)(!1),o=Object(ee.a)(r,2),i=o[0],d=o[1],m=Object(n.useState)(""),u=Object(ee.a)(m,2),p=u[0],h=u[1],g=sessionStorage.getItem("is_doctor"),f=Object(se.h)(),y=Object(se.i)(),E=Object(se.g)();if(!f.state&&E.goBack(),"true"===g){var v=new Un.a(f.state);v.on("open",(function(e){var t=!1;console.log("My peer ID is: "+e),setTimeout((function(){var e=!t&&v.connect(y.roomID);e&&e.on("open",(function(){a();var t=document.querySelector(".iconPhone");t&&t.addEventListener("click",(function(){e.close()})),e.on("close",(function(){document.querySelector(".iconPhone").click()}));var n=document.getElementById("send");n&&n.addEventListener("click",(function(){var t=document.querySelector("#yourMessage").value;e.send(t),document.getElementById("messages").innerHTML+="<p style='color: #666666  ;margin: 20px 0 5px auto;display: table; padding: 8px 5px; white-space: initial ; background: #e6e6e6; border-radius: 10px'><span>Doctor:</span>".concat(t,"</p>");var a=document.getElementById("messages");a.scrollTop=a.scrollHeight})),e.on("data",(function(e){console.log(e),document.getElementById("messages").innerHTML+="<p style='color: #666666 ; margin: 20px auto 5px 0; background: #e6e6e6 ;display: table; padding: 8px 5px; white-space: initial; border-radius: 10px'><span>Client:</span>".concat(e,"</p>");var t=document.getElementById("messages");t.scrollTop=t.scrollHeight}))}))}),500),v.on("connection",(function(e){t=!0,e.on("open",(function(){a();var t=document.querySelector(".iconPhone");t&&t.addEventListener("click",(function(){e.close()})),e.on("close",(function(){document.querySelector(".iconPhone").click()}));var n=document.getElementById("send");n&&n.addEventListener("click",(function(){var t=document.querySelector("#yourMessage").value;e.send(t),document.getElementById("messages").innerHTML+="<p style='color: #666666  ;margin: 20px 0 5px auto;display: table; padding: 8px 5px; white-space: initial ; background: #e6e6e6; border-radius: 10px'><span>Doctor:</span>".concat(t,"</p>");var a=document.getElementById("messages");a.scrollTop=a.scrollHeight})),e.on("data",(function(e){console.log(e),document.getElementById("messages").innerHTML+="<p style='color: #666666 ; margin: 20px auto 5px 0; background: #e6e6e6 ;display: table; padding: 8px 5px; white-space: initial; border-radius: 10px'><span>Client:</span>".concat(e,"</p>");var t=document.getElementById("messages");t.scrollTop=t.scrollHeight}))})),v.on("call",(function(e){navigator.mediaDevices.getUserMedia({video:!0,audio:!0}).then((function(t){var a=t.getVideoTracks()[0],n=t.getAudioTracks()[0];document.querySelector(".iconVideoShow").addEventListener("click",(function(){a.enabled=!a.enabled})),document.querySelector(".iconVideo").addEventListener("click",(function(){a.enabled=!a.enabled})),document.querySelector(".iconMic").addEventListener("click",(function(){n.enabled=!n.enabled})),document.querySelector(".iconMicUnmute").addEventListener("click",(function(){n.enabled=!n.enabled})),document.querySelector(".iconVideoShow").addEventListener("click",(function(){C.enabled=!C.enabled})),e.answer(t);var l=document.querySelector(".vid");e.on("stream",(function(e){l.srcObject=e;var t=l.play();void 0!==t&&t.then((function(){})).catch((function(e){console.log(e)}))}));var s=document.querySelector(".iconPhone");s&&s.addEventListener("click",(function(){x(t,v,e)}))}),(function(e){console.log("Failed to get local stream",e)}))}))}));var a=function(){setTimeout((function(){console.log("ovde se video pokrene ikako je status true",t),!t&&navigator.mediaDevices.getUserMedia({video:!0,audio:!0}).then((function(e){var t=e.getVideoTracks()[0],a=e.getAudioTracks()[0];document.querySelector(".iconVideoShow").addEventListener("click",(function(){t.enabled=!t.enabled})),document.querySelector(".iconVideo").addEventListener("click",(function(){t.enabled=!t.enabled})),document.querySelector(".iconMic").addEventListener("click",(function(){a.enabled=!a.enabled})),document.querySelector(".iconMicUnmute").addEventListener("click",(function(){a.enabled=!a.enabled})),document.querySelector(".iconVideoShow").addEventListener("click",(function(){C.enabled=!C.enabled}));var n=v.call(y.roomID,e),l=document.querySelector(".vid");n.on("stream",(function(e){l.srcObject=e;var t=l.play();void 0!==t&&t.then((function(){})).catch((function(e){console.log(e)}))}));var s=document.querySelector(".iconPhone");s&&s.addEventListener("click",(function(){x(e,v,n)}))}),(function(e){console.log("Failed to get local stream",e)}))}),500)}}))}else{var b=new Un.a(y.roomID);b.on("open",(function(e){var t=!1;console.log("My peer ID is: "+e),setTimeout((function(){var e=!t&&b.connect(f.state);e&&e.on("open",(function(){a();var t=document.querySelector(".iconPhone");t&&t.addEventListener("click",(function(){e.close()})),e.on("close",(function(){document.querySelector(".iconPhone").click()}));var n=document.getElementById("send");n&&n.addEventListener("click",(function(){var t=document.querySelector("#yourMessage").value;e.send(t),document.getElementById("messages").innerHTML+="<p style='color: #666666  ;margin: 20px 0 5px auto;display: table; padding: 8px 5px; white-space: initial ; background: #e6e6e6; border-radius: 10px'><span>Client:</span>".concat(t,"</p>");var a=document.getElementById("messages");a.scrollTop=a.scrollHeight})),e.on("data",(function(e){console.log(e),document.getElementById("messages").innerHTML+="<p style='color: #666666 ; margin: 20px auto 5px 0; background: #e6e6e6 ;display: table; padding: 8px 5px; white-space: initial; border-radius: 10px'><span>Doctor:</span>".concat(e,"</p>");var t=document.getElementById("messages");t.scrollTop=t.scrollHeight}))}))}),500),b.on("connection",(function(e){t=!0,e.on("open",(function(){a();var t=document.querySelector(".iconPhone");t&&t.addEventListener("click",(function(){e.close()})),e.on("close",(function(){document.querySelector(".iconPhone").click()}));var n=document.getElementById("send");n&&n.addEventListener("click",(function(){var t=document.querySelector("#yourMessage").value;e.send(t),document.getElementById("messages").innerHTML+="<p style='color: #666666  ;margin: 20px 0 5px auto;display: table; padding: 8px 5px; white-space: initial ; background: #e6e6e6; border-radius: 10px'><span>Client:</span>".concat(t,"</p>");var a=document.getElementById("messages");a.scrollTop=a.scrollHeight})),e.on("data",(function(e){console.log(e),document.getElementById("messages").innerHTML+="<p style='color: #666666 ; margin: 20px auto 5px 0; background: #e6e6e6 ;display: table; padding: 8px 5px; white-space: initial; border-radius: 10px'><span>Doctor:</span>".concat(e,"</p>");var t=document.getElementById("messages");t.scrollTop=t.scrollHeight}))})),b.on("call",(function(e){navigator.mediaDevices.getUserMedia({video:!0,audio:!0}).then((function(t){var a=t.getVideoTracks()[0],n=t.getAudioTracks()[0];document.querySelector(".iconVideoShow").addEventListener("click",(function(){a.enabled=!a.enabled})),document.querySelector(".iconVideo").addEventListener("click",(function(){a.enabled=!a.enabled})),document.querySelector(".iconMic").addEventListener("click",(function(){n.enabled=!n.enabled})),document.querySelector(".iconMicUnmute").addEventListener("click",(function(){n.enabled=!n.enabled})),document.querySelector(".iconVideoShow").addEventListener("click",(function(){C.enabled=!C.enabled})),e.answer(t);var l=document.querySelector(".vid");e.on("stream",(function(e){l.srcObject=e;var t=l.play();void 0!==t&&t.then((function(){})).catch((function(e){console.log(e)}))}));var s=document.querySelector(".iconPhone");s&&s.addEventListener("click",(function(){x(t,b,e)}))}),(function(e){console.log("Failed to get local stream",e)}))}))}));var a=function(){setTimeout((function(){console.log("ovde se video pokrene ikako je status true",t),!t&&navigator.mediaDevices.getUserMedia({video:!0,audio:!0}).then((function(e){var t=e.getVideoTracks()[0],a=e.getAudioTracks()[0];document.querySelector(".iconVideoShow").addEventListener("click",(function(){t.enabled=!t.enabled})),document.querySelector(".iconVideo").addEventListener("click",(function(){t.enabled=!t.enabled})),document.querySelector(".iconMic").addEventListener("click",(function(){a.enabled=!a.enabled})),document.querySelector(".iconMicUnmute").addEventListener("click",(function(){a.enabled=!a.enabled})),document.querySelector(".iconVideoShow").addEventListener("click",(function(){C.enabled=!C.enabled}));var n=b.call(f.state,e),l=document.querySelector(".vid");n.on("stream",(function(e){l.srcObject=e;var t=l.play();void 0!==t&&t.then((function(){})).catch((function(e){console.log(e)}))}));var s=document.querySelector(".iconPhone");s&&s.addEventListener("click",(function(){x(e,b,n)}))}),(function(e){console.log("Failed to get local stream",e)}))}),500)}}))}var x=function(e,t,a){e&&e.getTracks().forEach((function(e){return e.stop()})),a&&a.close(),t&&t.destroy(),t&&t.disconnect()},N=function(){h("");var e=document.querySelector(".inputMessage");document.getElementById("yourMessage").style.height="30px",e.style.height="30px"};function S(){c(!s)}function C(){d(!i)}return Object(n.useEffect)((function(){navigator.mediaDevices.getUserMedia({video:!0,audio:!1}).then((function(e){var t=e.getVideoTracks()[0];document.querySelector(".iconVideoShow").addEventListener("click",(function(){t.enabled=!t.enabled})),document.querySelector(".iconVideo").addEventListener("click",(function(){t.enabled=!t.enabled}));var a=document.createElement("video");a.id="myVid",document.getElementById("videoChat").appendChild(a),a.srcObject=e,a.play(),document.getElementById("myVid").style.cssText="position: absolute; left: 45px; top: 40px; height: 140px; width: 170px; z-index: 20";var n=document.querySelector(".iconPhone");n&&n.addEventListener("click",(function(){x(),e.getTracks().forEach((function(e){return e.stop()})),"true"===g?E.push("/doctor/video/exam/detail/".concat(y.roomID)):E.push("/client/video/exam/detail/".concat(y.roomID))}))}))}),[]),Object(n.useEffect)((function(){return function(){window.addEventListener("unload",(function(e){e.preventDefault(),document.querySelector(".iconPhone").click()}))}}),[]),Object(n.useEffect)((function(){return function(){window.location.pathname!=="room/".concat(y.roomID)&&document.querySelector(".iconPhone").click()}}),[]),l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"header"},l.a.createElement("div",null,l.a.createElement(re,null),l.a.createElement(me,null))),l.a.createElement(Pn,null),l.a.createElement("div",{className:"detailExam",style:{padding:"0px 15px",height:"550px",marginBottom:"20px"}},l.a.createElement("div",{className:"iconVideooCall"},l.a.createElement("h4",null,"Video call")," "),l.a.createElement("div",{className:"detail2"},l.a.createElement("div",{id:"videoChat"},l.a.createElement("video",{className:"vid"})),l.a.createElement("div",{className:"detailInfo2",id:"detailInfo2"},l.a.createElement("div",{className:"MainDivForChat"},l.a.createElement("p",null,"Chat"),l.a.createElement("form",{autoComplete:"off",action:"",id:"form"},l.a.createElement("pre",{id:"messages"}),l.a.createElement("div",{className:"inputMessage"},l.a.createElement("textarea",{type:"text",placeholder:"Type a message",id:"yourMessage",value:p,onChange:function(e){h(e.target.value);var t=document.querySelector(".inputMessage");""===e.target.value?(e.target.style.height="30px",t.style.height="30px"):(e.target.style.height="30px",t.style.height="30px",e.target.clientHeight<e.target.scrollHeight&&(e.target.style.height=5+e.target.scrollHeight+"px"),e.target.clientHeight<e.target.scrollHeight&&(t.style.height=5+e.target.scrollHeight+"px"))},onMouseDown:function(e){e.stopPropagation()},onKeyPress:function(e){!function(e){"Enter"===e.key&&(e.preventDefault(),document.getElementById("send").click(),N())}(e)}})))),l.a.createElement("button",{id:"send",onClick:N},l.a.createElement("img",{src:zn.a,alt:"sendimg"})))),l.a.createElement("div",{className:"MainIconsDiv"},l.a.createElement("img",{src:An.a,className:"iconMic",alt:"img",style:{display:s?"block":"none"},onClick:S}),l.a.createElement("img",{src:In.a,className:"iconMicUnmute",alt:"img",style:{display:s?"none":"block"},onClick:S}),l.a.createElement("img",{src:jn.a,alt:"img",className:"iconPhone"}),l.a.createElement("img",{src:Vn.a,className:"iconVideo",alt:"img",style:{display:i?"block":"none"},onClick:C}),l.a.createElement("img",{src:Rn.a,alt:"img",className:"iconVideoShow",style:{display:i?"none":"block"},onClick:C}))))},Yn=a(186),qn=function(e){return{type:"HISTORY",payload:e}},Jn=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).idleTimerRef=l.a.createRef(null),a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this;this.props&&this.props.trackHistory(this.props);return l.a.createElement("div",null,l.a.createElement(Yn.a,{ref:this.idleTimerRef,timeout:72e5,onIdle:function(){console.log(e.props.history.push("/logout"))}}))}}]),t}(n.Component),Gn=Object(g.compose)(se.j,Object(f.b)(null,(function(e){return Object(g.bindActionCreators)({trackHistory:qn},e)})))(Jn),Qn=function(e){function t(){return Object(i.a)(this,t),Object(m.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(se.b,{path:["/dashboard-doctor","/initiate","/checkout","/client/Doctor-detail/:id/","/client/Doctor-list","/client/video-request","/doctors-settings","/client-settings","/client-update","/client-alerts","/client/video/exam/detail/:id","/client/exam/detail/:id","/client/doc/:id","/client/profile","/dashboard-client","/room/:roomID","/doctors-update","/doctors-alerts","/doctors-clients","/doctors-email-list","/doctors-video-list","/doctor/profile/","/doctor/record/:id","/doctor/calendar","/doctor/exam/detail/:id","/doctor/video/exam/detail/:id"],component:Pn}),l.a.createElement(se.d,null),l.a.createElement(se.b,{path:"/",exact:!0,component:fe}),l.a.createElement(se.b,{path:"/register",exact:!0,component:ct}),l.a.createElement(se.b,{path:"/login",exact:!0,component:dt}),l.a.createElement(se.b,{path:"/logout",exact:!0,component:ut}),l.a.createElement(se.b,{path:"/forgot-password",exact:!0,component:ca}),l.a.createElement(se.b,{path:"/Verification",exact:!0,component:Za}),l.a.createElement(se.b,{path:"/logOutQuestion",exact:!0,component:sn}),l.a.createElement(se.b,{path:"/api/auth/reset-confirm/:id/",exact:!0,component:oa}),l.a.createElement(ja,{path:"/room/:roomID",exact:!0,component:Wn}),l.a.createElement(se.b,{path:"/api/auth/activate/:id/",exact:!0,component:ua}),l.a.createElement(Ia,{exact:!0,path:"/dashboard-client",component:Le}),l.a.createElement(Ia,{path:"/client/doc/:id",exact:!0,component:Vt}),l.a.createElement(Ia,{path:"/client/profile",exact:!0,component:Rt}),l.a.createElement(Ia,{path:"/client/exam/detail/:id",exact:!0,component:la}),l.a.createElement(Ia,{path:"/client/video/exam/detail/:id",exact:!0,component:$t}),l.a.createElement(Ia,{path:"/client-alerts",exact:!0,component:ta}),l.a.createElement(Ia,{path:"/client-update",exact:!0,component:Ua}),l.a.createElement(Ia,{path:"/client-settings",exact:!0,component:za}),l.a.createElement(Ia,{path:"/client/video-request",exact:!0,component:Qt}),l.a.createElement(Ia,{path:"/client/Doctor-list",exact:!0,component:Ja}),l.a.createElement(Ia,{path:"/client/Doctor-detail/:id/",exact:!0,component:Qa}),l.a.createElement(Ia,{path:"/initiate",exact:!0,component:ft}),l.a.createElement(N.Elements,null,l.a.createElement(Ia,{path:"/checkout",exact:!0,component:St})),l.a.createElement(Fa,{path:"/dashboard-doctor",exact:!0,component:qe}),l.a.createElement(Fa,{path:"/doctor/calendar",exact:!0,component:Sa}),l.a.createElement(Fa,{path:"/doctor/exam/detail/:id",exact:!0,component:Ze}),l.a.createElement(Fa,{path:"/doctor/video/exam/detail/:id",exact:!0,component:Lt}),l.a.createElement(Fa,{path:"/doctor/profile/",exact:!0,component:jt}),l.a.createElement(Fa,{path:"/doctor/record/:id",exact:!0,component:Wt}),l.a.createElement(Fa,{path:"/doctors-clients",exact:!0,component:ga}),l.a.createElement(Fa,{path:"/doctors-email-list",exact:!0,component:Da}),l.a.createElement(Fa,{path:"/doctors-video-list",exact:!0,component:Oa}),l.a.createElement(Fa,{path:"/doctors-alerts",exact:!0,component:Aa}),l.a.createElement(Fa,{path:"/doctors-settings",exact:!0,component:Va}),l.a.createElement(Fa,{path:"/doctors-update",exact:!0,component:Ra}),l.a.createElement(oe.NotificationContainer,null),l.a.createElement(Gn,null),l.a.createElement(se.d,null))}}]),t}(n.Component),Xn=function(e){function t(e){var a;Object(i.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).handleSubmit=function(e){var t,a,n;return o.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:return t="Bearer ".concat(sessionStorage.getItem("accessToken")),(a=new FormData).append("user.first_name",""),a.append("user.last_name",""),a.append("user.phone",""),a.append("biography",""),a.append("email_exam_price",""),a.append("web_exam_price",""),a.append("web_exam_follow_price",""),a.append("image",""),a.append("organization",""),a.append("start_hour",""),a.append("end_hour",""),a.append("email_currency",""),a.append("web_currency",""),a.append("web_follow_up_currency",""),a.append("speciality",""),a.append("status",e),a.append("waiting_room_price",""),a.append("waiting_room_currency",""),a.append("web_exam_status",""),a.append("email_exam_status",""),a.append("waiting_room_status",""),a.append("web_exam_follow_status",""),"https://healthcarebackend.xyz/api/doctor/profile/",n=de.a.put("https://healthcarebackend.xyz/api/doctor/profile/",a,{headers:{"content-type":"multipart/form-data",Authorization:t}}),l.next=28,o.a.awrap(n);case 28:l.sent.data.success;case 30:case"end":return l.stop()}}))},a.checkUser=function(){var e=sessionStorage.getItem("accessToken"),t=sessionStorage.getItem("expiresIn"),n=sessionStorage.getItem("is_doctor"),l=localStorage.getItem("refreshToken");e&&t&&l&&(a.store.dispatch(C({access_token:e,expires_in:t,refresh_token:l,is_doctor:n})),a.store.dispatch({type:"USERS_LOGIN_SUCCESS"}))};var n=Object(y.a)(),l=Object(g.createStore)(B,Object(S.composeWithDevTools)());return l.runSaga=n.run,a.sagaMiddleware=n,a.store=l,a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this;if(sessionStorage.getItem("statusChanged")){var t=sessionStorage.getItem("statusChanged");"true"===sessionStorage.getItem("is_doctor")&&this.handleSubmit(t)}else"true"===sessionStorage.getItem("is_doctor")&&this.handleSubmit("Available");this.checkUser(),window.addEventListener("online",(function(){oe.NotificationManager.success("You are back online","Back online",3e3)})),window.addEventListener("offline",(function(){oe.NotificationManager.error("Connection is lost","Pure Connection",3e3)})),window.addEventListener("unload",(function(t){t.preventDefault(),"true"===sessionStorage.getItem("is_doctor")&&e.handleSubmit("Offline"),sessionStorage.removeItem("socketConnected")}))}},{key:"componentDidUpdate",value:function(){this.checkUser()}},{key:"render",value:function(){return l.a.createElement("div",{className:"App"},l.a.createElement(N.StripeProvider,{apiKey:"pk_test_EolntZ7skKXUqmWzbnpuo1zy00ZxWVnWf3"},l.a.createElement(f.a,{store:this.store},l.a.createElement(x,{sagaMiddleware:this.sagaMiddleware},l.a.createElement(h.a,null,l.a.createElement(Qn,null))))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(l.a.createElement(Xn,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}]),[[191,1,2]]]);
//# sourceMappingURL=main.023c89ba.chunk.js.map