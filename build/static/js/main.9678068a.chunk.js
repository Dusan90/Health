(this.webpackJsonphealth_care_frontend=this.webpackJsonphealth_care_frontend||[]).push([[0],{104:function(e,t,a){e.exports=a.p+"static/media/arrow_down_gray.30807b7b.svg"},105:function(e,t,a){e.exports=a.p+"static/media/arrow_up_gray.cc4ad143.svg"},109:function(e,t,a){},119:function(e,t,a){e.exports=a.p+"static/media/enter-waiting-room.1845ce47.svg"},120:function(e,t,a){e.exports=a.p+"static/media/Make-a-video.e536e4eb.svg"},121:function(e,t,a){e.exports=a.p+"static/media/Request-email.ac3e47e0.svg"},122:function(e,t,a){e.exports=a.p+"static/media/icon_My_Consultations_blue.fad79fde.svg"},126:function(e,t,a){e.exports=a.p+"static/media/mute.e8be9103.svg"},127:function(e,t,a){e.exports=a.p+"static/media/unmute.364b7c52.svg"},128:function(e,t,a){e.exports=a.p+"static/media/hang-up.a0003217.svg"},129:function(e,t,a){e.exports=a.p+"static/media/camera-off.ab3c5a19.svg"},130:function(e,t,a){e.exports=a.p+"static/media/camera-on.5465c494.svg"},131:function(e,t,a){e.exports=a.p+"static/media/Extend-screen.552e1b23.svg"},146:function(e,t,a){e.exports=a.p+"static/media/arrow-left.5519d0cf.svg"},147:function(e,t,a){e.exports=a.p+"static/media/arrow-right.e55f21ec.svg"},152:function(e,t,a){},167:function(e,t,a){e.exports=a.p+"static/media/logo.9648ff19.svg"},169:function(e,t,a){e.exports=a.p+"static/media/burger.fc14b4bd.svg"},170:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAAaCAYAAAC6nQw6AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAGpJREFUeNpiYqASYAIR////TwDi9//JAyB9CQxQg0Cc+UCsQIorQOqh+t7DBP6TagiaYf/hBlESPiD9TFQNbKobBHRhA4kx1oDhx9EwGg2j0TCiNIwaiPLjMA4jSspsZA7VahGK6zWAAAMAJ8ajEvfR41QAAAAASUVORK5CYII="},171:function(e,t,a){e.exports=a.p+"static/media/icon_settings_white.286afa37.svg"},180:function(e,t,a){},195:function(e,t,a){},233:function(e,t,a){e.exports=a.p+"static/media/C-doctor_photo.1c407dfb.jpg"},234:function(e,t,a){e.exports=a.p+"static/media/icon_sign-up.ca1380bc.svg"},235:function(e,t,a){e.exports=a.p+"static/media/icon_Request-consultation.8bcb4904.svg"},236:function(e,t,a){e.exports=a.p+"static/media/icon_Payment.4e5de8b9.svg"},237:function(e,t,a){e.exports=a.p+"static/media/icon_Dashboard.b19e6b78.svg"},238:function(e,t,a){e.exports=a.p+"static/media/icon_Consult-with-doctor.be92d39b.svg"},239:function(e,t,a){e.exports=a.p+"static/media/icon_my_profile_doctor_on-line_46px.346b9d48.svg"},240:function(e,t,a){e.exports=a.p+"static/media/icon_my_profile_client_on-line_46px.dcdd39b7.svg"},241:function(e,t,a){e.exports=a.p+"static/media/icon_my_profile_doctor_off-line_46px.620d1e0c.svg"},243:function(e,t,a){e.exports=a.p+"static/media/My_Patients_white.2fc35a69.svg"},244:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABcAAAAXCAYAAADgKtSgAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAcZJREFUeNqsVe1xwjAMJVz/lxEyQjYg3SDdIN0AJiidIN0g3QA2yDGB2YBsYJjAlcgzJ4Rsyl11p3NiWU8fluRilqEQwoKWhnhJXArRSLwn3hVFcUrpFwlQBvokbolZ+QCwSGysImbjP8RfZGScPSICbok98ZG//3D2iPPtI+BNmKjTkUAWuVTyDnqbnBdBeyD22cMBa+5cOzM884bHDRRWfLlYN8JAY0TgbyKjn54VjGhcDBdKHt7HfWfosOH+Wm5mOJMsACzAgYXOcya9i2t1JO6BqU7Iagscskv1zFGzh0QBnVTzSCoht4jxlnMc2icO7Yg7mQ7RuR3kFjFeOX/QU2u0ukP6atyNw/46p/ySE/LcILAPgPVK/JabKxF8RN6ti6kE6DfxmfiVeMX7JH8nA9Z9LS+4VrWgPGNLB9S1E3UuZdadTLNG1zn+I1AL5cGYJ0EMORcN3NS57lBat1Co8D+I7qzUWGgwOi5z565D1WwZdOPgv0QEW7HXxyZioyJ9Xkcpw3FG/hoBUIl578W5bWqMaAOdmvFHNcSquKp53j71EsUZAs9uHoqnXiJ1Bz1AvSi5+BINYr+/y3Hugf6v1/9XgAEAM7QqbBmABNwAAAAASUVORK5CYII="},245:function(e,t,a){e.exports=a.p+"static/media/icon_my_profile_client_white_23px.b7b52618.svg"},246:function(e,t,a){e.exports=a.p+"static/media/icon_calendar_white.0553b438.svg"},247:function(e,t,a){e.exports=a.p+"static/media/icon_alerts_white.d1cae601.svg"},248:function(e,t,a){e.exports=a.p+"static/media/icon_doctor_2_white.ded413ac.svg"},254:function(e,t,a){e.exports=a.p+"static/media/My_Patients_blue.6353f3f3.svg"},255:function(e,t,a){e.exports=a.p+"static/media/icon_doctor_2_blue.90d6ea7b.svg"},263:function(e,t,a){e.exports=a(476)},282:function(e,t,a){},285:function(e,t,a){},315:function(e,t,a){},316:function(e,t,a){},320:function(e,t,a){},321:function(e,t,a){},322:function(e,t,a){},323:function(e,t,a){},324:function(e,t,a){},325:function(e,t,a){},328:function(e,t,a){},329:function(e,t,a){},330:function(e,t,a){},34:function(e,t,a){e.exports=a.p+"static/media/c+.05f01871.svg"},343:function(e,t){},345:function(e,t){},353:function(e,t,a){},354:function(e,t,a){},39:function(e,t,a){e.exports=a.p+"static/media/password-seen.e75cc9c1.svg"},40:function(e,t,a){e.exports=a.p+"static/media/password-hidden.cdfbae48.svg"},413:function(e,t,a){},414:function(e,t,a){},415:function(e,t,a){},416:function(e,t,a){},417:function(e,t,a){},418:function(e,t,a){},419:function(e,t,a){},420:function(e,t,a){},421:function(e,t,a){},422:function(e,t,a){},423:function(e,t,a){},424:function(e,t,a){},425:function(e,t,a){},448:function(e,t){},45:function(e,t,a){e.exports=a.p+"static/media/icon_Waiting_Room_blue.b6c3c38d.svg"},46:function(e,t,a){e.exports=a.p+"static/media/attach_white.be8e0e2e.svg"},476:function(e,t,a){"use strict";a.r(t);var n=a(2),s=a.n(n),l=a(29),c=a.n(l),r=(a(109),a(10)),i=a(11),o=a(13),d=a(12),m=a(14),u=a(22),p=a(43),h=a(23),g=a(259),f=a(21),E=a.n(f),v=function(e){function t(){return Object(r.a)(this,t),Object(o.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"getChildContext",value:function(){return{sagaMiddleware:this.props.sagaMiddleware}}},{key:"render",value:function(){return this.props.children||null}}]),t}(s.a.Component);v.childContextTypes={sagaMiddleware:E.a.any.isRequired};var b=v,y=(a(180),a(71)),x=a(231);function N(e){return{type:"USERS_LOGIN_REQUEST",user:e}}a(277);var S=a(232),C=a(31),w=Object(C.fromJS)({isLoggedIn:!1}),k=C.default.fromJS({doctor:""}),O=C.default.fromJS({subject:""}),D=C.default.fromJS({spec:""}),P=C.default.fromJS({examID:null}),j=C.default.fromJS({clientID:[]}),I=Object(C.fromJS)({doctor:""}),M=Object(C.fromJS)({popUp:!1}),_=Object(C.fromJS)({statusChanged:""}),A=Object(S.combineReducers)({authReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USERS_LOGIN_REQUEST":return e.set("user",t.user);case"USERS_LOGIN_SUCCESS":return e.set("isLoggedIn",!0);case"USERS_LOGIN_FAILURE":return e.set("isLoggedIn",!1);default:return e}},doctorReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"DOCTOR_OBJ":return e.set("doctor",t.doctor);default:return e}},subjectReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SUBJECT":return e.set("subject",t.subject);default:return e}},specReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SPEC_OBJ":return e.set("spec",t.spec);default:return e}},examReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"EXAM_ID":return e.set("examID",t.exam);default:return e}},clientReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CLIENT":return e.set("clientID",t.client);default:return e}},docReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CURENTDOC":return e.set("doctor",t.payload);default:return e}},popUpReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"POPUP":return e.set("popUp",!0);case"POPUPFALSE":return e.set("popUp",!1);default:return e}},doctorStatusWRReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"STATUSCHANGEWR":return e.set("statusChanged",t.payload);default:return e}}}),F=a(34),T=a.n(F),V=a(233),R=a.n(V),B=a(234),Y=a.n(B),z=a(235),L=a.n(z),U=a(236),W=a.n(U),q=a(237),H=a.n(q),J=a(238),G=a.n(J),Q=function(e){e.props;return s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"headers"},s.a.createElement("img",{src:R.a,alt:"slika"}),s.a.createElement("div",{className:"headersInfo"},s.a.createElement("img",{src:T.a,alt:"logo"}),s.a.createElement("h1",null,"Online consultation service"),s.a.createElement("h4",null,"Secure. Simple. Comfortable.")),s.a.createElement("div",{className:"MainDivInfo"},s.a.createElement("div",{className:"firstDivInfo"},s.a.createElement("p",{className:"iconAbove1"},"1"),s.a.createElement("h1",{className:"signUp"},"SIGN UP"),s.a.createElement("p",null,"Create account",s.a.createElement("br",null),"whether you are",s.a.createElement("br",null),"Doctor or a Client"),s.a.createElement("img",{src:Y.a,alt:"logo"})),s.a.createElement("div",{className:"secondDivInfo"},s.a.createElement("p",{className:"iconAbove2"},"2"),s.a.createElement("h1",{className:"requestConsu"},"REQUEST",s.a.createElement("br",null),"CONSULTATION"),s.a.createElement("p",null,"Choose available",s.a.createElement("br",null),"physician. Request",s.a.createElement("br",null),"email consultation,",s.a.createElement("br",null),"make video",s.a.createElement("br",null),"appointment or use",s.a.createElement("br",null),"virtual waiting room"),s.a.createElement("img",{src:L.a,alt:"logo"})),s.a.createElement("div",{className:"thirdDivInfo"},s.a.createElement("p",{className:"iconAbove3"},"3"),s.a.createElement("h1",{className:"conswithD"},"CONSULT WITH",s.a.createElement("br",null),"DOCTOR"),s.a.createElement("p",null,"Once doctor accepts",s.a.createElement("br",null),"client request, use",s.a.createElement("br",null),"email or video for your",s.a.createElement("br",null),"consultation"),s.a.createElement("img",{src:G.a,alt:"logo"})),s.a.createElement("div",{className:"fourthDivInfo"},s.a.createElement("p",{className:"iconAbove4"},"4"),s.a.createElement("h1",{className:"securePay"},"SECURE",s.a.createElement("br",null),"PAYMENT"),s.a.createElement("p",null,"Make secure payment",s.a.createElement("br",null),"with your credit card",s.a.createElement("br",null),"or Pay-pal"),s.a.createElement("img",{src:W.a,className:"payment",alt:"logo"})),s.a.createElement("div",{className:"fifthDivInfo"},s.a.createElement("p",{className:"iconAbove5"},"5"),s.a.createElement("h1",{className:"clientDash"},"CLIENT",s.a.createElement("br",null),"DASHBOARD"),s.a.createElement("p",null,"All client information is",s.a.createElement("br",null),"in one place. You can",s.a.createElement("br",null),"access your profile,",s.a.createElement("br",null),"check consultation",s.a.createElement("br",null),"history and see alerts",s.a.createElement("br",null),"for ongoing",s.a.createElement("br",null),"consultations."),s.a.createElement("img",{src:H.a,alt:"logo"})))))},Z=a(84),K=(a(282),a(167)),X=a.n(K),$=function(){return{type:"POPUP"}},ee=function(){return{type:"POPUPFALSE"}},te=a(78),ae="false"===sessionStorage.getItem("is_doctor")?function(e){var t=Object(n.useState)(60),a=Object(Z.a)(t,2),l=a[0],c=a[1],r=Object(te.g)(),i=Object(te.h)();Object(n.useEffect)((function(){"/client/waiting-room"===i.pathname&&e.popUpFalse()}),[]),Object(n.useEffect)((function(){e.popUp&&o()}),[e.popUp]);var o=function(){var e=setInterval((function(){0===l?(clearInterval(e),r.push({pathname:"/client/waiting-room",state:{detail:"exitQueue"}})):c(l--)}),1e3)};return s.a.createElement(n.Fragment,null,s.a.createElement(u.b,{to:"/"},s.a.createElement("img",{src:X.a,alt:"logo"})),e.popUp&&s.a.createElement(n.Fragment,null,s.a.createElement("div",{className:"duca1"}),s.a.createElement("div",{className:"duca"},s.a.createElement("h4",null,"0:",l<10&&"0",l),s.a.createElement("h1",null,"Your WR video consultation is ready"),s.a.createElement("div",{className:"buttons"},s.a.createElement("button",{onClick:function(){r.push("/client/waiting-room")}},"Connect"),s.a.createElement("button",{style:{background:"lightcoral"},onClick:function(){r.push({pathname:"/client/waiting-room",state:{detail:"exitQueue"}})}},"Reject")))))}:function(){return s.a.createElement(n.Fragment,null,s.a.createElement(u.b,{to:"/"},s.a.createElement("img",{src:X.a,alt:"logo"})))},ne=Object(h.b)((function(e){return{popUp:e.getIn(["popUpReducer","popUp"])}}),(function(e){return Object(p.bindActionCreators)({popUpFalse:ee},e)}))(ae),se=a(6),le=a.n(se),ce=(a(285),a(19)),re=a(239),ie=a.n(re),oe=a(240),de=a.n(oe),me=a(241),ue=a.n(me),pe=a(17),he=a.n(pe),ge=Object(h.b)((function(e){return{user:e.getIn(["authReducer","user"]),isLoggedIn:e.getIn(["authReducer","isLoggedIn"]),doctor:e.getIn(["docReducer","doctor"])}}))((function(e){var t=e.register,a=e.login,l=e.handleLogout,c=e.isLoggedIn,r=(e.handleDashboardDoctor,e.handleDashboardClient,e.doctor),i=(e.selectValue,Object(n.useState)({})),o=Object(Z.a)(i,2),d=o[0],m=o[1];Object(n.useEffect)((function(){"true"===sessionStorage.getItem("is_doctor")&&p()}),[]);var p=function(){var e;return le.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:e="Bearer ".concat(sessionStorage.getItem("accessToken")),he.a.get("http://healthcarebackend.xyz/api/doctor/profile/",{headers:{Authorization:e}}).then((function(e){return m(e.data.data)}));case 2:case"end":return t.stop()}}))},h=null,g=null,f=sessionStorage.getItem("is_doctor");if("true"===f){if(r){var E="".concat(r.prefix," ").concat(r.user.first_name," ").concat(r.user.last_name);h=s.a.createElement("div",{className:"topProfile"},s.a.createElement("p",null,E),s.a.createElement("div",{className:"mainProfile"},s.a.createElement("div",{className:"profile"},"/media/default.jpg"===d.image?"Available"===d.status?s.a.createElement("img",{src:ie.a,alt:"online doctor"}):s.a.createElement("img",{src:ue.a,alt:"offline doctor"}):s.a.createElement("img",{style:{width:"50px",objectFit:"cover"},src:"http://healthcarebackend.xyz".concat(d.image),alt:"#"}))))}g=s.a.createElement("select",{name:"status",id:"status",onChange:function(e){var t,a,n,s,l;return le.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return t=e.target.value,a="Bearer ".concat(sessionStorage.getItem("accessToken")),e.preventDefault(),(n=new FormData).append("user.first_name",""),n.append("user.last_name",""),n.append("user.phone",""),n.append("biography",""),n.append("email_exam_price",""),n.append("web_exam_price",""),n.append("web_exam_follow_price",""),n.append("image",""),n.append("status",t),"http://healthcarebackend.xyz/api/doctor/profile/",s=he.a.put("http://healthcarebackend.xyz/api/doctor/profile/",n,{headers:{"content-type":"multipart/form-data",Authorization:a}}),console.log("submiting"),c.next=18,le.a.awrap(s);case 18:l=c.sent,console.log(l,"profile changed"),l.data.success&&(ce.NotificationManager.success("Profile Updated!","Successful!",2e3),p());case 21:case"end":return c.stop()}}))}},s.a.createElement("option",{value:""},d.status),s.a.createElement("option",{value:"Available",hidden:"Available"===d.status&&!0},"Available"),s.a.createElement("option",{defaultValue:"Away",hidden:"Away"===d.status&&!0},"Away"),s.a.createElement("option",{value:"Offline",hidden:"Offline"===d.status&&!0},"Offline"))}else r&&(console.log(r),h=s.a.createElement("div",{className:"topProfile"},s.a.createElement("p",null,"false"===f&&r[0].first_name," ","false"===f&&r[0].last_name),s.a.createElement("div",{className:"mainProfile"},s.a.createElement("div",{className:"profile"},s.a.createElement("img",{src:de.a,alt:"online doctor"})))));return s.a.createElement("nav",{className:"nav"},!c&&s.a.createElement("ul",{className:"nav navbar-nav "},s.a.createElement("li",{className:"li-reg"},s.a.createElement(u.b,{to:"/register",onClick:t,className:"register"},"Sign Up")),s.a.createElement("li",{className:"li-log"},s.a.createElement(u.b,{to:"/login",onClick:a,className:"login"},"Join Now"))),c&&s.a.createElement("ul",{className:"nav navbar-nav"},s.a.createElement("li",{className:"userName"},h),s.a.createElement("li",{className:"selectStatus"},g),s.a.createElement("li",{style:{fontWeight:"500",marginLeft:"10px"}},s.a.createElement(u.b,{to:"/logout",onClick:l},"Log Out"))))})),fe=(a(315),a(35)),Ee=a(242),ve=a(65),be=function(){return s.a.createElement("footer",{className:"page-footer"},s.a.createElement("div",{className:"mainFooter"},s.a.createElement("ul",{className:"contact"},s.a.createElement("h3",null,"Contact"),s.a.createElement("li",null,s.a.createElement(Ee.a,{className:"mail"}),"Email: info@masspoint.rs"),s.a.createElement("li",null,s.a.createElement(ve.b,{className:"phone"})," +381 60 000 4602"),s.a.createElement("li",null,s.a.createElement(ve.a,{className:"mapPin"}),"Kralja Milana 4,",s.a.createElement("br",null)," 11000 Belgrade, Serbia")),s.a.createElement("ul",{className:"company"},s.a.createElement("h3",null,"Company"),s.a.createElement("li",null,s.a.createElement(u.b,{className:"aboutClass",to:"/"},s.a.createElement("span",null,"About Us"))),s.a.createElement("li",null,s.a.createElement(u.b,{className:"blockClass",to:"/"},s.a.createElement("span",null,"Privacy policy"))),s.a.createElement("li",null,s.a.createElement(u.b,{className:"careersClass",to:"/"},s.a.createElement("span",null,"Terms and conditions"))),s.a.createElement("li",null,s.a.createElement(u.b,{className:"faqClass",to:"/"},s.a.createElement("span",null,"FAQs")))),s.a.createElement("ul",{className:"social"},s.a.createElement("h3",null,"Social"),s.a.createElement("div",{className:"socialMedia"},s.a.createElement("div",null,s.a.createElement("a",{href:"/#"},s.a.createElement(fe.c,{className:"insta"}))),s.a.createElement("div",null,s.a.createElement("a",{href:"/#"},s.a.createElement(fe.d,{className:"linkedin"}))),s.a.createElement("div",null,s.a.createElement("a",{href:"/#"},s.a.createElement(fe.b,{className:"facebook"}))),s.a.createElement("div",null,s.a.createElement("a",{href:"/#"},s.a.createElement(fe.h,{className:"twitter"})))),s.a.createElement("p",null,"\xa9 Copyright 2020 Health Care"))))},ye=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(d.a)(t).call(this,e))).handleDashboardDoctor=function(){a.props.history.push("/dashboard-doctor")},a.handleDashboardClient=function(){a.props.history.push("/dashboard-client")},a.handleClients=function(){a.props.history.push("/doctors-clients")},a.state={},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"header"},s.a.createElement("div",null,s.a.createElement(ne,null),s.a.createElement(ge,null))),s.a.createElement(Q,{handleClients:this.handleClients,props:this.state}),s.a.createElement(be,null))}}]),t}(n.Component),xe=a(64),Ne=(a(316),a(94)),Se=a(91),Ce=a.n(Se),we=a(45),ke=a.n(we),Oe=a(92),De=a.n(Oe),Pe=(a(146),a(147),a(119)),je=a.n(Pe),Ie=a(120),Me=a.n(Ie),_e=a(121),Ae=a.n(_e),Fe=a(122),Te=a.n(Fe),Ve=a(104),Re=a.n(Ve),Be=a(105),Ye=a.n(Be),ze=a(18),Le=a.n(ze),Ue=a(93),We=a.n(Ue),qe=function(e){var t=e.initiate,a=e.waitingRoom,n=e.VideoReq,l=e.handleClick,c=e.handleUpcoming,r=e.handlePast,i=e.handleAll,o=(e.handleClickLeft,e.handleClickRight,e.handleHam,e.hnlMyConsultations,e.props),d=e.handleDoctorSearch,m=e.searchByType,u=e.searchByName,p=e.ResetonSelectChange,h=e.handlePageChange;return o.state.paginatedExams.map((function(e){return o.state.mail.includes(e.id)&&"mail"===e.exam_type?Object.assign(e,{isRead:!0}):Object.assign(e,{isRead:!1})})),s.a.createElement("div",{className:"mainClientDashboard"},s.a.createElement("div",{className:"main"},s.a.createElement("div",{className:"dashboardIcon"},s.a.createElement("img",{src:Te.a,className:"dashIcon",alt:"my consultation icon"}),s.a.createElement("h2",null,"Dashboard"))," ",s.a.createElement("div",{className:"videoApp",onClick:function(){return n()}},s.a.createElement("span",{className:"video"},s.a.createElement("img",{src:Me.a,className:"icon",alt:"make a video"})),s.a.createElement("div",null,s.a.createElement("h2",null,"Make a"),s.a.createElement("h2",{className:"secondH2"}," VIDEO APPOINTMENT"))),s.a.createElement("div",{className:"emailReq",onClick:function(){return t()}},s.a.createElement("span",{className:"email"},s.a.createElement("img",{src:Ae.a,alt:"request email",className:"icon"})),s.a.createElement("div",null,s.a.createElement("h2",null,"Request"),s.a.createElement("h2",{className:"secondH2"}," EMAIL CONSULTATION"))),s.a.createElement("div",{className:"waitRoom",onClick:function(){return a()}},s.a.createElement("span",{className:"clock"},s.a.createElement("img",{src:je.a,className:"icon",alt:"enter Waiting room"})),s.a.createElement("div",null,s.a.createElement("h2",null,"Enter"),s.a.createElement("h2",{className:"secondH2"}," WAITING ROOM")))),o.state.loading?s.a.createElement("img",{src:T.a,className:"loading",alt:"loading...",style:{width:"150px"}}):s.a.createElement("div",{className:"mainTabel"},s.a.createElement("div",{className:"mainConsultation"},s.a.createElement("div",{className:"icon_left"},s.a.createElement("p",null,"My Consultations")),s.a.createElement("div",{className:"sort"},s.a.createElement("p",{className:"upcoming",style:{fontWeight:"upcoming"===o.state.currentFilterClicked?"bold":"300"},onClick:c},"Upcoming"),s.a.createElement("p",{className:"past",style:{fontWeight:"past"===o.state.currentFilterClicked?"bold":"300"},onClick:r},"Past"),s.a.createElement("p",{className:"all",style:{fontWeight:"all"===o.state.currentFilterClicked?"bold":"300"},onClick:i},"All"))),s.a.createElement("table",{className:"table2"},s.a.createElement("thead",{className:"client-head"},s.a.createElement("tr",{className:"client-row"},s.a.createElement("th",{className:"client-doctor"},s.a.createElement("div",{className:"mainExamDiv"},s.a.createElement("div",{className:"searchDiv"},s.a.createElement("span",{className:"examTypetext"},"Doctor "),s.a.createElement("span",{className:"searchIcon",onClick:d},o.state.searchDoctor?s.a.createElement("img",{src:Ye.a,alt:"arrow"}):s.a.createElement("img",{src:Re.a,alt:"arrow"}))),s.a.createElement("input",{type:"text",placeholder:"Search",value:o.state.searchName,onChange:u,style:{display:!o.state.searchDoctor&&"none"}}))),s.a.createElement("th",{className:"client-subject"},"Subject"),s.a.createElement("th",{className:"client-type",style:{padding:o.state.searchDoctor&&"0 0 30px 0"}},s.a.createElement("div",{className:"mainExamDiv"},s.a.createElement("select",{type:"text",placeholder:"",onChange:m,onClick:p,value:o.state.searchType},s.a.createElement("option",{value:""},"Type"),s.a.createElement("option",{value:"mail"},"Email"),s.a.createElement("option",{value:"video"},"Video"),s.a.createElement("option",{value:"queue"},"Waiting room")))),s.a.createElement("th",{className:"client-date"},"Date"),s.a.createElement("th",{className:"client-status",style:{padding:o.state.searchDoctor&&"0 0 30px 0"}},"Status"))),""===o.state.messageIfEmpty&&o.state.paginatedExams.map((function(e,t){return s.a.createElement("tbody",{key:t,className:"client-body"},s.a.createElement("tr",{className:"list-group",style:{fontWeight:e.isRead&&700},onClick:function(){return l(e.id,e.exam_type)}},s.a.createElement("td",{className:"client-doctor"},e.doctor_name?e.doctor_name:e.doctor),s.a.createElement("td",{className:"client-subject"},e.subject),s.a.createElement("td",{className:"client-subject"},e.exam_type),s.a.createElement("td",{className:"created"},e.created&&!e.appointed_date?s.a.createElement("p",null," ",Le()(e.created).format("MM/DD/YYYY")):e.appointed_date?s.a.createElement("p",null," ",Le()(e.appointed_date).format("MM/DD/YYYY HH:mm")):null),s.a.createElement("td",{className:"client-status"},"Pending"===e.status||"In the queue"===e.status?s.a.createElement("img",{src:ke.a,alt:"clockIcon",className:"pendi"}):"Declined"===e.status||"Canceled"===e.status?s.a.createElement("img",{src:De.a,alt:"declined",className:"declined"}):"Finished"===e.status?s.a.createElement(Ne.a,{className:"finished"}):s.a.createElement("img",{src:Ce.a,alt:"ckeck",className:"check"}),s.a.createElement("h5",{className:"status"},e.status))))}))),""!==o.state.messageIfEmpty&&s.a.createElement("div",{className:"NoResultDiv"},o.state.messageIfEmpty)),s.a.createElement("div",{className:"pagi"},s.a.createElement(We.a,{activePage:o.state.page,itemsCountPerPage:5,totalItemsCount:0===o.state.searchedUpcomingOrPast.length?o.state.upcomingOrPast.length:o.state.searchedUpcomingOrPast.length,pageRangeDisplayed:10,onChange:h})))},He=function(e){return{type:"CURENTDOC",payload:e}},Je=(a(320),a(243)),Ge=a.n(Je),Qe=a(169),Ze=a.n(Qe),Ke=a(170),Xe=a.n(Ke),$e=a(244),et=a.n($e),tt=a(245),at=a.n(tt),nt=a(246),st=a.n(nt),lt=a(247),ct=a.n(lt),rt=a(248),it=a.n(rt),ot=a(171),dt=a.n(ot),mt=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(d.a)(t).call(this,e))).handleHam=function(){a.setState({hamburger:!a.state.hamburger})},a.state={hamburger:!0,current:sessionStorage.getItem("is_doctor")},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return"true"===this.state.current?s.a.createElement("div",{className:"hamburger"},s.a.createElement("div",{className:"hamNprofil"},s.a.createElement("div",{className:"ham",onClick:this.handleHam},s.a.createElement("img",{src:Ze.a,alt:"burger"})),s.a.createElement("div",{className:"rightNavIcons"},s.a.createElement("div",null,s.a.createElement(u.b,{to:"/dashboard-doctor",className:"linksPatients"},s.a.createElement("img",{src:Xe.a,className:"dashboardIcon",alt:"my consultation"}),this.state.hamburger&&s.a.createElement("p",null,"Dashboard"))),s.a.createElement("div",{className:"patientsNav"},s.a.createElement(u.b,{to:"/doctors-clients",className:"linksPatients"},s.a.createElement("img",{src:Ge.a,className:"iconNav",alt:"My patients"}),this.state.hamburger&&s.a.createElement("p",null,"My Patients"))),s.a.createElement("div",null,s.a.createElement(u.b,{to:"/doctor/calendar",className:"links"},s.a.createElement("img",{src:st.a,className:"calendarIcon",alt:"My patients"}),this.state.hamburger&&s.a.createElement("p",null,"Calendar"))),s.a.createElement("div",{className:"alertsNav"},s.a.createElement("img",{src:ct.a,className:"iconNav",alt:"My patients"}),this.state.hamburger&&s.a.createElement("p",null,"Alerts")),s.a.createElement("div",null,s.a.createElement(u.b,{to:"/doctors-settings",className:"linksPatients"},s.a.createElement("img",{src:dt.a,className:"profileIcon",alt:"settings img"}),this.state.hamburger&&s.a.createElement("p",null,"Settings"))),s.a.createElement("div",null,s.a.createElement(u.b,{to:"/doctor/profile/",className:"linksPatients"},s.a.createElement("img",{src:et.a,className:"profileIcon",alt:"doctors img"}),this.state.hamburger&&s.a.createElement("p",null,"Profile")))))):s.a.createElement("div",{className:"hamburger"},s.a.createElement("div",{className:"hamNprofil"},s.a.createElement("div",{className:"ham",onClick:this.handleHam},s.a.createElement("img",{src:Ze.a,alt:"burger"})),s.a.createElement("div",{className:"rightNavIcons"},s.a.createElement("div",null,s.a.createElement(u.b,{to:"/dashboard-client",className:"linksPatients"},s.a.createElement("img",{src:Xe.a,className:"dashboardIcon",alt:"my consultation"}),this.state.hamburger&&s.a.createElement("p",null,"Dashboard"))),s.a.createElement("div",null,s.a.createElement(u.b,{to:"/client/Doctor-list/",className:"linksPatients"},s.a.createElement("img",{src:it.a,className:"doctorsIcon",alt:"Doctors"}),this.state.hamburger&&s.a.createElement("p",null,"Doctors"))),s.a.createElement("div",null,s.a.createElement(u.b,{to:"/client/profile/",className:"linksPatients"},s.a.createElement("img",{src:at.a,className:"profileIcon",alt:"doctors img"}),this.state.hamburger&&s.a.createElement("p",null,"Profile"))),s.a.createElement("div",null,s.a.createElement(u.b,{to:"/client-settings",className:"linksPatients"},s.a.createElement("img",{src:dt.a,className:"profileIcon",alt:"settings img"}),this.state.hamburger&&s.a.createElement("p",null,"Settings"))))))}}]),t}(n.Component),ut=Object(h.b)((function(e){return{doctor:e.getIn(["docReducer","doctor"])}}))(mt),pt=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(d.a)(t).call(this,e)))._isMounted=!1,a.initiate=function(){a.props.history.push("/initiate")},a.waitingRoom=function(){a.props.history.push("/client/waiting-room")},a.VideoReq=function(){a.props.history.push("/client/video-request")},a.connect=function(e){var t=new WebSocket("ws://healthcarebackend.xyz/ws/dashboard/client/".concat(e,"/"));t.onopen=function(){console.log("connected to dashboard socket")},t.onmessage=function(e){console.log(e);var t=JSON.parse(e.data);"Accepted"===t.status&&"queue"===t.exam_type&&a.props.popUp(),0!==a.state.exams.filter((function(e){return e.id===t.id})).length&&a.paginatedExams()},t.onclose=function(e){console.log("Socket is closed")},t.onerror=function(e){console.error("Socket encountered error: ",e.message,"Closing socket")}},a.handleClick=function(e,t){"mail"===t?a.props.history.push("/client/exam/detail/".concat(e)):"video"===t?a.props.history.push("/client/video/exam/detail/".concat(e)):"queue"===t&&a.props.history.push("/client/queue/exam/detail/".concat(e))},a.handleUpcoming=function(){var e=setInterval((function(){var t=a.state.exams.filter((function(e){return"Appointed"===e.status||"Accepted"===e.status||"Pending"===e.status||"In the queue"===e.status})),n=t.sort((function(e,t){return Date.parse(t.created)-Date.parse(e.created)})),s=0===t.length?"No upcoming consultations":"";a.setState({upcomingOrPast:n,page:1,messageIfEmpty:s,currentFilterClicked:"upcoming",searchedUpcomingOrPast:[],filterFiltered:[],searchType:"",searchName:""}),a.paginate(1),clearInterval(e)}),10)},a.handlePast=function(){var e=setInterval((function(){var t=a.state.exams.filter((function(e){return"Declined"===e.status||"Finished"===e.status||"Canceled"===e.status}));console.log(t,"past");var n=t.sort((function(e,t){return Date.parse(t.created)-Date.parse(e.created)})),s=0===t.length?"No past consultations":"";a.setState({upcomingOrPast:n,page:1,messageIfEmpty:s,currentFilterClicked:"past",searchedUpcomingOrPast:[],filterFiltered:[],searchType:"",searchName:""}),a.paginate(1),clearInterval(e)}),10)},a.handleAll=function(){var e=setInterval((function(){var t=a.state.exams,n=t.sort((function(e,t){return Date.parse(t.created)-Date.parse(e.created)})),s=0===t.length?"No consultations":"";a.setState({upcomingOrPast:n,page:1,messageIfEmpty:s,currentFilterClicked:"all",searchedUpcomingOrPast:[],filterFiltered:[],searchType:"",searchName:""}),a.paginate(1),clearInterval(e)}),10)},a.paginatedExams=function(){var e;return le.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:e="Bearer ".concat(a.state.token),he.a.get("http://healthcarebackend.xyz/api/exams/client/",{headers:{Authorization:e}}).then((function(e){if(0!==e.data.data.mail.length||0!==e.data.data.video.length){var t=e.data.data.mail.concat(e.data.data.video);a.setState({exams:t})}})).then((function(){a.WaitingRoomList()})).catch((function(e){console.log(e.response,"error"),a.setState({loading:!1})}));case 2:case"end":return t.stop()}}))},a.WaitingRoomList=function(){var e;return le.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:e="Bearer ".concat(a.state.token),he.a.get("http://healthcarebackend.xyz/api/queue/".concat(a.state.client.id,"/"),{headers:{Authorization:e}}).then((function(e){console.log(e),a.setState({exams:Object(xe.a)(a.state.exams.concat(e.data.data.queue))}),a.handleAll(),a.paginate(a.state.page),a.getUnreadMessages(a.state.client.id)})).catch((function(e){404===e.response.status&&(a.handleAll(),a.paginate(a.state.page),a.getUnreadMessages(a.state.client.id)),console.log(e.response)}));case 2:case"end":return t.stop()}}))},a.paginate=function(e){if(0===a.state.searchedUpcomingOrPast.length){var t=Math.ceil(a.state.upcomingOrPast.length/5),n=5*(e-1),s=a.state.upcomingOrPast.slice(n,n+5);a.setState({paginatedExams:s,loading:!1,maxPages:t})}else{var l=Math.ceil(a.state.searchedUpcomingOrPast.length/5),c=5*(e-1),r=a.state.searchedUpcomingOrPast.slice(c,c+5);a.setState({paginatedExams:r,loading:!1,maxPages:l})}},a.handleHam=function(){a.setState({hamburger:!a.state.hamburger})},a.hnlMyConsultations=function(){a.setState({hamburger:!1}),a.handleAll()},a.getUnreadMessages=function(e){var t;return le.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:t="Bearer ".concat(a.state.token),he.a.get("http://healthcarebackend.xyz/api/exams/client/".concat(e,"/"),{headers:{Authorization:t}}).then((function(e){var t=e.data.data.filter((function(e){return 0!==e.messages.length?e.messages[e.messages.length-1].sender!=="".concat(a.state.client.user):null})).map((function(e){return e.exam.id}));a.setState({mail:t})})).catch((function(e){console.log(e.response)}));case 2:case"end":return n.stop()}}))},a.handleDoctorSearch=function(){a.setState({searchDoctor:!a.state.searchDoctor})},a.searchByName=function(e){if(""===e.target.value&&""===a.state.searchType)a.setState({filterFiltered:[]});else if(""===e.target.value&&""!==a.state.searchName){a.setState({filterFiltered:[]});var t=setInterval((function(){a.handlingSearchByType(),clearInterval(t)}),10)}a.setState({searchName:e.target.value});var n=setInterval((function(){a.handlingSearchByName(),clearInterval(n)}),10)},a.handlingSearchByName=function(){var e=a.state.searchName.toLowerCase().split(" "),t=0===a.state.filterFiltered.length?a.state.upcomingOrPast.filter((function(t){var a=(t.doctor_name?t.doctor_name:t.doctor).split(" ");if(e[1]){if(a[1].toLowerCase().indexOf(e[0])===e[0].indexOf(e[0])&&a[2].toLowerCase().indexOf(e[1])===e[1].indexOf(e[1])||a[1].toLowerCase().indexOf(e[1])===e[1].indexOf(e[1])&&a[2].toLowerCase().indexOf(e[0])===e[0].indexOf(e[0]))return t}else if(a[1].toLowerCase().indexOf(e[0])===e[0].indexOf(e[0])||a[2].toLowerCase().indexOf(e[0])===e[0].indexOf(e[0]))return t;return null})):a.state.filterFiltered.filter((function(t){var a=(t.doctor_name?t.doctor_name:t.doctor).split(" ");if(e[1]){if(a[1].toLowerCase().indexOf(e[0])===e[0].indexOf(e[0])&&a[2].toLowerCase().indexOf(e[1])===e[1].indexOf(e[1])||a[1].toLowerCase().indexOf(e[1])===e[1].indexOf(e[1])&&a[2].toLowerCase().indexOf(e[0])===e[0].indexOf(e[0]))return t}else if(a[1].toLowerCase().indexOf(e[0])===e[0].indexOf(e[0])||a[2].toLowerCase().indexOf(e[0])===e[0].indexOf(e[0]))return t;return null})),n=0===t.length?"No Such Doctor":0!==t.length&&"No Such Doctor"!==a.state.messageIfEmpty?a.state.messageIfEmpty:"";0===a.state.filterFiltered.length&&a.setState({filterFiltered:t}),a.setState({searchedUpcomingOrPast:t,page:1,messageIfEmpty:n}),a.paginate(1)},a.ResetonSelectChange=function(){a.setState({filterFiltered:[]});var e=setInterval((function(){a.handlingSearchByName(),clearInterval(e)}),10)},a.searchByType=function(e){if(console.log(e.target.value),""===e.target.value&&""===a.state.searchName)a.setState({filterFiltered:[]});else if(""===e.target.value&&""!==a.state.searchName){a.setState({filterFiltered:[]});var t=setInterval((function(){a.handlingSearchByName(),clearInterval(t)}),10)}var n=e.target.value.toLowerCase();a.setState({searchType:n});var s=setInterval((function(){a.handlingSearchByType(),clearInterval(s)}),10)},a.handlingSearchByType=function(){var e=0===a.state.filterFiltered.length?a.state.upcomingOrPast.filter((function(e){return e.exam_type.toLowerCase().indexOf(a.state.searchType)===a.state.searchType.indexOf(a.state.searchType)?e:null})):a.state.filterFiltered.filter((function(e){return e.exam_type.toLowerCase().indexOf(a.state.searchType)===a.state.searchType.indexOf(a.state.searchType)?e:null}));console.log(e);var t=0===e.length?"No Such Type":0!==e.length&&"No Such Type"!==a.state.messageIfEmpty?a.state.messageIfEmpty:"";0===a.state.filterFiltered.length&&a.setState({filterFiltered:e}),a.setState({searchedUpcomingOrPast:e,page:1,messageIfEmpty:t}),a.paginate(1)},a.handlePageChange=function(e){console.log(e,a.state.page),a.setState({page:e}),a.paginate(e)},a.state={exams:[],paginatedExams:[],upcomingOrPast:[],token:sessionStorage.getItem("accessToken"),dataFromServer:"",loading:!0,page:1,maxPages:"",hamburger:!1,client:"",messageIfEmpty:"",currentFilterClicked:"",mail:[],searchName:"",searchDoctor:!1,searchByTypeClick:!1,searchType:"",filterFiltered:[],searchedUpcomingOrPast:[]},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;this._isMounted=!0;var t="Bearer ".concat(this.state.token);he.a.get("http://healthcarebackend.xyz/api/client/profile/",{headers:{Authorization:t}}).then((function(t){return e.connect(t.data.data.id),e.props.curentDoc([t.data.data.user]),e.setState({client:t.data.data})})).then((function(){e.paginatedExams()}))}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"header"},s.a.createElement("div",null,s.a.createElement(ne,null),s.a.createElement(ge,null))),s.a.createElement(ut,null),s.a.createElement(qe,{initiate:this.initiate,waitingRoom:this.waitingRoom,handleClick:this.handleClick,handleUpcoming:this.handleUpcoming,handlePast:this.handlePast,handleAll:this.handleAll,handleClickLeft:this.handleClickLeft,handleClickRight:this.handleClickRight,props:this,VideoReq:this.VideoReq,handleHam:this.handleHam,hnlMyConsultations:this.hnlMyConsultations,handleDoctorSearch:this.handleDoctorSearch,searchByName:this.searchByName,ResetonSelectChange:this.ResetonSelectChange,searchByType:this.searchByType,handlePageChange:this.handlePageChange}))}}]),t}(n.Component),ht=Object(h.b)(null,(function(e){return Object(p.bindActionCreators)({curentDoc:He,popUp:$},e)}))(pt),gt=(a(321),function(e){var t=e.hnlClick,a=e.handleClick,n=e.handleClickMail,l=e.handleUpcoming,c=e.handlePast,r=e.handleAll,i=e.props,o=(e.handleClickLeft,e.handleClickRight,e.hnlVideoClick),d=e.hnlWaitingClick,m=e.handleWaitingRoom,u=e.handleVideoPendingClick,p=(e.hnlMyConsultations,e.loading),h=e.handleClientSearch,g=(e.handleTypeSearch,e.searchByType),f=e.searchByName,E=e.ResetonSelectChange,v=e.handlePageChange,b=i.state.pending?i.state.pending.slice(0,4):null,y=i.state.videoPending?i.state.videoPending.slice(0,4):null,x=i.state.waitingRoom?i.state.waitingRoom.slice(0,4):null;return i.state.paginatedExams.map((function(e){return i.state.mail.includes(e.id)&&"mail"===e.exam_type?Object.assign(e,{isRead:!0}):Object.assign(e,{isRead:!1})})),s.a.createElement("div",{className:"testic"},s.a.createElement("div",{className:"main"},s.a.createElement("div",{className:"dashboardIcon"},s.a.createElement("img",{src:Te.a,className:"dashIcon",alt:"my consultation icon"}),s.a.createElement("h2",null,"Dashboard"))," ",s.a.createElement("div",{className:"divClock"},s.a.createElement("div",{className:"waitRoom1",onClick:d},s.a.createElement("span",{className:"clock"},s.a.createElement("img",{src:je.a,className:"icon",alt:"enter Waiting room"})),s.a.createElement("h2",null,"WAITING ROOM")),s.a.createElement("div",{style:{height:"2px",background:"#00aff0"}}),s.a.createElement("div",{className:"requestsClock"},s.a.createElement("p",null,i.state.waitingRoom.length," in waiting room")),s.a.createElement("div",{className:"pendingReq"},0!==x.length?x.map((function(e){return console.log(e),s.a.createElement("div",{key:e.id,onClick:function(){return m(e.id)}},e.client,","," ",Le()(e.created).format("MM/DD/YYYY"))})):s.a.createElement("p",null,"No requests"))),s.a.createElement("div",{className:"divVideo"},s.a.createElement("div",{className:"videoApp1",onClick:o},s.a.createElement("span",{className:"video"},s.a.createElement("img",{src:Me.a,className:"icon",alt:"make a video"})),s.a.createElement("h2",null,"VIDEO REQUESTS")),s.a.createElement("div",{style:{height:"2px",background:"#00aff0"}}),s.a.createElement("div",{className:"requestsVideo"},s.a.createElement("p",null,i.state.videoPending.length," new request to confirm")),s.a.createElement("div",{className:"pendingReq"},0!==y.length?y.map((function(e){return s.a.createElement("div",{key:e.id,onClick:function(){return u(e.id)}},e.client,","," ",Le()(e.appointed_date).format("MM/DD/YYYY hh:mm"))})):s.a.createElement("p",null,"No requests"))),s.a.createElement("div",{className:"divEmail"},s.a.createElement("div",{className:"emailReq1",onClick:t},s.a.createElement("span",{className:"email"},s.a.createElement("img",{src:Ae.a,alt:"request email",className:"icon"})),s.a.createElement("h2",null,"EMAIL REQUESTS")),s.a.createElement("div",{style:{height:"2px",background:"#00aff0"}}),s.a.createElement("div",{className:"requestsEmail"},s.a.createElement("p",null,i.state.pending.length," new request to confirm")),s.a.createElement("div",{className:"pendingReq"},0!==b.length?b.map((function(e){return s.a.createElement("div",{key:e.id,onClick:function(){return n(e.id)}},e.client,","," ",Le()(e.created).add("hour",1).format("MM/DD/YYYY HH:mm"))})):s.a.createElement("p",null,"No requests")))),p?s.a.createElement("img",{src:T.a,className:"loading",alt:"loading...",style:{width:"150px"}}):s.a.createElement("div",{className:"mainTabel"},s.a.createElement("div",{className:"mainConsultation"},s.a.createElement("div",{className:"icon_left"},s.a.createElement("p",null,"My Consultations")),s.a.createElement("div",{className:"sort"},s.a.createElement("p",{className:"upcoming",style:{fontWeight:"upcoming"===i.state.currentFilterClicked?"bold":"300"},onClick:l},"Upcoming"),s.a.createElement("p",{className:"past",style:{fontWeight:"past"===i.state.currentFilterClicked?"bold":"300"},onClick:c},"Past"),s.a.createElement("p",{className:"all",style:{fontWeight:"all"===i.state.currentFilterClicked?"bold":"300"},onClick:r},"All"))),s.a.createElement("table",{className:"table2"},s.a.createElement("thead",{className:"client-head"},s.a.createElement("tr",{className:"client-row"},s.a.createElement("th",{className:"client-doctor"},s.a.createElement("div",{className:"mainExamDiv"},s.a.createElement("div",{className:"searchDiv"},s.a.createElement("span",{className:"examTypetext"},"Client "),s.a.createElement("span",{className:"searchIcon",onClick:h},i.state.searchClient?s.a.createElement("img",{src:Ye.a,alt:"arrow"}):s.a.createElement("img",{src:Re.a,alt:"arrow"}))),s.a.createElement("input",{type:"text",placeholder:"Search",value:i.state.searchName,onChange:f,style:{display:!i.state.searchClient&&"none"}}))),s.a.createElement("th",{className:"client-subject"},"Subject"),s.a.createElement("th",{className:"client-type",style:{padding:i.state.searchClient&&"0 0 30px 0"}},s.a.createElement("div",{className:"mainExamDiv"},s.a.createElement("select",{type:"text",placeholder:"",onClick:E,onChange:g,value:i.state.searchType},s.a.createElement("option",{value:""},"Type"),s.a.createElement("option",{value:"mail"},"Email"),s.a.createElement("option",{value:"video"},"Video"),s.a.createElement("option",{value:"queue"},"Waiting room")))),s.a.createElement("th",{className:"client-date"},"Date"),s.a.createElement("th",{className:"client-status",style:{padding:i.state.searchClient&&"0 0 30px 0"}},"Status"))),""===i.state.messageIfEmpty&&i.state.paginatedExams.map((function(e,t){return s.a.createElement("tbody",{key:t,className:"client-body"},s.a.createElement("tr",{className:"list-group",style:{fontWeight:e.isRead&&700},onClick:function(){return a(e.id,e.exam_type)}},s.a.createElement("td",{className:"client-doctor"},e.client),s.a.createElement("td",{className:"client-subject"},e.subject),s.a.createElement("td",{className:"client-subject"},e.exam_type),s.a.createElement("td",{className:"created"},e.created&&!e.appointed_date?s.a.createElement("p",null," ",Le()(e.created).format("MM/DD/YYYY")):e.appointed_date?s.a.createElement("p",null," ",Le()(e.appointed_date).format("MM/DD/YYYY HH:mm")):null),s.a.createElement("td",{className:"client-status"},"Pending"===e.status||"In the queue"===e.status?s.a.createElement("img",{src:ke.a,alt:"clockIcon",className:"pendi"}):"Declined"===e.status||"Canceled"===e.status?s.a.createElement("img",{src:De.a,alt:"declined",className:"declined"}):"Finished"===e.status?s.a.createElement(Ne.a,{className:"finished"}):s.a.createElement("img",{src:Ce.a,alt:"ckeck",className:"check"}),s.a.createElement("h5",{className:"status"},e.status))))}))),""!==i.state.messageIfEmpty&&s.a.createElement("div",{className:"NoResultDiv"},i.state.messageIfEmpty)),s.a.createElement("div",{className:"pagi"},s.a.createElement(We.a,{activePage:i.state.page,itemsCountPerPage:5,totalItemsCount:0===i.state.searchedUpcomingOrPast.length?i.state.upcomingOrPast.length:i.state.searchedUpcomingOrPast.length,pageRangeDisplayed:10,onChange:v})))}),ft=function(e){return{type:"STATUSCHANGEWR",payload:e}},Et=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(d.a)(t).call(this,e))).pnd=function(){var e="Bearer ".concat(a.state.token);he.a.get("http://healthcarebackend.xyz/api/doctor/exams/req/",{headers:{Authorization:e}}).then((function(e){var t=e.data.data.map((function(e){return{id:e.id,client:e.client,created:e.created,subject:e.subject,status:e.status}})).sort((function(e,t){return Date.parse(t.created)-Date.parse(e.created)}));a.setState({pending:t.filter((function(e){return"Pending"===e.status}))})})).catch((function(e){console.log(e)}))},a.handleUpcoming=function(){var e=setInterval((function(){var t=a.state.exams.filter((function(e){return"Appointed"===e.status||"Accepted"===e.status||"Pending"===e.status||"In the queue"===e.status})),n=t.sort((function(e,t){return Date.parse(t.created)-Date.parse(e.created)})),s=0===t.length?"No upcoming consultations":"";a.setState({upcomingOrPast:n,page:1,messageIfEmpty:s,currentFilterClicked:"upcoming",searchedUpcomingOrPast:[],filterFiltered:[],searchType:"",searchName:""}),a.paginate(1),clearInterval(e)}),10)},a.handlePast=function(){var e=setInterval((function(){var t=a.state.exams.filter((function(e){return"Declined"===e.status||"Finished"===e.status||"Canceled"===e.status})),n=t.sort((function(e,t){return Date.parse(t.created)-Date.parse(e.created)})),s=0===t.length?"No past consultations":"";a.setState({upcomingOrPast:n,page:1,messageIfEmpty:s,currentFilterClicked:"past",searchedUpcomingOrPast:[],filterFiltered:[],searchType:"",searchName:""}),a.paginate(1),clearInterval(e)}),10)},a.handleAll=function(){var e=setInterval((function(){var t=a.state.exams,n=t.sort((function(e,t){return Date.parse(t.created)-Date.parse(e.created)})),s=0===t.length?"No consultations":"";a.setState({upcomingOrPast:n,page:1,messageIfEmpty:s,currentFilterClicked:"all",searchedUpcomingOrPast:[],filterFiltered:[],searchType:"",searchName:""}),a.paginate(1),clearInterval(e)}),10)},a.handleClick=function(e,t){"mail"===t?a.props.history.push("/doctor/exam/detail/".concat(e)):"video"===t?a.props.history.push("/doctor/video/exam/detail/".concat(e,"/#init")):"queue"===t&&a.props.history.push("/doctor/processing/video/exam/".concat(e,"/#init"))},a.handleVideoPendingClick=function(e){a.props.history.push("/doctor/video/exam/detail/".concat(e))},a.paginatedExams=function(){var e;return le.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:e="Bearer ".concat(a.state.token),he.a.get("http://healthcarebackend.xyz/api/exams/doctor/",{headers:{Authorization:e}}).then((function(e){if(0!==e.data.data.mail.length||0!==e.data.data.video.length){var t=e.data.data.mail.concat(e.data.data.video);a.setState({exams:t});var n=e.data.data.video.filter((function(e){return"Pending"===e.status&&Le()(e.appointed_date).format("MM/DD/YYYY")>=Le()(new Date).format("MM/DD/YYYY")})),s=e.data.data.video.filter((function(e){return"Appointed"===e.status})).filter((function(e){return Le()(new Date).format("MM/DD/YYYYTHH:mm aa")>Le()(e.appointed_date).format("MM/DD/YYYYTHH:mm aa")&&Le()(new Date).format("MM/DD/YYYYTHH:mm aa")<Le()(e.appointed_date).add(30,"minutes").format("MM/DD/YYYYTHH:mm aa")?e:null}));a.setState({videoPending:n,loading:!1,numOfMessages:s.length})}})).then((function(){a.peopleInWaitingRoom(a.state.doctorCurent.id),a.handleAll(),a.paginate(a.state.page),a.getUnreadMessages(a.state.doctorCurent.id)})).catch((function(e){console.log(e.response,"error"),a.setState({loading:!1})}));case 2:case"end":return t.stop()}}))},a.paginate=function(e){if(0===a.state.searchedUpcomingOrPast.length){var t=Math.ceil(a.state.upcomingOrPast.length/5),n=5*(e-1),s=a.state.upcomingOrPast.slice(n,n+5);a.setState({paginatedExams:s,loading:!1,maxPages:t})}else{var l=Math.ceil(a.state.searchedUpcomingOrPast.length/5),c=5*(e-1),r=a.state.searchedUpcomingOrPast.slice(c,c+5);a.setState({paginatedExams:r,loading:!1,maxPages:l})}},a.handleWaitingRoom=function(e){a.state.waitingRoom[0].id===e?a.props.history.push("/doctor/processing/video/exam/".concat(e,"/#init")):ce.NotificationManager.error("Client is not next in line","Failed!",3e3)},a.hnlClick=function(){a.props.history.push("/doctors-email-list")},a.hnlVideoClick=function(){a.props.history.push("/doctors-video-list")},a.hnlWaitingClick=function(){a.props.history.push("/doctors-queue-list")},a.handleDoctorProfile=function(){var e;return le.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:e="Bearer ".concat(a.state.token),he.a.get("http://healthcarebackend.xyz/api/doctor/profile/",{headers:{Authorization:e}}).then((function(e){var t=e.data.data;return a.connecSocket(t.id),a.props.curentDoc(t),a.setState({doctorCurent:t})}));case 2:case"end":return t.stop()}}))},a.peopleInWaitingRoom=function(e){var t;return le.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:t="Bearer ".concat(a.state.token),he.a.get("http://healthcarebackend.xyz/api/queue/today/".concat(e,"/"),{headers:{Authorization:t}}).then((function(e){console.log(e),e.data.data.queue.forEach((function(e){e.created!==Le()(new Date).format("YYYY-MM-DD")&&"In the queue"===e.status&&a.changeStatusOfPastExams(e.id)}));var t=e.data.data.queue.filter((function(e){return"Accepted"===e.status||"In the queue"===e.status}));a.setState({waitingRoom:t,exams:Object(xe.a)(a.state.exams.concat(e.data.data.queue))})})).then((function(){a.handleAll()})).catch((function(e){console.log(e.response)}));case 2:case"end":return n.stop()}}))},a.changeStatusOfPastExams=function(e){var t,n,s;return le.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:return t="Bearer ".concat(a.state.token),l.next=3,le.a.awrap(fetch("http://healthcarebackend.xyz/api/queue/detail/".concat(e,"/"),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:t},body:JSON.stringify({status:"Decline"})}));case 3:return n=l.sent,l.next=6,le.a.awrap(n.json());case 6:return s=l.sent,console.log(s),l.abrupt("return",s);case 9:case"end":return l.stop()}}))},a.handleClickMail=function(e){a.props.history.push("/doctor/exam/detail/".concat(e))},a.hnlMyConsultations=function(){a.handleAll(),a.setState({hamburger:!1})},a.connecSocket=function(e){var t=new WebSocket("ws://healthcarebackend.xyz/ws/dashboard/doctor/".concat(e,"/"));t.onopen=function(){console.log("connected to port")},t.onmessage=function(e){"In the queue"!==JSON.parse(e.data).statu&&a.props.statusChangeWR(JSON.parse(e.data).id),a.messagesNumber()},t.onclose=function(){console.error("disconected")}},a.messagesNumber=function(){a.paginatedExams(),a.pnd()},a.getUnreadMessages=function(e){var t;return le.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:t="Bearer ".concat(a.state.token),he.a.get("http://healthcarebackend.xyz/api/exams/doctor/".concat(e,"/"),{headers:{Authorization:t}}).then((function(e){var t=e.data.data.filter((function(e){return 0!==e.messages.length?e.messages[e.messages.length-1].sender!=="".concat(a.state.doctorCurent.prefix," ").concat(a.state.doctorCurent.doctor):e})).map((function(e){return e.exam.id}));a.setState({mail:t})})).catch((function(e){console.log(e.response)}));case 2:case"end":return n.stop()}}))},a.handleClientSearch=function(){a.setState({searchClient:!a.state.searchClient})},a.handleTypeSearch=function(){a.setState({searchByTypeClick:!a.state.searchByTypeClick})},a.searchByName=function(e){if(""===e.target.value&&""===a.state.searchType)a.setState({filterFiltered:[]});else if(""===e.target.value&&""!==a.state.searchName){a.setState({filterFiltered:[]});var t=setInterval((function(){a.handlingSearchByType(),clearInterval(t)}),10)}a.setState({searchName:e.target.value});var n=setInterval((function(){a.handlingSearchByName(),clearInterval(n)}),10)},a.handlingSearchByName=function(){var e=a.state.searchName.toLowerCase().split(" "),t=0===a.state.filterFiltered.length?a.state.upcomingOrPast.filter((function(t){var a=t.client.split(" ");if(e[1]){if(a[0].toLowerCase().indexOf(e[0])===e[0].indexOf(e[0])&&a[1].toLowerCase().indexOf(e[1])===e[1].indexOf(e[1])||a[0].toLowerCase().indexOf(e[1])===e[1].indexOf(e[1])&&a[1].toLowerCase().indexOf(e[0])===e[0].indexOf(e[0]))return t}else if(a[0].toLowerCase().indexOf(e[0])===e[0].indexOf(e[0])||a[1].toLowerCase().indexOf(e[0])===e[0].indexOf(e[0]))return t;return null})):a.state.filterFiltered.filter((function(t){var a=t.client.split(" ");if(e[1]){if(a[0].toLowerCase().indexOf(e[0])===e[0].indexOf(e[0])&&a[1].toLowerCase().indexOf(e[1])===e[1].indexOf(e[1])||a[0].toLowerCase().indexOf(e[1])===e[1].indexOf(e[1])&&a[1].toLowerCase().indexOf(e[0])===e[0].indexOf(e[0]))return t}else if(a[0].toLowerCase().indexOf(e[0])===e[0].indexOf(e[0])||a[1].toLowerCase().indexOf(e[0])===e[0].indexOf(e[0]))return t;return null})),n=0===t.length?"No Such Client":0!==t.length&&"No Such Client"!==a.state.messageIfEmpty?a.state.messageIfEmpty:"";0===a.state.filterFiltered.length&&a.setState({filterFiltered:t}),a.setState({searchedUpcomingOrPast:t,page:1,messageIfEmpty:n}),a.paginate(1)},a.ResetonSelectChange=function(){a.setState({filterFiltered:[]});var e=setInterval((function(){a.handlingSearchByName(),clearInterval(e)}),10)},a.searchByType=function(e){if(""===e.target.value&&""===a.state.searchName)a.setState({filterFiltered:[]});else if(""===e.target.value&&""!==a.state.searchName){a.setState({filterFiltered:[]});var t=setInterval((function(){a.handlingSearchByName(),clearInterval(t)}),10)}var n=e.target.value.toLowerCase();a.setState({searchType:n});var s=setInterval((function(){a.handlingSearchByType(),clearInterval(s)}),10)},a.handlingSearchByType=function(){var e=0===a.state.filterFiltered.length?a.state.upcomingOrPast.filter((function(e){return e.exam_type.toLowerCase().indexOf(a.state.searchType)===a.state.searchType.indexOf(a.state.searchType)?e:null})):a.state.filterFiltered.filter((function(e){return e.exam_type.toLowerCase().indexOf(a.state.searchType)===a.state.searchType.indexOf(a.state.searchType)?e:null})),t=0===e.length?"No Such Type":0!==e.length&&"No Such Type"!==a.state.messageIfEmpty?a.state.messageIfEmpty:"";0===a.state.filterFiltered.length&&a.setState({filterFiltered:e}),a.setState({searchedUpcomingOrPast:e,page:1,messageIfEmpty:t}),a.paginate(1)},a.handlePageChange=function(e){a.setState({page:e}),a.paginate(e)},a.state={exams:[],paginatedExams:[],upcomingOrPast:[],searchedUpcomingOrPast:[],filterFiltered:[],record:[],token:sessionStorage.getItem("accessToken"),pending:[],videoPending:[],waitingRoom:[],openWaitingRoom:!1,value:"",doctorCurent:"",page:1,maxPages:"",loading:!0,hamburger:!1,numOfMessages:0,messageIfEmpty:"",currentFilterClicked:"",mail:[],searchName:"",searchClient:!1,searchByTypeClick:!1,searchType:""},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.handleDoctorProfile(),this.paginatedExams(),this.pnd()}},{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"header"},s.a.createElement("div",null,s.a.createElement(ne,null),s.a.createElement(ge,null))),s.a.createElement(ut,{props:this}),s.a.createElement(gt,{handleClick:this.handleClick,handleClickMail:this.handleClickMail,handleClient:this.handleClient,hnlClick:this.hnlClick,hnlClick2:this.hnlClick2,hnlClick3:this.hnlClick3,hnlWaitingClick:this.hnlWaitingClick,props:this,handleKeyPress:this.handleKeyPress,handleChange:this.handleChange,handleClickLeft:this.handleClickLeft,handleClickRight:this.handleClickRight,loading:this.state.loading,hnlVideoClick:this.hnlVideoClick,handleWaitingRoom:this.handleWaitingRoom,handleVideoPendingClick:this.handleVideoPendingClick,handleUpcoming:this.handleUpcoming,handlePast:this.handlePast,handleAll:this.handleAll,hnlMyConsultations:this.hnlMyConsultations,handleClientSearch:this.handleClientSearch,handleTypeSearch:this.handleTypeSearch,searchByType:this.searchByType,searchByName:this.searchByName,ResetonSelectChange:this.ResetonSelectChange,handlePageChange:this.handlePageChange}))}}]),t}(n.Component),vt=Object(h.b)(null,(function(e){return Object(p.bindActionCreators)({curentDoc:He,statusChangeWR:ft},e)}))(Et),bt=a(24),yt=(a(195),a(75)),xt=a.n(yt),Nt=a(46),St=a.n(Nt),Ct=function(e){var t=e.exam,a=e.handleStatus,l=e.statusValue,c=(e.handleReplyClick,e.onChangeHandler),r=e.handleSubmitSend,i=e.handleMessage,o=e.newMessage,d=e.props,m={control:function(){return{width:200,border:"2px solid #fa9551",borderRadius:"10px",height:"40px",fontWeight:600,display:"flex",background:"white"}}};return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"header"},s.a.createElement("div",null,s.a.createElement(ne,null),s.a.createElement(ge,null))),s.a.createElement(mt,null),t&&t.map((function(e){var t="Appointed"===e.status?"Accepted":e.status,u="Accepted"!==e.status?[{value:"Accept",label:"Accept"},{value:"Decline",label:"Decline"}]:[{value:"Finish",label:"Finish"}];return s.a.createElement(n.Fragment,{key:e.id},s.a.createElement("div",{className:"detail_exam"},s.a.createElement("div",{className:"iconVideo"},s.a.createElement("img",{src:xt.a,alt:"email"}),s.a.createElement("p",null,"Email details")," "),s.a.createElement("div",{className:"detail"},s.a.createElement("p",null,s.a.createElement("span",null,"Client:")," ",e.client),s.a.createElement("p",null,s.a.createElement("span",null,"Created:")," ",new Intl.DateTimeFormat("en-GB",{year:"numeric",month:"long",day:"2-digit"}).format(new Date(e.created))),s.a.createElement("p",null,s.a.createElement("span",null,"Type:")," ",e.exam_type),"Canceled"===e.status||"Finished"===e.status||"Declined"===e.status?s.a.createElement("p",null,s.a.createElement("span",null,"Status:")," ",e.status):s.a.createElement("div",{className:"divSelectButton"},s.a.createElement(bt.a,{type:"text",styles:m,placeholder:t,className:"select-option",value:l,options:u,onChange:a}))),s.a.createElement("div",{className:"sideMessageDetails"},s.a.createElement("div",{className:"SubjectMessage"},s.a.createElement("div",{className:"sideSub"},s.a.createElement("p",null,s.a.createElement("span",null,"Subject:")," ",e.subject),s.a.createElement("p",null,s.a.createElement("span",null,Le()(e.appointed_date).format("MM/DD/YYY"))," ",Le()(e.appointed_date).format(" HH:mm"))),s.a.createElement("div",{className:"messageDiv"},s.a.createElement("textarea",{defaultValue:e.message,disabled:!0}))),s.a.createElement("div",{className:"mainMessageCorrespondence",style:{overflow:0===d.correspondence.length&&"hidden"}},s.a.createElement("div",{className:"MessageCorrespondence"},d.correspondence.map((function(e,t){return s.a.createElement("div",{key:e.id,style:{width:e.sender===d.doctor&&"90%"},className:"Maintbody"},s.a.createElement("div",{style:{background:e.sender===d.doctor&&"#00aff0"},className:"senderMaiin"},s.a.createElement("p",{className:"senderP"},s.a.createElement("span",null,"From:")," ",e.sender),s.a.createElement("p",{className:"createdP"},Le()(e.created).add(2,"hours").format("DD-MM-YYYY HH:mm"))),s.a.createElement("div",{className:"row1"},s.a.createElement("textarea",{id:e.id,defaultValue:e.message,className:"message"}),e.attachments?s.a.createElement("div",{className:"attachments"},s.a.createElement("p",{className:"att"},"Attachments: ",e.attachments)):null),d.replyClicked&&d.lastInArray.created===e.created&&s.a.createElement("div",{className:"SendMainDiv"},s.a.createElement("div",{style:{background:"#00aff0"},className:"senderMaiin"},s.a.createElement("p",{className:"senderP"},s.a.createElement("span",null,"From:")," ",e.sender),s.a.createElement("p",{className:"createdP"},Le()(e.created).add(2,"hours").format("DD-MM-YYYY HH:mm"))),s.a.createElement("textarea",{type:"text",placeholder:"Message...",onChange:i,value:d.messageValue}),s.a.createElement("div",{className:"sendbuttonAndAtt"},s.a.createElement("button",{onClick:r},s.a.createElement(ve.c,{className:"replyIcon"}),s.a.createElement("span",null,"Send")),s.a.createElement("div",{className:"upload-btn-wrapper"},s.a.createElement("button",{className:"btn"},s.a.createElement("img",{src:St.a,alt:""})),s.a.createElement("input",{type:"file",name:"myfile",onChange:c})))))})),d.replyClicked&&0===d.correspondence.length?s.a.createElement("div",{className:"SendMainDiv"},s.a.createElement("div",{className:"senderMaiin"},s.a.createElement("p",{className:"senderP"},s.a.createElement("span",null,"From:")," ",d.client)),s.a.createElement("textarea",{type:"text",placeholder:"Message...",onChange:i,value:d.messageValue}),s.a.createElement("div",{className:"sendbuttonAndAtt"},s.a.createElement("button",{onClick:r},s.a.createElement(ve.c,{className:"replyIcon"}),s.a.createElement("span",null,"Send")),s.a.createElement("div",{className:"upload-btn-wrapper"},s.a.createElement("button",{className:"btn"},s.a.createElement("img",{src:St.a,alt:""})),s.a.createElement("input",{type:"file",name:"myfile",onChange:c})))):null,"Accepted"===e.status&&s.a.createElement("button",{className:"newMessage",onClick:o},s.a.createElement("h1",null,"+")))))))})))},wt=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(d.a)(t).call(this,e))).handleMessage=function(e){a.setState({messageValue:e.target.value})},a.detail=function(e){var t="Bearer ".concat(a.state.token);he.a.get("http://healthcarebackend.xyz/api/doctor/exams/".concat(e,"/"),{headers:{Authorization:t}}).then((function(e){console.log(e,"current"),a.setState({exam:a.state.exam.concat(e.data.data),doctor:e.data.data.doctor})}))},a.handleSubmit=function(e){var t=a.props.match.params.id;a.doctorExam(t,e)},a.handleReplyClick=function(){a.setState({replyClicked:!a.state.replyClicked})},a.newMessage=function(){a.setState({replyClicked:!0})},a.handleStatus=function(e){a.setState({statusValue:e});var t=e.value;a.setState({selectedStatus:t}),a.handleSubmit(t)},a.onChangeHandler=function(e){a.setState({selectedFile:e.target.files[0]})},a.doctorExam=function(e,t){var n,s,l;return le.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return console.log(e,t),n="Bearer ".concat(a.state.token),c.next=4,le.a.awrap(fetch("http://healthcarebackend.xyz/api/doctor/exams/".concat(e,"/"),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:n},body:JSON.stringify({status:t})}));case 4:return s=c.sent,c.next=7,le.a.awrap(s.json());case 7:return(l=c.sent).success&&window.location.reload(),c.abrupt("return",l);case 10:case"end":return c.stop()}}))},a.handleSubmitSend=function(e){a.state.messageValue?(a.sendMessage(),a.setState({messageValue:"",replyClicked:!1})):ce.NotificationManager.error("Empty Fields","Failed!",2e3)},a.sendMessage=function(){var e,t,n;return le.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return e="Bearer ".concat(a.state.token),s.next=3,le.a.awrap(fetch("http://healthcarebackend.xyz/api/doctor/exams/".concat(a.state.id,"/message/"),{method:"POST",headers:{"Content-Type":"application/json;",Authorization:e},body:JSON.stringify({message:a.state.messageValue,attachment:a.state.selectedFile})}));case 3:return t=s.sent,s.next=6,le.a.awrap(t.json());case 6:return(n=s.sent).success&&(a.correspondence(a.state.id),ce.NotificationManager.success("Message Sent","Successful!",2e3),a.socket.send({exam_id:a.state.id,message:a.state.messageValue})),s.abrupt("return",n);case 9:case"end":return s.stop()}}))},a.correspondence=function(e){var t="Bearer ".concat(a.state.token);he.a.get("http://healthcarebackend.xyz/api/doctor/exams/".concat(e,"/messages/"),{headers:{Authorization:t}}).then((function(e){var t=e.data.data.map((function(e){return{id:e.id,sender:e.sender,created:e.created,message:e.message,attachment:e.attachment}}));a.setState({correspondence:t,lastInArray:t[t.length-1]})})).catch((function(e){console.log(e.response)}))},a.state={exam:[],statusValue:"",selectedStatus:"",token:sessionStorage.getItem("accessToken"),id:"",correspondence:[],lastInArray:null,replyClicked:!1,messageValue:"",selectedFile:null,doctor:""},a.socket=new WebSocket("ws://healthcarebackend.xyz/ws/message/".concat(a.props.match.params.id,"/")),a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentWillUnmount",value:function(){this.socket.close()}},{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.id;this.setState({id:t}),this.detail(t),this.correspondence(t),this.socket.onopen=function(){console.log("connected")},this.socket.onmessage=function(a){var n=JSON.parse(a.data);console.log(n),n.exam_id===parseInt(t)&&e.correspondence(t)}}},{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement(Ct,{exam:this.state.exam,handleStatus:this.handleStatus,handleReplyClick:this.handleReplyClick,handleSubmitSend:this.handleSubmitSend,props:this.state,onChangeHandler:this.onChangeHandler,handleMessage:this.handleMessage,newMessage:this.newMessage}))}}]),t}(n.Component),kt=a(41),Ot=(a(322),a(39)),Dt=a.n(Ot),Pt=a(40),jt=a.n(Pt),It=function(e){var t=e.userType,a=e.handleEmail,n=e.handleFirstName,l=e.handleLastName,c=e.handlePass,r=e.handleAddress,i=e.handleBirthDate,o=e.handleSpec,d=e.handleSubmit,m=e.handleGenderRadio,u=e.handleUserType,p=e.handleConfPass,h=e.handlePhoneNumber,g=e.handleOrganization,f=e.handleImage1,E=e.handleImage2,v=e.props,b={control:function(e,t){return Object(kt.a)({},e,{height:"40px",border:"1.7px solid #fa9551",borderRadius:"10px",width:"250px",marginLeft:"2px",background:"white",color:"#666666"})}};return s.a.createElement("div",{className:"mainRegisterDiv"},s.a.createElement("div",{className:"radioDiv"},s.a.createElement("h1",{className:"head"},"Are you a doctor or a client?"),s.a.createElement("div",{className:"checkingInputs"},s.a.createElement("div",{className:"doctorORClient"},s.a.createElement("input",{className:"doctorRadio",type:"checkbox",name:"userType",value:"doctor",id:"r1",checked:"doctor"===v.userType,onChange:function(){return u("doctor")},style:{}}),s.a.createElement("label",{htmlFor:"r1",className:"doctorLabel"},"Doctor"),s.a.createElement("input",{className:"clientRadio",type:"checkbox",name:"userType",id:"r2",value:"client",checked:"client"===v.userType,onChange:function(){return u("client")}}),s.a.createElement("label",{htmlFor:"r2",className:"clientLabel"},"Client")),s.a.createElement("div",{className:"gender"},s.a.createElement("div",{className:"maleGender"},s.a.createElement("input",{className:"maleRadio",type:"radio",name:"userType",value:"Male",id:"M",onChange:function(){return m("M")}}),s.a.createElement("label",{htmlFor:"M",className:"Male"},"Male")),s.a.createElement("div",{className:"femaleGender"},s.a.createElement("input",{className:"femaleRadio",type:"radio",name:"userType",id:"F",autoComplete:"off",value:"Female",onChange:function(){return m("F")}}),s.a.createElement("label",{htmlFor:"F",className:"Female"},"Female"))))),s.a.createElement("form",{className:"register-form"},s.a.createElement("div",{className:"firstLastGender"},s.a.createElement("div",{className:"reg-name"},s.a.createElement("label",{htmlFor:"firstname"},"First Name"),s.a.createElement("input",{type:"text",className:"form-control",id:"firstname",value:v.firstNameValue,onChange:n})),s.a.createElement("div",{className:"reg-surname"},s.a.createElement("label",{htmlFor:"lastname"},"Last Name"),s.a.createElement("input",{type:"text",className:"form-control",id:"lastname",value:v.lastNameValue,onChange:l}))),s.a.createElement("div",{className:"regPass"},s.a.createElement("div",{className:"reg-email"},s.a.createElement("label",{htmlFor:"email"},"E-mail"),s.a.createElement("input",{type:"email",className:"form-control",id:"email",autoComplete:"off",value:v.emailValue,onChange:a})),"client"===t?s.a.createElement("div",{className:"address"},s.a.createElement("label",{htmlFor:"address"},"Address"),s.a.createElement("input",{type:"text",className:"form-control",id:"address",value:v.addressValue,onChange:r})):s.a.createElement("div",{className:"address"},s.a.createElement("label",{htmlFor:"phone"},"Phone number"),s.a.createElement("input",{type:"number",className:"form-control",id:"phone",value:v.phoneNumber,onChange:h}))),"client"===t&&s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"clientsBinfo"},s.a.createElement("div",{className:"reg-pass"},s.a.createElement("label",{htmlFor:"pwd"},"Password"),s.a.createElement("div",null,s.a.createElement("input",{type:v.seePass1?"text":"password",className:"form-control",autoComplete:"off",id:"pwd",value:v.passwordValue,onChange:c}),s.a.createElement("img",{onClick:f,src:v.seePass1?Dt.a:jt.a,alt:"img"}))),s.a.createElement("div",{className:"date"},s.a.createElement("label",{htmlFor:"birthdate"},"Birth Date"),s.a.createElement("input",{type:"date",className:"form-control",id:"birthdate",value:v.birthDateValue,onChange:i}))),s.a.createElement("div",{className:"confirmAndPhone"},s.a.createElement("div",{className:"conf-pass"},s.a.createElement("label",{htmlFor:"pwd"},"Confirm Password"),s.a.createElement("div",null,s.a.createElement("input",{type:v.seePass2?"text":"password",className:"form-control",id:"pwd",autoComplete:"off",value:v.confPasswordValue,onChange:p}),s.a.createElement("img",{onClick:E,src:v.seePass2?Dt.a:jt.a,alt:"img"}))),s.a.createElement("div",{className:"Phone"},s.a.createElement("label",{htmlFor:"phone"},"Phone number"),s.a.createElement("input",{type:"number",className:"form-control",id:"phone",value:v.phoneNumber,onChange:h})))),"doctor"===t&&s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"clientsBinfo"},s.a.createElement("div",{className:"reg-pass"},s.a.createElement("label",{htmlFor:"pwd"},"Password"),s.a.createElement("div",null,s.a.createElement("input",{type:v.seePass1?"text":"password",className:"form-control",id:"pwd",autoComplete:"off",value:v.passwordValue,onChange:c}),s.a.createElement("img",{onClick:f,src:v.seePass1?Dt.a:jt.a,alt:"img"}))),s.a.createElement("div",{className:"date"},s.a.createElement("label",{htmlFor:"organization"},"Organization"),s.a.createElement("input",{type:"text",className:"form-control",id:"organization",value:v.organization,onChange:g}))),s.a.createElement("div",{className:"doctorsBinfo"},s.a.createElement("div",{className:"prefix"},s.a.createElement("label",{htmlFor:"pwd"},"Confirm Password"),s.a.createElement("div",null,s.a.createElement("input",{type:v.seePass2?"text":"password",className:"form-control",id:"pwd",autoComplete:"off",value:v.confPasswordValue,onChange:p}),s.a.createElement("img",{onClick:E,src:v.seePass2?Dt.a:jt.a,alt:"img"}))),s.a.createElement("div",{className:"spec"},s.a.createElement("label",{htmlFor:"speciality"},"Speciality"),s.a.createElement(bt.a,{type:"text",id:"speciality",value:v.specValue,options:v.specOptions,styles:b,onChange:o})))),s.a.createElement("div",{className:"register-button"},s.a.createElement("button",{type:"submit",className:"btn",onClick:d},"Sign Up"))))},Mt=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(d.a)(t).call(this,e))).handleImage1=function(){a.setState({seePass1:!a.state.seePass1})},a.handleImage2=function(){a.setState({seePass2:!a.state.seePass2})},a.handleUserType=function(e){a.setState({userType:e,seePass1:!1,seePass2:!1})},a.handleEmail=function(e){a.setState({emailValue:e.target.value})},a.handleFirstName=function(e){a.setState({firstNameValue:e.target.value})},a.handleLastName=function(e){a.setState({lastNameValue:e.target.value})},a.handlePass=function(e){a.setState({passwordValue:e.target.value})},a.handleConfPass=function(e){a.setState({confPasswordValue:e.target.value})},a.handleAddress=function(e){a.setState({addressValue:e.target.value})},a.handleBirthDate=function(e){a.setState({birthDateValue:e.target.value})},a.handleEmailPrice=function(e){a.setState({EmailPrice:e.target.value})},a.handleWebPrice=function(e){a.setState({WebPrice:e.target.value})},a.handlePhoneNumber=function(e){a.setState({phoneNumber:e.target.value})},a.handleOrganization=function(e){a.setState({organization:e.target.value})},a.handleSpec=function(e){a.setState({specValue:e});var t=e.value;a.setState({selectedSpecValue:t})},a.handleSubmit=function(e){e.preventDefault(),"client"===a.state.userType&&a.state.emailValue&&a.state.firstNameValue&&a.state.lastNameValue&&a.state.passwordValue&&a.state.selectedGenderValue&&a.state.phoneNumber&&a.state.addressValue&&a.state.birthDateValue&&a.state.confPasswordValue?a.userRegister():"doctor"===a.state.userType&&a.state.emailValue&&a.state.firstNameValue&&a.state.lastNameValue&&a.state.passwordValue&&a.state.confPasswordValue&&a.state.organization&&a.state.phoneNumber&&a.state.selectedGenderValue&&a.state.selectedSpecValue?a.userRegister():ce.NotificationManager.error("All Fields Are Required","Failed!",2e3)},a.userRegister=function(){var e,t,n,s;return le.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:if("client"!==a.state.userType){l.next=17;break}if(a.state.confPasswordValue!==a.state.passwordValue){l.next=14;break}return l.next=4,le.a.awrap(fetch("http://healthcarebackend.xyz/api/auth/register/client/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:a.state.emailValue,first_name:a.state.firstNameValue,last_name:a.state.lastNameValue,phone:a.state.phoneNumber,password:a.state.passwordValue,confirm_password:a.state.confPasswordValue,client:{gender:a.state.selectedGenderValue,address:a.state.addressValue,birth_date:a.state.birthDateValue}})}));case 4:return e=l.sent,l.next=7,le.a.awrap(e.json());case 7:return(t=l.sent).success&&ce.NotificationManager.success("Registered successfully","Successful!",4e3),t.success&&a.props.history.push("/Verification"),!t.success&&ce.NotificationManager.error("".concat(t.message,', "Failed')),l.abrupt("return",t);case 14:ce.NotificationManager.error("Confirm password does not match","Failed!",4e3);case 15:l.next=27;break;case 17:if("doctor"!==a.state.userType){l.next=27;break}return l.next=20,le.a.awrap(fetch("http://healthcarebackend.xyz/api/auth/register/doctor/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:a.state.emailValue,first_name:a.state.firstNameValue,last_name:a.state.lastNameValue,phone:a.state.phoneNumber,password:a.state.passwordValue,confirm_password:a.state.confPasswordValue,doctor:{gender:a.state.selectedGenderValue,speciality:a.state.selectedSpecValue,organization:a.state.organization}})}));case 20:return n=l.sent,l.next=23,le.a.awrap(n.json());case 23:return s=l.sent,console.log(s),s.success?(a.props.history.push("/Verification"),ce.NotificationManager.success("Registered successfully","Successful!",4e3)):ce.NotificationManager.error("".concat(s.error),"Faild!",4e3),l.abrupt("return",s);case 27:case"end":return l.stop()}}))},a.handleGenderRadio=function(e){a.setState({selectedGenderValue:e})},a.state={userType:"client",emailValue:"",firstNameValue:"",lastNameValue:"",passwordValue:"",confPasswordValue:"",addressValue:"",birthDateValue:"",EmailPrice:0,WebPrice:0,specOptions:[],specValue:"",selectedGenderValue:"",selectedSpecValue:"",phoneNumber:"",organization:"",seePass1:!1,seePass2:!1},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;he.a.get("http://healthcarebackend.xyz/api/specialities/").then((function(t){var a=t.data.data.map((function(e){return{value:e.id,label:e.name}}));e.setState({specOptions:a})}))}},{key:"render",value:function(){return console.log(this.state.emailValue,this.state.firstNameValue,this.state.lastNameValue,this.state.phoneNumber,this.state.passwordValue,this.state.selectedGenderValue,this.state.confPasswordValue,this.state.selectedSpecValue,this.state.organization),s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"header"},s.a.createElement("div",null,s.a.createElement(ne,null),s.a.createElement(ge,null))),s.a.createElement(It,{props:this.state,userType:this.state.userType,handleEmail:this.handleEmail,handleFirstName:this.handleFirstName,handleLastName:this.handleLastName,handlePass:this.handlePass,handleAddress:this.handleAddress,handleBirthDate:this.handleBirthDate,handleEmailPrice:this.handleEmailPrice,handleWebPrice:this.handleWebPrice,handleSpec:this.handleSpec,handleSubmit:this.handleSubmit,handleGenderRadio:this.handleGenderRadio,handleUserType:this.handleUserType,handleConfPass:this.handleConfPass,handlePhoneNumber:this.handlePhoneNumber,handleOrganization:this.handleOrganization,handleImage1:this.handleImage1,handleImage2:this.handleImage2}))}}]),t}(n.Component),_t=a(36),At=(a(323),function(e){var t=e.emailValue,a=e.passwordValue,n=e.submitted,l=(e.handleEmail,e.handlePassword),c=e.handleSubmit,r=e.handleChange,i=e.handleChangeRmb,o=e.rememberMe,d=e.handleImage1,m=e.seePass1;return s.a.createElement("div",{className:"mainLogin"},s.a.createElement("img",{src:T.a,className:"logo",alt:"cLogo"}),s.a.createElement("h1",null,"Log in"),s.a.createElement("h5",null,"Not a Cdoctor user yet?"),s.a.createElement(u.b,{className:"createAccount",to:"/register"},"Create your account"),s.a.createElement("form",{className:"login-form"},s.a.createElement("div",{className:"email"},s.a.createElement("label",{htmlFor:"email"},"Email"),s.a.createElement("input",{type:"email",className:"form-control",id:"email",name:"emailValue",value:t||"",onChange:r})),s.a.createElement("div",{className:"password"},s.a.createElement("label",{htmlFor:"pwd"},"Password"),s.a.createElement("div",null,s.a.createElement("input",{type:m?"text":"password",className:"form-control",id:"pwd",value:a,onChange:l}),s.a.createElement("img",{onClick:d,src:m?Dt.a:jt.a,alt:"img"}))),s.a.createElement("div",{className:"rememberForgot"},s.a.createElement("div",{onClick:i},s.a.createElement("input",{name:"rememberMe",checked:o,onChange:r,type:"checkbox"})," ",s.a.createElement("label",{htmlFor:"rememberMe"},"Remember me")),s.a.createElement(u.b,{className:"forget",to:"/forgot-password"},"Forgot Password?")),s.a.createElement("div",{className:"login-button"},s.a.createElement("button",{type:"submit",className:"btn",value:n,onClick:c},"Log In"))))}),Ft=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(d.a)(t).call(this,e))).handleImage1=function(){a.setState({seePass1:!a.state.seePass1})},a.handlePassword=function(e){a.setState({passwordValue:e.target.value})},a.handleSubmit=function(e){e.preventDefault(),a.userLogin();var t=a.state,n=t.emailValue,s=t.rememberMe;localStorage.setItem("rememberMe",s),localStorage.setItem("emailValue",s?n:"")},a.userLogin=function(){var e,t;return le.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,le.a.awrap(fetch("http://healthcarebackend.xyz/api/auth/login/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:a.state.emailValue,password:a.state.passwordValue})}));case 2:return e=n.sent,n.next=5,le.a.awrap(e.json());case 5:if(t=n.sent,console.log(t),!1!==t.success||400!==t.status_code){n.next=11;break}ce.NotificationManager.error("".concat(t.error),"Failed!",3e3),n.next=24;break;case 11:if("Invalid credentials"!==t.detail&&"User does not exist"!==t.detail&&!t.error){n.next=15;break}ce.NotificationManager.error("".concat(t.error),"Failed!",2e3),n.next=24;break;case 15:if(""!==a.state.emailValue&&""!==a.state.passwordValue){n.next=19;break}ce.NotificationManager.error("All Fields Are Required","Failed!",2e3),n.next=24;break;case 19:return t.is_doctor?a.setState({is_doctor:!0}):a.setState({is_doctor:!1}),a.props.dispatch(N(t.data)),t.data.access_token&&(sessionStorage.setItem("accessToken",t.data.access_token),sessionStorage.setItem("expiresIn",t.data.expires_in),sessionStorage.setItem("is_doctor",a.state.is_doctor),localStorage.setItem("refreshToken",t.data.refresh_token),a.props.dispatch({type:"USERS_LOGIN_SUCCESS"})),a.redirectUser(),n.abrupt("return",t);case 24:case"end":return n.stop()}}))},a.redirectUser=function(){a.props.isLoggedIn?a.state.is_doctor?a.props.history.push("/dashboard-doctor"):a.props.history.push("/dashboard-client"):a.props.history.push("/login")},a.handleChange=function(e){var t=e.target,n="checkbox"===t.type?t.checked:t.value;a.setState(Object(_t.a)({},t.name,n))},a.handleChangeRmb=function(){a.setState({rememberMe:!a.state.rememberMe})},a.state={emailValue:"",passwordValue:"",submitted:!1,is_doctor:!1,invalid:!1,rememberMe:!1,seePass1:!1},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e="true"===localStorage.getItem("rememberMe"),t=e?localStorage.getItem("emailValue"):localStorage.removeItem("emailValue");this.setState({emailValue:t,rememberMe:e})}},{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"header"},s.a.createElement("div",null,s.a.createElement(ne,null),s.a.createElement(ge,null))),s.a.createElement(At,{emailValue:this.state.emailValue,passwordValue:this.state.passwordValue,submitted:this.state.submitted,handleEmail:this.handleEmail,seePass1:this.state.seePass1,handlePassword:this.handlePassword,handleSubmit:this.handleSubmit,handleRememberClick:this.handleRememberClick,rememberMe:this.state.rememberMe,handleChange:this.handleChange,handleChangeRmb:this.handleChangeRmb,handleImage1:this.handleImage1}))}}]),t}(n.Component),Tt=Object(h.b)((function(e){return{user:e.getIn(["authReducer","user"]),isLoggedIn:e.getIn(["authReducer","isLoggedIn"])}}))(Ft),Vt=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(d.a)(t).call(this,e))).handleLogout=function(e){a.handleSubmit(),sessionStorage.clear(),localStorage.removeItem("refreshToken"),a.props.dispatch({type:"USERS_LOGIN_FAILURE"}),a.redirectUser()},a.handleSubmit=function(){var e,t,a;return le.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return e="Bearer ".concat(sessionStorage.getItem("accessToken")),n.next=3,le.a.awrap(fetch("http://healthcarebackend.xyz/api/doctor/profile/",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:e},body:JSON.stringify({prefix:"",description:"",email_exam_price:null,web_exam_price:null,status:"Offline"})}));case 3:return t=n.sent,n.next=6,le.a.awrap(t.json());case 6:a=n.sent,console.log(a,"profile changed");case 8:case"end":return n.stop()}}))},a.redirectUser=function(){a.props.history.push("/login")},a.state={},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.handleLogout()}},{key:"componentDidUpdate",value:function(){this.handleLogout()}},{key:"render",value:function(){return s.a.createElement("div",{className:"container"},s.a.createElement(ne,null),s.a.createElement(ge,{handleLogout:this.handleLogout}))}}]),t}(n.Component),Rt=Object(h.b)((function(e){var t=e.get("user"),a=e.get("isLoggedIn");return console.log(a,t,"logOutttttttt"),{user:t,isLoggedIn:a}}))(Vt),Bt=(a(324),function(e){var t=e.specialities,a=e.subject,n=e.submitted,l=e.message,c=e.handleSpeciality,r=e.handleDoctor,i=e.handleSubject,o=e.handleSubmit,d=e.handleMessage,m=e.specDoctor,u=e.resetDoctorSelect,p=e.handleAttach,h=(e.isClicked,{control:function(e,t){return Object(kt.a)({},e,{height:"40px",border:"1.7px solid #fa9551",borderRadius:"10px",width:"305px",marginLeft:"2px",background:"white",color:"#666666",fontWeight:"600"})}});return s.a.createElement("div",{className:"exam"},s.a.createElement("div",{className:"mainExam"},s.a.createElement("div",{className:"newEmail"},s.a.createElement("img",{src:xt.a,alt:"email img"}),s.a.createElement("p",null,"New Email")),s.a.createElement("div",{className:"exam-spec"},s.a.createElement(bt.a,{type:"text",styles:h,id:"speciality",placeholder:"Select Speciality...",options:t,onChange:c})),s.a.createElement("div",{className:"exam-doc"},s.a.createElement(bt.a,{styles:h,type:"text",id:"doctor",placeholder:"Select Doctor...",options:m,onChange:r,value:0===m.length?null:[u]})),s.a.createElement("div",{className:"exam-sub"},s.a.createElement("input",{type:"text",className:"form-control",id:"subject",placeholder:"Enter subject",value:a,onChange:i}))),s.a.createElement("div",{className:"exam-mess"},s.a.createElement("div",{className:"messageTitle"},"Message:"),s.a.createElement("textarea",{type:"text",className:"form-control",id:"exam-message",placeholder:"Enter message",value:l,onChange:d}),s.a.createElement("div",{className:"buttons"},s.a.createElement("button",{value:n,className:"btn",onClick:o},"Submit"),s.a.createElement("div",{className:"profilePic"},s.a.createElement("div",{className:"upload-btn-wrapper"},s.a.createElement("button",{className:"btn"},s.a.createElement("img",{src:St.a,alt:"attach"})),s.a.createElement("input",{type:"file",name:"myfile",onChange:p}))))))});function Yt(e){return{type:"DOCTOR_OBJ",doctor:e}}var zt=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(d.a)(t).call(this,e))).handleAttach=function(e){a.setState({attach:e.target.files[0]})},a.handleSpeciality=function(e){var t=a.state.doctors.filter((function(t){return t.spec===e.label}));a.setState({specialSP:e.value,specDoctor:t,resetDoctorSelect:null})},a.handleDoctor=function(e){console.log(e),a.props.dispatch(Yt(e)),a.setState({doctor_id:e.iD,price:e.price,currency:e.currency}),a.setState({resetDoctorSelect:e})},a.handleSubject=function(e){a.setState({subject:e.target.value})},a.handleMessage=function(e){a.setState({message:e.target.value})},a.handleSubmit=function(e){var t,n,s;return le.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:if(e.preventDefault(),t="Bearer ".concat(a.state.token),!(a.state.specialSP&&a.state.doctor_id&&a.state.subject&&a.state.message)){l.next=14;break}return l.next=5,le.a.awrap(fetch("http://healthcarebackend.xyz/api/client/initiate/",{method:"POST",headers:{"Content-Type":"application/json",Authorization:t},body:JSON.stringify({speciality:a.state.specialSP,doctor:a.state.doctor_id,subject:a.state.subject,message:a.state.message})}));case 5:return n=l.sent,l.next=8,le.a.awrap(n.json());case 8:return(s=l.sent).success&&a.toCheckout(),console.log(s,"data examform"),l.abrupt("return",s);case 14:ce.NotificationManager.error("Empty Fields","Failed!",2e3);case 15:case"end":return l.stop()}}))},a.toCheckout=function(){return le.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",a.props.history.push({pathname:"/checkout",state:{price:a.state.price,currency:a.state.currency}}));case 1:case"end":return e.stop()}}))},a.state={complete:!1,specialities:[],doctors:[],filtered:[],subject:"",message:"",submitted:!1,price:null,doctor_id:null,token:sessionStorage.getItem("accessToken"),specDoctor:[],specialSP:[],resetDoctorSelect:null,attach:null,currency:null},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;he.a.get("http://healthcarebackend.xyz/api/specialities/").then((function(t){console.log(t,"examform");var a=t.data.data.map((function(e){return{value:e.id,iD:e.speciality_id,label:e.name}}));e.setState({specialities:a})})),he.a.get("http://healthcarebackend.xyz/api/doctor/list/").then((function(t){if(console.log(t,"examform2"),t.data.data){var a=t.data.data.map((function(e){return{value:e.id,iD:e.id,label:e.doctor,spec:e.speciality,price:e.email_exam_price,currency:e.email_currency}}));e.setState({doctors:a})}else ce.NotificationManager.warning("".concat(t.data.message),"Failed!",2e3)})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"header"},s.a.createElement("div",null,s.a.createElement(ne,null),s.a.createElement(ge,null))),s.a.createElement(mt,null),s.a.createElement(Bt,{specialities:this.state.specialities,subject:this.state.subject,message:this.state.message,submitted:this.state.submitted,handleSpeciality:this.handleSpeciality,handleDoctor:this.handleDoctor,handleSubject:this.handleSubject,handleSubmit:this.handleSubmit,handleMessage:this.handleMessage,specDoctor:this.state.specDoctor,resetDoctorSelect:this.state.resetDoctorSelect,handleAttach:this.handleAttach}))}}]),t}(n.Component),Lt=Object(h.b)((function(e){return{doctor:e.getIn(["doctorReducer","doctor"]),price:e.price}}))(zt),Ut=(a(325),a(249)),Wt=a.n(Ut),qt=null,Ht=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(d.a)(t).call(this,e))).createOrder=function(e,t){if(0!==a.props.amount)return t.order.create({purchase_units:[{description:NaN,amount:{currency_code:"EUR",value:a.props.amount}}]});ce.NotificationManager.error("Doctor did not set his price","Faild",3e3)},a.onApprove=function(e,t){0!==a.props.amount&&t.order.capture().then((function(t){var n={payerID:e.payerID,orderID:e.orderID};console.log("Payment Approved: ",n),a.setState({showButtons:!1,paid:!0})}))},a.state={showButtons:!1,loading:!0,paid:!1},window.React=s.a,window.ReactDOM=c.a,a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.isScriptLoaded,a=e.isScriptLoadSucceed;t&&a&&(qt=window.paypal.Buttons.driver("react",{React:s.a,ReactDOM:c.a}),this.setState({loading:!1,showButtons:!0}))}},{key:"componentWillReceiveProps",value:function(e){var t=e.isScriptLoaded,a=e.isScriptLoadSucceed;!this.state.showButtons&&!this.props.isScriptLoaded&&t&&a&&(qt=window.paypal.Buttons.driver("react",{React:s.a,ReactDOM:c.a}),this.setState({loading:!1,showButtons:!0}))}},{key:"render",value:function(){var e=this;console.log(this.props);var t=this.state,a=t.showButtons,n=t.paid;return s.a.createElement("div",{className:"main",style:{margin:"40px auto 0 auto",width:"300px"}},a&&s.a.createElement("div",null,s.a.createElement(qt,{style:{size:"small",color:"gold",shape:"pill",label:"checkout",layout:"horizontal",tagline:"true",commit:"true"},createOrder:function(t,a){return e.createOrder(t,a)},onApprove:function(t,a){return e.onApprove(t,a)}})),n&&s.a.createElement("div",{className:"main"},s.a.createElement("h2",{style:{color:"#4092c2"}},"Congrats!"," ",s.a.createElement("span",{role:"img","aria-label":"emoji"}," ","\ud83d\ude09"))))}}]),t}(s.a.Component),Jt=Wt()("http://www.paypal.com/sdk/js?client-id=".concat("sb","&currency=EUR"))(Ht),Gt=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(d.a)(t).call(this,e))).handleChange=function(e){a.setState(Object(_t.a)({},e.elementType,e.complete))},a.handleReady=function(){console.log("[ready]")},a.handleSubmit=function(e){var t,n,s,l;return le.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:if(e.preventDefault(),t=parseInt(a.props.location.state.price,10),a.props.location.state.currency,!(a.props.stripe&&a.state.cardNumber&&a.state.cardExpiry&&a.state.cardCvc)){c.next=20;break}if("None"!==a.props.location.state.price&&"0"!==a.props.location.state.price){c.next=8;break}ce.NotificationManager.error("Doctor did not set his price","Faild",3e3),c.next=20;break;case 8:return c.next=10,le.a.awrap(a.props.stripe.createPaymentMethod("card",{}));case 10:return n=c.sent,console.log(n.paymentMethod),c.next=14,le.a.awrap(fetch("http://healthcarebackend.xyz/api/charge/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({payment_method_id:n.paymentMethod.id,amount:t,currency:""})}));case 14:return s=c.sent,c.next=17,le.a.awrap(s.json());case 17:l=c.sent,console.log(l),"Payment completed"===l.message?(a.setState({complete:!0}),ce.NotificationManager.success("Checkout Completed","Successful!",2e3)):(ce.NotificationManager.error("Faild to Checkout","Faild!",2e3),console.log("Stripe.js hasn't loaded yet."));case 20:case"end":return c.stop()}}))},a.handleServerResponse=function(e){var t,n,s,l;return le.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:if(!e.error){c.next=3;break}c.next=23;break;case 3:if(!e.requires_action){c.next=22;break}return c.next=6,le.a.awrap(a.props.stripe.handleCardAction(e.payment_intent_client_secret));case 6:if(t=c.sent,n=t.error,s=t.paymentIntent,!n){c.next=12;break}c.next=20;break;case 12:return c.next=14,le.a.awrap(fetch("http://healthcarebackend.xyz/api/pay",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({payment_intent_id:s.id})}));case 14:return l=c.sent,c.t0=a,c.next=18,le.a.awrap(l.json());case 18:c.t1=c.sent,c.t0.handleServerResponse.call(c.t0,c.t1);case 20:c.next=23;break;case 22:ce.NotificationManager.success("Completed","Successful!",2e3);case 23:case"end":return c.stop()}}))},a.handleSelect=function(){a.setState({selectedCard:!0,selectedPal:!1})},a.handleSelectPal=function(){a.setState({selectedCard:!1,selectedPal:!0})},a.handleReady=function(e){a.setState({cardElement:e})},a.state={complete:!1,selectedCard:!0,selectedPal:!1,token:null,cardNumber:!1,cardCvc:!1,cardExpiry:!1},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){console.log(this.props.location.state.price);var e=function(e,t){return{style:{base:{fontSize:e,color:"#666666",letterSpacing:"0.025em","::placeholder":{color:"#666666",fontSize:"12px",fontWeight:700},padding:t},invalid:{color:"#9e2146"}}}};return this.state.complete?this.props.location.state.location?s.a.createElement(te.a,{to:this.props.location.state.location}):s.a.createElement(te.a,{to:"/dashboard-client"}):s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"header"},s.a.createElement("div",null,s.a.createElement(ne,null),s.a.createElement(ge,null))),s.a.createElement(ut,null),s.a.createElement("h1",{className:"mainTitle"},"Payment"),s.a.createElement("p",{className:"underTitle"},"Choose payment method below"),s.a.createElement("div",{className:"mainCardDiv"},s.a.createElement("div",{className:"payWay"},s.a.createElement("div",{className:"cardIcon",style:{background:this.state.selectedCard?"white":"transparent"},onClick:this.handleSelect},s.a.createElement(fe.a,{className:"icon"})),s.a.createElement("div",{className:"paypalIcon",style:{background:this.state.selectedPal?"white":"transparent"},onClick:this.handleSelectPal},s.a.createElement(fe.f,{className:"icon"}))),this.state.selectedCard?s.a.createElement("div",{className:"mainBillDiv"},s.a.createElement("div",{className:"billingInfo"},s.a.createElement("h1",null,"Billing Info"),s.a.createElement("label",{htmlFor:"fullName"},"Full Name",s.a.createElement("br",null),s.a.createElement("input",{id:"fullName",placeholder:"John Doe",type:"text"})),s.a.createElement("h1",{className:"totalPrice"},"Total:"," ",void 0===this.props.location.state?0:this.props.location.state.price?this.props.location.state.price:0," ",this.props.location.state.currency)),s.a.createElement("div",{className:"creditCardInfo"},s.a.createElement("h1",null,"Credit Card Info"),s.a.createElement("form",{onSubmit:this.handleSubmit},s.a.createElement("label",null,"Card Number",s.a.createElement(y.CardNumberElement,Object.assign({className:"CardElement",onChange:this.handleChange,onReady:this.handleReady},e(this.props.fontSize)))),s.a.createElement("label",null,"Expiration Date",s.a.createElement(y.CardExpiryElement,Object.assign({className:"CardElement",onChange:this.handleChange,onReady:this.handleReady},e(this.props.fontSize)))),s.a.createElement("label",null,"CVC",s.a.createElement(y.CardCVCElement,Object.assign({className:"CardElement cvc",onChange:this.handleChange,onReady:this.handleReady},e(this.props.fontSize)))),s.a.createElement("button",{className:"btn-checkout"}," Submit ")))):this.state.selectedPal?s.a.createElement("div",null,s.a.createElement(Jt,{amount:this.props.location.state?this.props.location.state.price:0})):null))}}]),t}(n.Component),Qt=Object(p.compose)(Object(h.b)((function(e){var t=e.getIn(["doctorReducer","doctor"]);return console.log(t),{doctor:t}})),y.injectStripe)(Gt),Zt=(a(328),a(95)),Kt=a.n(Zt),Xt=function(e){var t=e.doctor,a=e.handleSubmit,n=e.handleSelect,l=e.handleSelect2,c=e.handleSelect3,r=e.status,i=e.selectValue,o=e.props,d=e.handleChange,m=e.addAttach,u={control:function(){return{width:100,border:"2px solid #fa9551",borderRadius:"10px",height:"40px",fontWeight:500,display:"flex",background:"white",marginLeft:"20px"}},option:function(){return{height:"30px",alignSelf:"center",padding:"5px 0 0 0","&:hover":{background:"#fa9551"}}},placeholder:function(e,t){return Object(kt.a)({},e,{display:t.isFocused||t.isSelected||t.selectProps.inputValue||t.value?"none":"block"})}};return s.a.createElement(s.a.Fragment,null,t&&t.map((function(e){return s.a.createElement("div",{key:e.id,className:"mainDoctor"},s.a.createElement("div",{className:"newVideo"},s.a.createElement("img",{src:Kt.a,alt:"video img"}),s.a.createElement("p",null,"Doctor profile")),s.a.createElement("div",{className:"doctor"},s.a.createElement("div",{className:"doctor-p"},s.a.createElement("label",{htmlFor:"firstName"},"First Name"),s.a.createElement("input",{placeholder:e.user.first_name,id:"FirstName",onChange:d,type:"text"}),s.a.createElement("label",{htmlFor:"lastName"},"Last Name"),s.a.createElement("input",{placeholder:e.user.last_name,id:"LastName",onChange:d,type:"text"}),s.a.createElement("label",{htmlFor:"Phone"},"Phone number"),s.a.createElement("input",{placeholder:e.user.phone?e.user.phone:"11 22 33 44",onChange:d,id:"PhoneNum",type:"number"}),s.a.createElement("label",{htmlFor:"lastName"},"E-mail"),s.a.createElement("input",{placeholder:e.user.email,disabled:!0,id:"Email",onChange:d,type:"text"}),s.a.createElement("label",null,"Working Hours:"),s.a.createElement("div",{className:"workHoursDiv"},s.a.createElement("input",{type:"time",id:"TimeStart",value:o.TimeStart,onChange:d}),s.a.createElement("p",null,"-"),s.a.createElement("input",{type:"time",id:"TimeEnd",value:o.TimeEnd,onChange:d})),s.a.createElement("button",{onClick:a,className:"saveChanges"},"Save"))),s.a.createElement("div",{className:"form"},s.a.createElement("div",{className:"pricing"},s.a.createElement("p",null,"Pricing")),s.a.createElement("div",{className:"emailVisit"},s.a.createElement("label",{htmlFor:"EmailVisit"},"Email"),s.a.createElement("input",{type:"number",onChange:d,id:"EmailVisit",value:o.EmailVisit,placeholder:e.email_exam_price}),s.a.createElement(bt.a,{type:"text",className:"select-option",styles:u,value:i,options:r,placeholder:e.email_currency?e.email_currency:"USD",onChange:n})),s.a.createElement("div",{className:"videoVisit"},s.a.createElement("label",{htmlFor:"videoVisit"},"Video"),s.a.createElement("input",{type:"number",onChange:d,id:"VideoVisit",value:o.VideoVisit,placeholder:e.web_exam_price}),s.a.createElement(bt.a,{type:"text",className:"select-option",styles:u,value:i,options:r,placeholder:e.web_currency?e.web_currency:"USD",onChange:l})),s.a.createElement("div",{className:"videoFollowUp"},s.a.createElement("label",{htmlFor:"videoFollowUp"},"Video follow up"),s.a.createElement("input",{type:"number",onChange:d,id:"VideoFollowUp",value:o.VideoFollowUp,placeholder:e.web_exam_follow_price}),s.a.createElement(bt.a,{type:"text",className:"select-option",styles:u,value:i,options:r,placeholder:e.web_follow_up_currency?e.web_follow_up_currency:"USD",onChange:c})),s.a.createElement("div",{className:"allergies"},s.a.createElement("div",{className:"Nameing"},s.a.createElement("p",null," Biography"," "),s.a.createElement("p",{style:{marginRight:"47px"}},"Picture")),s.a.createElement("div",{className:"textAndProfile"},s.a.createElement("textarea",{type:"text",className:"address-input",onChange:d,id:"Biography",placeholder:e.biography}),s.a.createElement("div",{className:"profilePic"},s.a.createElement("div",{className:"upload-btn-wrapper"},s.a.createElement("button",{className:"btn"},"/media/default.jpg"!==e.image?s.a.createElement("img",{className:"docImage",src:"http://healthcarebackend.xyz".concat(e.image),alt:"#"}):s.a.createElement("p",null,"+")),s.a.createElement("input",{type:"file",name:"myfile",onChange:m})))))))})))},$t=[{value:"RSD",label:"RSD"},{value:"EUR",label:"EUR"},{value:"USD",label:"USD"}],ea=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(d.a)(t).call(this,e))).handleSelect=function(e){var t=e.value;a.setState({selectEmail:t})},a.handleSelect2=function(e){var t=e.value;a.setState({selectVideo:t})},a.handleSelect3=function(e){var t=e.value;a.setState({selectVideoFollow:t})},a.handleSubmit=function(e){var t,n,s,l;return le.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:if(e.preventDefault(),!(a.state.EmailVisit&&!a.state.selectEmail||a.state.VideoVisit&&!a.state.selectVideo||a.state.VideoFollowUp&&!a.state.selectVideoFollow)){c.next=5;break}ce.NotificationManager.error("Please enter currency","Failed!",2e3),c.next=29;break;case 5:return(t=new FormData).append("user.first_name",a.state.FirstName),t.append("user.last_name",a.state.LastName),t.append("user.phone",a.state.PhoneNum),t.append("biography",a.state.Biography),t.append("email_exam_price",a.state.EmailVisit),t.append("web_exam_price",a.state.VideoVisit),t.append("web_exam_follow_price",a.state.VideoFollowUp),t.append("image",a.state.attach),t.append("status",""),t.append("start_hour",a.state.TimeStart),t.append("end_hour",a.state.TimeEnd),t.append("email_currency",a.state.selectEmail),t.append("web_currency",a.state.selectVideo),t.append("web_follow_up_currency",a.state.selectVideoFollow),n="Bearer ".concat(a.state.token),"http://healthcarebackend.xyz/api/doctor/profile/",s=he.a.put("http://healthcarebackend.xyz/api/doctor/profile/",t,{headers:{"content-type":"multipart/form-data",Authorization:n}}),console.log("submiting"),c.next=26,le.a.awrap(s);case 26:l=c.sent,console.log(l,"profile changed"),l.data.success&&(ce.NotificationManager.success("Profile Updated!","Successful!",2e3),a.handleDoctorProfile(),window.location.reload());case 29:case"end":return c.stop()}}))},a.handleDoctorProfile=function(){var e;return le.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:e="Bearer ".concat(a.state.token),he.a.get("http://healthcarebackend.xyz/api/doctor/profile/",{headers:{Authorization:e}}).then((function(e){console.log(e,"doc profileee");var t=e.data.data.email_currency?e.data.data.email_currency:"USD",n=e.data.data.web_currency?e.data.data.web_currency:"USD",s=e.data.data.web_follow_up_currency?e.data.data.web_follow_up_currency:"USD",l=e.data.data.start_hour?e.data.data.start_hour.slice(0,-3):"",c=e.data.data.end_hour?e.data.data.end_hour.slice(0,-3):"";a.setState({doctor:[e.data.data],currentStatus:e.data.data.status,TimeStart:l,TimeEnd:c,selectEmail:t,selectVideo:n,selectVideoFollow:s})}));case 2:case"end":return t.stop()}}))},a.handleChange=function(e){a.setState(Object(_t.a)({},e.target.id,e.target.value))},a.addAttach=function(e){a.setState({attach:e.target.files[0]}),document.querySelector(".docImage").src=URL.createObjectURL(e.target.files[0])},a.state={doctor:[],selectEmail:"",selectVideo:"",selectVideoFollow:"",token:sessionStorage.getItem("accessToken"),FirstName:"",LastName:"",PhoneNum:"",TimeStart:"",TimeEnd:"",EmailVisit:"",VideoVisit:"",VideoFollowUp:"",Biography:"",attach:"",currentStatus:"",Email:""},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.handleDoctorProfile()}},{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"header"},s.a.createElement("div",null,s.a.createElement(ne,null),s.a.createElement(ge,null))),s.a.createElement(mt,null),s.a.createElement(Xt,{status:$t,doctor:this.state.doctor,handleSubmit:this.handleSubmit,handleSelect:this.handleSelect,handleSelect2:this.handleSelect2,handleSelect3:this.handleSelect3,props:this.state,handleChange:this.handleChange,addAttach:this.addAttach}))}}]),t}(n.Component),ta=function(e){var t=e.doctor;return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"header"},s.a.createElement("div",null,s.a.createElement(ne,null),s.a.createElement(ge,null))),t&&t.map((function(e){return s.a.createElement("div",{key:e.id,className:"doctor",style:{height:"180px",margin:"30px 0 0 0"}},s.a.createElement("div",{className:"rounded-pill"},s.a.createElement("div",null,s.a.createElement("p",null,"Doctor: ",e.doctor),s.a.createElement("p",null,"Speciality: ",e.speciality),s.a.createElement("p",null,"NPI: ",e.npi_number),s.a.createElement("p",null,"Prefix: ",e.prefix),s.a.createElement("p",null,"Description: ",e.description),s.a.createElement("p",null,"Price: ",e.email_exam_price))))})))},aa=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(d.a)(t).call(this,e))).hanldeDoctorsProfile=function(){var e="Bearer ".concat(a.state.token);he.a.get("http://healthcarebackend.xyz/api/client/doc/".concat(a.state.id,"/"),{headers:{Authorization:e}}).then((function(e){return console.log(e,"doc profile"),a.setState({doctor:[e.data.data]})}))},a.state={doctor:[],token:sessionStorage.getItem("accessToken"),id:a.props.match.params.id},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.hanldeDoctorsProfile()}},{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement(ta,{doctor:this.state.doctor}))}}]),t}(n.Component),na=(a(329),a(81)),sa=a.n(na),la=function(e){var t=e.client,a=e.handleSubmit,n=e.handleGenderRadio,l=e.props,c=e.attachInput,r=e.handleChange;return s.a.createElement(s.a.Fragment,null,t&&t.map((function(e){return s.a.createElement("div",{key:e.id,className:"mainClien"},s.a.createElement("div",{className:"newVideo"},s.a.createElement("img",{src:sa.a,alt:"video img"}),s.a.createElement("p",null,"My profile")),s.a.createElement("div",{className:"client"},s.a.createElement("div",{className:"client-p"},s.a.createElement("label",{htmlFor:"firstName"},"First Name"),s.a.createElement("input",{placeholder:e.user.first_name,id:"FirstName",onChange:r,type:"text"}),s.a.createElement("label",{htmlFor:"lastName"},"Last Name"),s.a.createElement("input",{placeholder:e.user.last_name,id:"LastName",onChange:r,type:"text"}),s.a.createElement("label",{htmlFor:"address"},"Address"),s.a.createElement("input",{placeholder:e.address,onChange:r,id:"Address",type:"text"}),s.a.createElement("label",{htmlFor:"address"},"E-mail"),s.a.createElement("input",{placeholder:e.user.email,disabled:!0,onChange:r,id:"Email",type:"text"}),s.a.createElement("label",{htmlFor:"Phone"},"Phone number"),s.a.createElement("input",{placeholder:e.user.phone?e.user.phone:"11 22 33 44",onChange:r,id:"PhoneNum",type:"number"}),s.a.createElement("label",{htmlFor:"birth"},"Date of birth"),s.a.createElement("input",{placeholder:e.birth_date,onChange:r,id:"BirthDate",type:"text"}),s.a.createElement("button",{onClick:a,className:"saveChanges"},"Save"))),s.a.createElement("div",{className:"form"},s.a.createElement("div",{className:"conditions"},"Chronical conditions:"," ",s.a.createElement("textarea",{type:"text",className:"address-input",onChange:r,id:"ChronicalConditions"})),s.a.createElement("div",{className:"allergies"},"Allergies:"," ",s.a.createElement("textarea",{style:{height:e.image?"138px":"178px"},type:"text",className:"address-input",onChange:r,id:"Allergies"})),s.a.createElement("div",{className:"checkboxDiv"},s.a.createElement("div",{className:"check"},s.a.createElement("input",{type:"checkbox",name:"Male",id:"Male",checked:"M"===l.gender&&!0,onChange:function(){return n("M")}}),s.a.createElement("label",{className:"Male",value:"Male",htmlFor:"Male"},"Male"),s.a.createElement("input",{type:"checkbox",value:"Female",checked:"F"===l.gender&&!0,name:"Female",id:"Female",onChange:function(){return n("F")}}),s.a.createElement("label",{htmlFor:"Female"},"Female")),s.a.createElement("div",{className:"profilePic"},s.a.createElement("p",null,"Picture"),s.a.createElement("div",{className:"upload-btn-wrapper"},s.a.createElement("button",{className:"btn"},"/media/default.jpg"!==e.image?s.a.createElement("img",{className:"docImage",src:"http://healthcarebackend.xyz".concat(e.image),alt:"#"}):s.a.createElement("p",null,"+")),s.a.createElement("input",{type:"file",name:"myfile",onChange:c}))))))})))},ca=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(d.a)(t).call(this,e))).handleSubmit=function(e){var t,n,s,l;return le.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return e.preventDefault(),(t=new FormData).append("user.first_name",a.state.FirstName),t.append("user.last_name",a.state.LastName),t.append("gender",a.state.gender),t.append("address",a.state.Address),t.append("birth_date",a.state.BirthDate),t.append("image",a.state.attach),t.append("user.phone",a.state.PhoneNum),n="Bearer ".concat(a.state.token),"http://healthcarebackend.xyz/api/client/profile/",s=he.a.put("http://healthcarebackend.xyz/api/client/profile/",t,{headers:{"content-type":"multipart/form-data",Authorization:n}}),console.log("submiting"),c.next=15,le.a.awrap(s);case 15:l=c.sent,console.log(l,"profile changed"),l.data.success&&(ce.NotificationManager.success("Profile Updated!","Successful!",2e3),a.handleClientProfile());case 18:case"end":return c.stop()}}))},a.handleClientProfile=function(){var e;return le.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:e="Bearer ".concat(a.state.token),he.a.get("http://healthcarebackend.xyz/api/client/profile/",{headers:{Authorization:e}}).then((function(e){return console.log(e.data.data,"profile"),a.setState({client:[e.data.data],gender:e.data.data.gender,BirthDate:e.data.data.birth_date})}));case 2:case"end":return t.stop()}}))},a.handleGenderRadio=function(e){a.setState({gender:e})},a.handleChange=function(e){a.setState(Object(_t.a)({},e.target.id,e.target.value))},a.attachInput=function(e){a.setState({attach:e.target.files[0]}),document.querySelector(".cliImage").src=URL.createObjectURL(e.target.files[0])},a.state={client:[],records:[],token:sessionStorage.getItem("accessToken"),gender:"",FirstName:"",LastName:"",Address:"",PhoneNum:"",BirthDate:"",ChronicalConditions:"",Allergies:"",attach:"",Email:""},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.handleClientProfile()}},{key:"render",value:function(){return console.log(this.state.records),s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"header"},s.a.createElement("div",null,s.a.createElement(ne,null),s.a.createElement(ge,null))),s.a.createElement(mt,null),s.a.createElement(la,{client:this.state.client,handleSubmit:this.handleSubmit,handleGenderRadio:this.handleGenderRadio,props:this.state,handleChange:this.handleChange,attachInput:this.attachInput}))}}]),t}(n.Component),ra=a(52),ia=a.n(ra),oa=function(e){var t=e.exam,a=e.handleStatus,l=e.statusValue,c=e.props,r=e.declineReason,i=e.saveReason,o=e.handleJoinRoom,d=0!==c.exam.length?new Date(c.exam[0].appointed_date):null,m=(Le()(new Date).format("YYYY-MM-DD HH:mm")>Le()(d).subtract(15,"minutes").format("YYYY-MM-DD HH:mm")&&(Le()(new Date).format("YYYY-MM-DD HH:mm"),Le()(d).add(30,"minutes").format("YYYY-MM-DD HH:mm")),{control:function(){return{width:200,border:"2px solid #fa9551",borderRadius:"10px",height:"40px",fontWeight:600,display:"flex"}}});return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"header"},s.a.createElement("div",null,s.a.createElement(ne,null),s.a.createElement(ge,null))),s.a.createElement(mt,null),t.map((function(e){var t="Appointed"===e.status?"Accepted":e.status,d="Appointed"!==e.status?[{value:"Accept",label:"Accept"},{value:"Decline",label:"Decline"}]:[{value:"Finish",label:"Finish"}];return s.a.createElement(n.Fragment,{key:e.id},s.a.createElement("div",{className:"detail_exam"},s.a.createElement("div",{className:"iconVideo"},s.a.createElement("img",{src:ia.a,alt:"email"}),s.a.createElement("p",null,"Video details")," "),s.a.createElement("div",{className:"detail"},s.a.createElement("p",null,s.a.createElement("span",null,"Client:")," ",e.client),s.a.createElement("p",null,s.a.createElement("span",null,"Created:")," ",Le()(e.created).format("MM/DD/YYYY HH:mm")),s.a.createElement("p",null,s.a.createElement("span",null,"Appointed"===e.status?"Appointed date:":"Appoint date")," ",Le()(e.appointed_date).format("MM/DD/YYYY HH:mm")),s.a.createElement("p",null,s.a.createElement("span",null,"Type:")," ",e.exam_type),"Canceled"===e.status||"Finished"===e.status||"Declined"===e.status?s.a.createElement("p",null,s.a.createElement("span",null,"Status:")," ",e.status):s.a.createElement("div",{className:"divSelectButton",style:{display:"flex"}},s.a.createElement(bt.a,{type:"text",placeholder:t,styles:m,className:"select-option",value:l,options:d,onChange:a})),"Appointed"===e.status&&s.a.createElement("div",{className:"message-btn"},s.a.createElement("button",{className:"message-link",onClick:o},"Join now"))),s.a.createElement("div",{className:"mainMessageDiv"},s.a.createElement("div",{className:"subjectDiv"},s.a.createElement("p",null,s.a.createElement("span",null,"Subject:")," ",e.subject),s.a.createElement("p",null,s.a.createElement("span",null,Le()(e.appointed_date).format("MM/DD/YYYY"))," ",Le()(e.appointed_date).format(" HH:mm"))),s.a.createElement("div",{className:"messageDiv"},s.a.createElement("textarea",{defaultValue:e.notes,disabled:!0})),s.a.createElement("div",{className:"reportIfDeclined",style:{display:"Declined"===e.status?"block":"Decline"!==c.selectedStatus?"none":"block"}},s.a.createElement("div",{className:"subjectDiv"},s.a.createElement("p",null,s.a.createElement("span",null,"Decline reason:"))),s.a.createElement("div",{className:"messageDivReport"},s.a.createElement("textarea",{name:"text",disabled:"Declined"===e.status&&!0,placeholder:e.decline_notes?e.decline_notes:"text",value:c.declineReason,onChange:r,id:"textarea"}),s.a.createElement("button",{style:{display:"Declined"===e.status&&"none"},onClick:i},"Save"))))))})))},da=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(d.a)(t).call(this,e))).detail=function(e){var t;return le.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t="Bearer ".concat(a.state.token),n.next=3,le.a.awrap(he.a.get("http://healthcarebackend.xyz/api/web/doctor/".concat(e,"/"),{headers:{Authorization:t}}).then((function(e){console.log(e.data.data),a.setState({exam:a.state.exam.concat(e.data.data)})})));case 3:case"end":return n.stop()}}))},a.handleSubmit=function(e){"Decline"!==e&&a.doctorExam(e)},a.handleStatus=function(e){a.setState({statusValue:e});var t=e.value;console.log(t),a.setState({selectedStatus:t}),a.handleSubmit(t)},a.doctorExam=function(e){var t,n,s;return le.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:return t="Bearer ".concat(a.state.token),console.log(e),l.next=4,le.a.awrap(fetch("http://healthcarebackend.xyz/api/web/doctor/".concat(a.state.id,"/"),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:t},body:JSON.stringify({status:e,decline_notes:a.state.declineReason})}));case 4:return n=l.sent,l.next=7,le.a.awrap(n.json());case 7:return s=l.sent,console.log(s),!0===s.success&&("Declined"!==s.data.status?a.props.history.push("/dashboard-doctor"):(ce.NotificationManager.success("Decline reason sent","Successful!",2e3),window.location.reload())),l.abrupt("return",s);case 11:case"end":return l.stop()}}))},a.declineReason=function(e){a.setState({declineReason:e.target.value})},a.saveReason=function(){a.doctorExam(a.state.selectedStatus)},a.handleJoinRoom=function(){window.open("/room/".concat(a.props.match.params.id))},a.state={exam:[],statusValue:"",selectedStatus:"",token:sessionStorage.getItem("accessToken"),id:"",value:"",declineReason:""},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"UNSAFE_componentWillMount",value:function(){}},{key:"componentWillUnmount",value:function(){}},{key:"componentDidMount",value:function(){var e=this.props.match.params.id;this.setState({id:e}),this.detail(e)}},{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement(oa,{exam:this.state.exam,handleStatus:this.handleStatus,submitValue:this.state.submitValue,handleSubmit:this.handleSubmit,props:this.state,declineReason:this.declineReason,saveReason:this.saveReason,handleJoinRoom:this.handleJoinRoom}))}}]),t}(n.Component),ma=(a(330),a(126)),ua=a.n(ma),pa=a(127),ha=a.n(pa),ga=a(128),fa=a.n(ga),Ea=a(129),va=a.n(Ea),ba=a(130),ya=a.n(ba),xa=a(131),Na=a.n(xa),Sa=function(e){e.handleConnect;var t=e.handleVideoStart,a=e.props,l=e.handleChange,c=e.handleStatus,r=e.enableTipeing,i=(e.iconsMouseOut,e.iconsMouseOver,e.handleDragDrop,e.handleResize,e.showAndHideChat,e.handleDivSize,e.cutVideo),o=e.cutMic,d=e.showExtendScreenIcon,m=e.extendScr,u={control:function(){return{width:200,border:"2px solid #fa9551",borderRadius:"10px",height:"40px",fontWeight:600,display:"flex"}}};return s.a.createElement(s.a.Fragment,null,a.exam.map((function(e){var p=!a.connected||"Accepted"!==e.exam.status,h="In the queue"===e.exam.status?"Pending":a.clientStatus,g="Accepted"!==e.exam.status?[{value:"Accept",label:"Accept"},{value:"Decline",label:"Decline"}]:[{value:"Finish",label:"Finish"}];return s.a.createElement(n.Fragment,{key:e.exam.id},s.a.createElement("div",{className:"detailExam",style:{display:a.startVideo?"none":"block"}},s.a.createElement("div",{className:"iconVideoo"},s.a.createElement("img",{src:ke.a,alt:"email"}),s.a.createElement("p",null,"Waiting room details")," "),s.a.createElement("div",{className:"detail"},s.a.createElement("div",{className:"detailInfo"},s.a.createElement("p",{className:"ClientP"},s.a.createElement("span",null,"Client:")," ",e.exam.client),s.a.createElement("p",null,s.a.createElement("span",null,"Appointed"===e.exam.status||"Finished"===e.exam.status?"Appointed: ":"Appoint: "),Le()(e.exam.appointed_date).format("MM/DD/YYYY HH:mm")),s.a.createElement("p",{className:"TypeP"},s.a.createElement("span",null,"Type:")," ",e.exam.exam_type),"Canceled"===e.exam.status||"Finished"===e.exam.status||"Declined"===e.exam.status?s.a.createElement("p",null,s.a.createElement("span",null,"Status:")," ",e.exam.status):s.a.createElement("div",{className:"divSelectButton"},s.a.createElement(bt.a,{type:"text",placeholder:h,className:"select-option",value:a.statusValue,styles:u,options:g,onChange:c,isDisabled:"Accepted"!==e.exam.status&&"In the queue"!==e.exam.status}))),s.a.createElement("div",{className:"mainMessageDiv"},s.a.createElement("div",{className:"subjectDiv"},s.a.createElement("p",null,s.a.createElement("span",null,"Subject:")," ",e.exam.subject),s.a.createElement("p",null,s.a.createElement("span",null,Le()(e.exam.created).format("MM/DD/YYYY"))," ")),s.a.createElement("div",{className:"messageDiv"},s.a.createElement("textarea",{defaultValue:e.exam.notes,disabled:!0})))),s.a.createElement("div",{className:"message-btn"},"Accepted"!==e.exam.status||a.connectedall||a.connected?"Canceled"===e.exam.status&&s.a.createElement("h3",{style:{color:"#666666"}},"Reject-Connection"):s.a.createElement("h3",{style:{color:"#666666"}},"Connecting..."),s.a.createElement("button",{id:"DoctorStartVideo",type:"submit",className:"btn",onClick:t,disabled:p},"Start Video"))),s.a.createElement("div",{className:"detailExam",style:{display:a.startVideo?"block":"none",padding:0}},s.a.createElement("div",{className:"iconVideoo"},s.a.createElement("img",{src:ia.a,alt:"email"}),s.a.createElement("p",null,"Video call")," "),s.a.createElement("div",{className:"detail2"},s.a.createElement("div",{className:"detailInfo2",id:"detailInfo2"},s.a.createElement("p",{className:"ClientP"},s.a.createElement("span",null,"Client:")," ",e.exam.client),s.a.createElement("div",{className:"MainIconsDiv"},s.a.createElement("img",{src:ua.a,className:"iconMic",alt:"img",style:{display:a.audio?"block":"none"},onClick:o}),s.a.createElement("img",{src:ha.a,className:"iconMicUnmute",alt:"img",style:{display:a.audio?"none":"block"},onClick:o}),s.a.createElement("img",{src:fa.a,alt:"img",className:"iconPhone"}),s.a.createElement("img",{src:va.a,className:"iconVideo",alt:"img",style:{display:a.video?"block":"none"},onClick:i}),s.a.createElement("img",{src:ya.a,alt:"img",className:"iconVideoShow",style:{display:a.video?"none":"block"},onClick:i})),s.a.createElement("div",{className:"MainDivForChat"},s.a.createElement("p",null,"Chat"),s.a.createElement("form",{autoComplete:"off",action:"",id:"form"},s.a.createElement("pre",{id:"messages"}),s.a.createElement("div",{className:"inputMessage"},s.a.createElement("input",{type:"text",placeholder:"Type a message",id:"yourMessage",value:a.value,onChange:l,onMouseDown:r}),s.a.createElement("button",{style:{display:"hidden"},id:"send"},"Send"))))),s.a.createElement("div",{id:"videoChat",onMouseEnter:d,onMouseLeave:d},s.a.createElement("img",{src:Na.a,onClick:m,style:{display:!a.showExtendScreen&&"none"},className:"extendScreen",alt:"screen icon"})))))})))},Ca=new WebSocket("ws://healthcarebackend.xyz/ws/video/"),wa=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(o.a)(this,Object(d.a)(t).call(this,e))).detail=function(e){var t="Bearer ".concat(n.state.token);he.a.get("http://healthcarebackend.xyz/api/queue/detail/".concat(e,"/"),{headers:{Authorization:t}}).then((function(e){console.log(e),n.setState({exam:[e.data.data],clientStatus:e.data.data.exam.status})})).catch((function(e){e.response&&"Bad request"===e.response.data.message?n.props.history.push("/dashboard-doctor"):console.log(e.response)}))},n.handleConnect=function(){n.testwebsocket(),navigator.mediaDevices.getUserMedia({video:!0,audio:!1}).then((function(e){var t=document.createElement("video");t.id="myVid",document.getElementById("detailInfo2").appendChild(t),t.srcObject=e,t.play()}))},n.handleVideoStart=function(e){e.preventDefault(),n.setState({startVideo:!0}),Ca.send(JSON.stringify("doctor is started video"))},n.testwebsocket=function(){return navigator.webkitGetUserMedia({video:n.state.video,audio:n.state.audio},(function(e){var t=new(a(90))({initiator:"#init"===window.location.hash,trickle:!1,stream:e});t.on("signal",(function(e){var t=JSON.stringify(e);n.setState({doctorsVideoId:t}),Ca.send(n.state.doctorsVideoId),Ca.send(null)})),document.getElementById("DoctorStartVideo")&&document.getElementById("DoctorStartVideo").addEventListener("click",(function(){null!==n.state.clientsVideoId&&(t.signal(n.state.clientsVideoId),document.getElementById("myVid").style.cssText="position: absolute; left: 10px; bottom: 9px; height: 170px; width: 320px;")})),document.getElementById("send").addEventListener("click",(function(){var e=document.getElementById("yourMessage").value;t.send(e)})),Ca.onclose=function(){console.error("disconnected"),n.props.history.push("/dashboard-doctor"),window.location.reload()},Ca.onerror=function(e){console.error("failed to connect",e)},document.querySelector("form").addEventListener("submit",(function(e){e.preventDefault();var t=document.querySelector("#yourMessage").value;Ca.send(t),document.getElementById("messages").innerHTML+="<p style='color: #666666  ;margin: 5px auto 5px 0;display: table; white-space: initial ; background: #e6e6e6; border-radius: 10px'><span>Doctor:</span>".concat(t,"</p>"),n.setState({value:""});var a=document.getElementById("messages");a.scrollTop=a.scrollHeight})),t.on("data",(function(e){document.getElementById("messages").innerHTML+="<p style='color: #666666 ; margin: 5px 0 5px auto; background: #e6e6e6 ;display: table; white-space: initial; border-radius: 10px'><span>Client:</span>".concat(e,"</p>");var t=document.getElementById("messages");t.scrollTop=t.scrollHeight}));var s=e.getAudioTracks()[0],l=e.getVideoTracks()[0];document.querySelector(".iconMic").addEventListener("click",(function(){s.enabled=!s.enabled})),document.querySelector(".iconVideo").addEventListener("click",(function(){l.enabled=!l.enabled})),document.querySelector(".iconMicUnmute").addEventListener("click",(function(){s.enabled=!s.enabled})),document.querySelector(".iconVideoShow").addEventListener("click",(function(){l.enabled=!l.enabled})),t.on("stream",(function(e){var t=new MediaStream(e),a=document.createElement("video");a.classList.add("vid"),document.getElementById("videoChat").appendChild(a),a.srcObject=t,a.play()})),t.on("close",(function(){n.handleDivClose(),window.location.reload()})),document.querySelector(".iconPhone").addEventListener("click",(function(){Ca.send(JSON.stringify("Cancel Video From Doctor")),window.location.reload(),n.handleDivClose()}))}),(function(e){console.error(e)}))},n.handleChange=function(e){n.setState({value:e.target.value})},n.enableTipeing=function(e){e.stopPropagation()},n.iconsMouseOver=function(){n.setState({hover:!0})},n.iconsMouseOut=function(){n.setState({hover:!1})},n.handleDragDrop=function(e){n.setState({x:e.x,y:e.y})},n.handleResize=function(e,t){var a=document.getElementById("videoo");n.setState(Object(kt.a)({width:a.style.width,height:a.style.height},e))},n.showAndHideChat=function(){n.setState({showChat:!n.state.showChat})},n.handleDivSize=function(){n.setState({width:window.screen.width,height:window.screen.height,x:0,y:0}),document.fullscreenElement?document.exitFullscreen&&(document.exitFullscreen(),n.setState({width:700,height:500})):document.documentElement.requestFullscreen()},n.handleDivClose=function(){n.setState({startVideo:!1})},n.cutMic=function(){n.setState({audio:!n.state.audio})},n.cutVideo=function(){n.setState({video:!n.state.video})},n.statusSelecting=function(e){var t,a,s;return le.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:return t="Bearer ".concat(n.state.token),l.next=3,le.a.awrap(fetch("http://healthcarebackend.xyz/api/queue/detail/".concat(n.props.match.params.id,"/"),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:t},body:JSON.stringify({status:e})}));case 3:return a=l.sent,l.next=6,le.a.awrap(a.json());case 6:return s=l.sent,console.log(s),!0===s.success&&(n.detail(n.props.match.params.id),"Accepted"===s.data.exam.status&&n.state.connectedall&&n.handleConnect(),"Declined"===s.data.exam.status&&n.props.history.push("/dashboard-doctor"),Ca.send(JSON.stringify({id:n.props.match.params.id,status:s.data.exam.status}))),l.abrupt("return",s);case 10:case"end":return l.stop()}}))},n.connectedAll=function(){n.setState({connectedall:!0}),"Accepted"===n.state.clientStatus&&n.handleConnect()},n.handleStatus=function(e){n.setState({statusValue:e});var t=e.value,a=e.label;console.log(t,a),n.setState({selectedStatus:t}),n.statusSelecting(t)},n.showExtendScreenIcon=function(){n.setState({showExtendScreen:!n.state.showExtendScreen})},n.extendScr=function(){n.setState({extended:!n.state.extended})},n.state={exam:[],token:sessionStorage.getItem("accessToken"),connected:!1,doctorsVideoId:"",clientsVideoId:"null",startVideo:!1,value:"",width:700,height:500,x:0,y:0,hover:!1,showChat:!1,video:!0,audio:!0,connectedall:!1,selectedStatus:"",connection:"",clientStatus:"",showExtendScreen:!1,extended:!1},n}return Object(m.a)(t,e),Object(i.a)(t,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.statusChanged===parseInt(this.props.match.params.id)&&this.detail(this.props.match.params.id)}},{key:"componentWillUnmount",value:function(){Ca.close()}},{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.id,a=setInterval((function(){e.state.connection||"Accepted"!==e.state.clientStatus||window.location.reload(),clearInterval(a)}),15e3);this.detail(t),Ca.onopen=function(){console.log("connected"),e.setState({connection:Ca}),Ca.send(JSON.stringify({id:t,connectedDoctor:!0}))},Ca.onmessage=function(a){var n=JSON.parse(a.data);console.log(n,"testonja"),console.log("received doctor",a.data),null!==JSON.parse(n.text)&&JSON.parse(n.text).startingVideo?e.setState({connected:!0}):JSON.parse(n.text)&&(JSON.parse(n.text).id===parseInt(t)&&JSON.parse(n.text).connectedClient?e.connectedAll():"Cancel Video From Client"===JSON.parse(n.text)&&(e.handleDivClose(),window.location.reload())),e.setState({clientsVideoId:n.text})}}},{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"header"},s.a.createElement("div",null,s.a.createElement(ne,null),s.a.createElement(ge,null))),s.a.createElement(ut,null),s.a.createElement(Sa,{handleStatus:this.handleStatus,handleConnect:this.handleConnect,handleVideoStart:this.handleVideoStart,handleChange:this.handleChange,enableTipeing:this.enableTipeing,iconsMouseOut:this.iconsMouseOut,iconsMouseOver:this.iconsMouseOver,handleDragDrop:this.handleDragDrop,handleResize:this.handleResize,showAndHideChat:this.showAndHideChat,handleDivSize:this.handleDivSize,cutMic:this.cutMic,cutVideo:this.cutVideo,props:this.state,showExtendScreenIcon:this.showExtendScreenIcon,extendScr:this.extendScr}))}}]),t}(n.Component),ka=Object(h.b)((function(e){return{statusChanged:e.getIn(["doctorStatusWRReducer","statusChanged"])}}))(wa),Oa=(a(353),function(e){var t=e.props,a=e.record,n=e.handleClick,l=(e.handleUpcoming,e.handlePast,e.handleAll,e.handleClickLeft,e.handleClickRight,e.loading),c=(e.handleClientSearch,e.searchByType),r=(e.searchByName,e.ResetonSelectChange),i=e.handlePageChange;return s.a.createElement(s.a.Fragment,null,a&&a.map((function(e){console.log(e);var t=e.client.split(" ");return s.a.createElement("div",{key:e.id,className:"mainClien"},s.a.createElement("div",{className:"newVideo"},s.a.createElement("img",{src:sa.a,alt:"video img"}),s.a.createElement("p",null,"Client details ")),s.a.createElement("div",{className:"client"},s.a.createElement("div",{className:"client-p"},s.a.createElement("p",null,s.a.createElement("span",null,"First Name:")," ",t[0]),s.a.createElement("p",null,s.a.createElement("span",null,"Last Name:")," ",t[1]),s.a.createElement("p",null,s.a.createElement("span",null,"Address:")," ",e.address),s.a.createElement("p",null,s.a.createElement("span",null,"E-mail:")," ",e.email),s.a.createElement("p",null,s.a.createElement("span",null,"Phone number:")," ",e.phone),s.a.createElement("p",null,s.a.createElement("span",null,"Date of birth:")," ",e.birth_date),s.a.createElement("p",null,s.a.createElement("span",null,"M"===e.gender?"Male":"Female")))),s.a.createElement("div",{className:"form"},s.a.createElement("div",{className:"conditions"},"Chronical conditions:"," ",s.a.createElement("p",null,e.medical_conditions)),s.a.createElement("div",{className:"allergies"},"Allergies:"," ",s.a.createElement("p",null,e.allergies))))})),l?s.a.createElement("img",{src:T.a,className:"loading",alt:"loading...",style:{width:"150px"}}):s.a.createElement("div",{className:"mainTabelRecord"},s.a.createElement("div",{className:"mainConsultation"},s.a.createElement("div",{className:"icon_left"},s.a.createElement("p",null,"Consultations"))),s.a.createElement("table",{className:"table2"},s.a.createElement("thead",{className:"client-head"},s.a.createElement("tr",{className:"client-row"},s.a.createElement("th",{className:"client-subject"},"Subject"),s.a.createElement("th",{className:"client-type",style:{padding:t.searchClient&&"0 0 30px 0"}},s.a.createElement("div",{className:"mainExamDiv"},s.a.createElement("select",{type:"text",placeholder:"",onClick:r,onChange:c,value:t.searchType},s.a.createElement("option",{value:""},"Type"),s.a.createElement("option",{value:"mail"},"Email"),s.a.createElement("option",{value:"video"},"Video"),s.a.createElement("option",{value:"queue"},"Waiting room")))),s.a.createElement("th",{className:"client-date"},"Date"),s.a.createElement("th",{className:"client-status",style:{padding:t.searchClient&&"0 0 30px 0"}},"Status"))),""===t.messageIfEmpty&&t.paginatedExams.map((function(e,t){return s.a.createElement("tbody",{key:t,className:"client-body"},s.a.createElement("tr",{className:"list-group",style:{fontWeight:e.isRead&&700},onClick:function(){return n(e.id,e.exam_type)}},s.a.createElement("td",{className:"client-subject"},e.subject),s.a.createElement("td",{className:"client-subject"},e.exam_type),s.a.createElement("td",{className:"created"},e.created&&!e.appointed_date?s.a.createElement("p",null," ",Le()(e.created).format("MM/DD/YYYY")):e.appointed_date?s.a.createElement("p",null," ",Le()(e.appointed_date).format("MM/DD/YYYY HH:mm")):null),s.a.createElement("td",{className:"client-status"},"Pending"===e.status||"In the queue"===e.status?s.a.createElement("img",{src:ke.a,alt:"clockIcon",className:"pendi"}):"Declined"===e.status||"Canceled"===e.status?s.a.createElement("img",{src:De.a,alt:"declined",className:"declined"}):"Finished"===e.status?s.a.createElement(Ne.a,{className:"finished"}):s.a.createElement("img",{src:Ce.a,alt:"ckeck",className:"check"}),s.a.createElement("h5",{className:"status"},e.status))))}))),""!==t.messageIfEmpty&&s.a.createElement("div",{className:"NoResultDiv"},t.messageIfEmpty)),s.a.createElement("div",{className:"pagi"},s.a.createElement(We.a,{activePage:t.page,itemsCountPerPage:5,totalItemsCount:0===t.searchedUpcomingOrPast.length?t.exams.length:t.searchedUpcomingOrPast.length,pageRangeDisplayed:10,onChange:i})))}),Da=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(d.a)(t).call(this,e))).record=function(){var e="Bearer ".concat(a.state.token);he.a.get("http://healthcarebackend.xyz/api/doctor/record/".concat(a.state.id,"/"),{headers:{Authorization:e}}).then((function(e){return console.log(e,"nzm ni ja sta"),a.handleAll(),a.setState({record:[e.data.data]})}))},a.clientsExams=function(){var e="Bearer ".concat(a.state.token);he.a.get("http://healthcarebackend.xyz/api/exams/client/".concat(a.state.id,"/list/"),{headers:{Authorization:e}}).then((function(e){console.log(e,"podaciiii");var t=e.data.data.mail.concat(e.data.data.queue,e.data.data.video);return a.setState({exams:t})})).then((function(){a.handleAll()}))},a.handleAll=function(){var e=setInterval((function(){var t=a.state.exams,n=t.sort((function(e,t){return Date.parse(t.created)-Date.parse(e.created)})),s=0===t.length?"No consultations":"";a.setState({upcomingOrPast:n,page:1,messageIfEmpty:s,currentFilterClicked:"all",searchedUpcomingOrPast:[],filterFiltered:[],searchType:"",searchName:""}),a.paginate(1),clearInterval(e)}),10)},a.searchByName=function(e){if(""===e.target.value&&""===a.state.searchType)a.setState({filterFiltered:[]});else if(""===e.target.value&&""!==a.state.searchName){a.setState({filterFiltered:[]});var t=setInterval((function(){a.handlingSearchByType(),clearInterval(t)}),10)}a.setState({searchName:e.target.value});var n=setInterval((function(){a.handlingSearchByName(),clearInterval(n)}),10)},a.handlingSearchByName=function(){var e=a.state.searchName.toLowerCase().split(" "),t=0===a.state.filterFiltered.length?a.state.upcomingOrPast.filter((function(t){var a=t.client.split(" ");if(e[1]){if(a[0].toLowerCase().indexOf(e[0])===e[0].indexOf(e[0])&&a[1].toLowerCase().indexOf(e[1])===e[1].indexOf(e[1])||a[0].toLowerCase().indexOf(e[1])===e[1].indexOf(e[1])&&a[1].toLowerCase().indexOf(e[0])===e[0].indexOf(e[0]))return t}else if(a[0].toLowerCase().indexOf(e[0])===e[0].indexOf(e[0])||a[1].toLowerCase().indexOf(e[0])===e[0].indexOf(e[0]))return t;return null})):a.state.filterFiltered.filter((function(t){var a=t.client.split(" ");if(e[1]){if(a[0].toLowerCase().indexOf(e[0])===e[0].indexOf(e[0])&&a[1].toLowerCase().indexOf(e[1])===e[1].indexOf(e[1])||a[0].toLowerCase().indexOf(e[1])===e[1].indexOf(e[1])&&a[1].toLowerCase().indexOf(e[0])===e[0].indexOf(e[0]))return t}else if(a[0].toLowerCase().indexOf(e[0])===e[0].indexOf(e[0])||a[1].toLowerCase().indexOf(e[0])===e[0].indexOf(e[0]))return t;return null})),n=0===t.length?"No Such Client":0!==t.length&&"No Such Client"!==a.state.messageIfEmpty?a.state.messageIfEmpty:"";0===a.state.filterFiltered.length&&a.setState({filterFiltered:t}),a.setState({searchedUpcomingOrPast:t,page:1,messageIfEmpty:n}),a.paginate(1)},a.paginate=function(e){if(0===a.state.searchedUpcomingOrPast.length){var t=Math.ceil(a.state.upcomingOrPast.length/5),n=5*(e-1),s=a.state.upcomingOrPast.slice(n,n+5);a.setState({paginatedExams:s,loading:!1,maxPages:t})}else{var l=Math.ceil(a.state.searchedUpcomingOrPast.length/5),c=5*(e-1),r=a.state.searchedUpcomingOrPast.slice(c,c+5);a.setState({paginatedExams:r,loading:!1,maxPages:l})}},a.searchByType=function(e){if(""===e.target.value&&""===a.state.searchName)a.setState({filterFiltered:[]});else if(""===e.target.value&&""!==a.state.searchName){a.setState({filterFiltered:[]});var t=setInterval((function(){a.handlingSearchByName(),clearInterval(t)}),10)}var n=e.target.value.toLowerCase();a.setState({searchType:n});var s=setInterval((function(){a.handlingSearchByType(),clearInterval(s)}),10)},a.handlingSearchByType=function(){var e=0===a.state.filterFiltered.length?a.state.upcomingOrPast.filter((function(e){return e.exam_type.toLowerCase().indexOf(a.state.searchType)===a.state.searchType.indexOf(a.state.searchType)?e:null})):a.state.filterFiltered.filter((function(e){return e.exam_type.toLowerCase().indexOf(a.state.searchType)===a.state.searchType.indexOf(a.state.searchType)?e:null})),t=0===e.length?"No Such Type":0!==e.length&&"No Such Type"!==a.state.messageIfEmpty?a.state.messageIfEmpty:"";0===a.state.filterFiltered.length&&a.setState({filterFiltered:e}),a.setState({searchedUpcomingOrPast:e,page:1,messageIfEmpty:t}),a.paginate(1)},a.handleClickLeft=function(){if(1!==a.state.page){a.setState({page:a.state.page-1});var e=setInterval((function(){a.paginate(a.state.page),clearInterval(e)}),10)}},a.handleClickRight=function(){if(a.state.page!==a.state.maxPages){a.setState({page:a.state.page+1});var e=setInterval((function(){a.paginate(a.state.page),clearInterval(e)}),10)}},a.handleClick=function(e,t){"mail"===t?a.props.history.push("/doctor/exam/detail/".concat(e)):"video"===t?a.props.history.push("/doctor/video/exam/detail/".concat(e,"/#init")):"queue"===t&&a.props.history.push("/doctor/processing/video/exam/".concat(e,"/#init"))},a.ResetonSelectChange=function(){a.setState({filterFiltered:[]});var e=setInterval((function(){a.handlingSearchByName(),clearInterval(e)}),10)},a.handlePageChange=function(e){a.setState({page:e}),a.paginate(e)},a.state={exams:[],record:null,token:sessionStorage.getItem("accessToken"),id:a.props.match.params.id,currentFilterClicked:"",searchName:"",searchType:"",messageIfEmpty:"",paginatedExams:[],searchedUpcomingOrPast:[]},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.record(),this.clientsExams()}},{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"header"},s.a.createElement("div",null,s.a.createElement(ne,null),s.a.createElement(ge,null))),s.a.createElement(mt,null),s.a.createElement(Oa,{record:this.state.record,props:this.state,handleClick:this.handleClick,handleClickMail:this.handleClickMail,handleClient:this.handleClient,hnlClick:this.hnlClick,hnlClick2:this.hnlClick2,hnlClick3:this.hnlClick3,hnlWaitingClick:this.hnlWaitingClick,handleKeyPress:this.handleKeyPress,handleChange:this.handleChange,handleClickLeft:this.handleClickLeft,handleClickRight:this.handleClickRight,loading:this.state.loading,hnlVideoClick:this.hnlVideoClick,handleWaitingRoom:this.handleWaitingRoom,handleVideoPendingClick:this.handleVideoPendingClick,handlePast:this.handlePast,handleAll:this.handleAll,hnlMyConsultations:this.hnlMyConsultations,handleClientSearch:this.handleClientSearch,handleTypeSearch:this.handleTypeSearch,searchByType:this.searchByType,searchByName:this.searchByName,ResetonSelectChange:this.ResetonSelectChange,handlePageChange:this.handlePageChange}))}}]),t}(n.Component),Pa=(a(354),a(250)),ja=a.n(Pa),Ia=(a(355),function(e){var t=e.handleSpeciality,a=e.handleDoctor,n=e.handleSubject,l=e.handleSubmit,c=e.handleMessage,r=e.handleDateChange,i=e.props,o=e.handleAttach,d=i.excludeTime.map((function(e){return new Date(e.appointed_date)})),m=i.startTime&&Number(i.startTime.split(":")[0]),u=i.startTime&&Number(i.startTime.split(":")[1]),p=i.endTime&&Number(i.endTime.split(":")[0]),h=i.endTime&&Number(i.endTime.split(":")[1]),g={control:function(e,t){return Object(kt.a)({},e,{height:"40px",border:"1.7px solid #fa9551",borderRadius:"10px",width:"305px",marginLeft:"2px",background:"white",color:"#666666",fontWeight:"600"})}};return s.a.createElement("div",{className:"exam"},s.a.createElement("div",{className:"mainExam"},s.a.createElement("div",{className:"newVideo"},s.a.createElement("img",{src:ia.a,alt:"video img"}),s.a.createElement("p",null,"Video Appointment")),s.a.createElement("div",{className:"exam-spec"},s.a.createElement(bt.a,{type:"text",id:"speciality",styles:g,placeholder:"Select Speciality...",options:i.specialities,onChange:t})),s.a.createElement("div",{className:"exam-doc"},s.a.createElement(bt.a,{type:"text",id:"doctor",styles:g,placeholder:"Select Doctor...",options:i.specDoctor,onChange:a,value:0===i.specDoctor.length?null:[i.resetDoctorSelect]})),s.a.createElement("div",{className:"exam-sub"},s.a.createElement("input",{type:"text",className:"form-control",id:"subject",placeholder:"Enter subject",value:i.subject,onChange:n}))),s.a.createElement("div",{className:"DatePicker"},s.a.createElement("div",{className:"exam-mess"},s.a.createElement("textarea",{type:"text",className:"form-control",id:"exam-notes",placeholder:"Enter notes",value:i.notes,onChange:c})),s.a.createElement("div",{className:"MainDate"},s.a.createElement("div",{className:"disabledDiv",style:{zIndex:i.specialSP&&i.doctor_id?0:1}}),s.a.createElement(ja.a,{excludeTimes:d,inline:!0,selected:i.startDate,onChange:r,showTimeSelect:!0,excludeOutOfBoundsTimes:!0,minDate:new Date,timeFormat:"HH:mm aa",timeIntervals:30,timeCaption:"time",minTime:i.startTime?Le()(new Date).set("hour",m).set("minute",u)._d:Le()(new Date).set("hour",8).set("minute",0)._d,maxTime:i.endTime?Le()(new Date).set("hour",p).set("minute",h).subtract("minute",30)._d:Le()(new Date).set("hour",15).set("minute",30)._d})),s.a.createElement("div",{className:"divAndAttach"},s.a.createElement("button",{value:i.submitted,className:"send",onClick:l},"Send"),s.a.createElement("div",{className:"upload-btn-wrapper"},s.a.createElement("button",{className:"btnn"},s.a.createElement("img",{src:St.a,alt:"attach"})),s.a.createElement("input",{type:"file",name:"myfile",onChange:o})))))}),Ma=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(d.a)(t).call(this,e))).handleDateChange=function(e){var t=Le()(e).format("YYYY-MM-DDTHH:mm:ss"),n=Le()(e).format("YYYY-MM-DD");a.setState({startDate:e,reservedDate:t});var s=a.state.doctorsExams.filter((function(e){return Le()(e.appointed_date).format("YYYY-MM-DD")===n?e:null}));a.setState({excludeTime:s})},a.handleSpeciality=function(e){var t=a.state.doctors.filter((function(t){return t.spec===e.label}));a.setState({specialSP:e.value,specDoctor:t,resetDoctorSelect:null})},a.handleDoctor=function(e){a.props.dispatch(Yt(e));var t=e.startTime?e.startTime.slice(0,-3):"",n=e.endTime?e.endTime.slice(0,-3):"";console.log(e),a.setState({doctor_id:e.iD,doctorsPrice:e.price,currency:e.currency,startTime:t,endTime:n});var s="Bearer ".concat(a.state.token);he.a.get("http://healthcarebackend.xyz/api/web/doc/".concat(e.iD,"/"),{headers:{Authorization:s}}).then((function(e){console.log(e);var t=e.data.data.filter((function(e){return Le()(e.appointed_date).format("YYYY-MM-DD")>=Le()(new Date).format("YYYY-MM-DD")}));a.setState({doctorsExams:t})})).then((function(){var e=Le()(new Date).format("YYYY-MM-DD"),t=a.state.doctorsExams.filter((function(t){return Le()(t.appointed_date).format("YYYY-MM-DD")===e?t:null}));a.setState({excludeTime:t})})),a.setState({resetDoctorSelect:e})},a.handleSubject=function(e){a.setState({subject:e.target.value})},a.handleMessage=function(e){a.setState({notes:e.target.value})},a.handleSubmit=function(e){var t,n,s;return le.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:if(t="Bearer ".concat(a.state.token),!(a.state.specialSP&&a.state.doctor_id&&a.state.subject&&a.state.notes&&a.state.reservedDate)){e.next=14;break}return a.setState({isClicked:!0}),e.next=5,le.a.awrap(fetch("http://healthcarebackend.xyz/api/web/client/initiate/",{method:"POST",headers:{"Content-Type":"application/json",Authorization:t},body:JSON.stringify({client:a.state.clientId,speciality:a.state.specialSP,doctor:a.state.doctor_id,subject:a.state.subject,notes:a.state.notes,appointed_date:a.state.reservedDate,price:"",attachments:a.state.attachments})}));case 5:return n=e.sent,e.next=8,le.a.awrap(n.json());case 8:return(s=e.sent).success&&(a.setState({doctorsPrice:s.data.price}),a.toCheckout()),console.log(s,"post video requesttttt"),e.abrupt("return",s);case 14:ce.NotificationManager.error("Empty Fielde Or You Did Not Set Time And Date","Failed!",4e3);case 15:case"end":return e.stop()}}))},a.toCheckout=function(){return le.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",a.props.history.push({pathname:"/checkout",state:{price:a.state.doctorsPrice,currency:a.state.currency}}));case 1:case"end":return e.stop()}}))},a.handleClientProfile=function(){var e;return le.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:e="Bearer ".concat(a.state.token),he.a.get("http://healthcarebackend.xyz/api/client/profile/",{headers:{Authorization:e}}).then((function(e){return console.log(e.data.data,"profile of client"),a.setState({clientId:e.data.data.id})}));case 2:case"end":return t.stop()}}))},a.handleAttach=function(e){a.setState({attachments:e.target.files[0]})},a.state={complete:!1,specialities:[],doctors:[],filtered:[],subject:"",notes:"",submitted:!1,price:null,doctor_id:null,token:sessionStorage.getItem("accessToken"),specDoctor:[],specialSP:[],resetDoctorSelect:null,isClicked:!1,startDate:new Date,reservedDate:new Date,doctorsPrice:"",clientId:null,attachments:null,doctorsExams:[],excludeTime:[],currency:null},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.handleClientProfile(),he.a.get("http://healthcarebackend.xyz/api/specialities/").then((function(t){var a=t.data.data.map((function(e){return{value:e.id,iD:e.speciality_id,label:e.name}}));e.setState({specialities:a})})),he.a.get("http://healthcarebackend.xyz/api/doctor/list/").then((function(t){console.log(t);var a=t.data.data.map((function(e){return{value:e.id,iD:e.id,label:e.doctor,spec:e.speciality,price:e.web_exam_price,currency:e.web_currency,startTime:e.start_hour,endTime:e.end_hour}}));e.setState({doctors:a})}))}},{key:"render",value:function(){return console.log(this.state.doctorsPrice),s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"header"},s.a.createElement("div",null,s.a.createElement(ne,null),s.a.createElement(ge,null))),s.a.createElement(mt,null),s.a.createElement(Ia,{handleSpeciality:this.handleSpeciality,handleDoctor:this.handleDoctor,handleSubject:this.handleSubject,handleSubmit:this.handleSubmit,handleMessage:this.handleMessage,handleDateChange:this.handleDateChange,handleAttach:this.handleAttach,props:this.state}))}}]),t}(n.Component),_a=Object(h.b)((function(e){return{doctor:e.getIn(["doctorReducer","doctor"]),price:e.price}}))(Ma),Aa=(a(152),function(e){var t=e.exam,a=e.props,l=e.handleStatus,c=e.statusValue,r=e.handleJoinRoom,i={control:function(){return{width:200,border:"2px solid #fa9551",borderRadius:"10px",height:"40px",fontWeight:600,display:"flex"}}};return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"header"},s.a.createElement("div",null,s.a.createElement(ne,null),s.a.createElement(ge,null))),s.a.createElement(ut,null),t.map((function(e){var t="Appointed"===e.status?"Accepted":e.status,o="Pending"===e.status||"Appointed"===e.status?[{value:"Cancel",label:"Cancel"}]:[];return s.a.createElement(n.Fragment,{key:e.id},s.a.createElement("div",{className:"detail-exam"},s.a.createElement("div",{className:"iconVideo"},s.a.createElement("img",{src:ia.a,alt:"email"}),s.a.createElement("p",null,"Video details")," "),s.a.createElement("div",{className:"detail"},s.a.createElement("p",null,s.a.createElement("span",null,"Doctor:")," ",e.doctor),s.a.createElement("p",null,s.a.createElement("span",null,"Speciality:")," ",e.speciality),e.appointed_date?s.a.createElement("p",null,s.a.createElement("span",null,"Appointed"===e.status||"Finished"===e.status?"Appointed date: :":"Appoint date: ")," ",Le()(e.appointed_date).format("MM/DD/YYYY HH:mm")):s.a.createElement("p",null," ",s.a.createElement("span",null,"Created:")," ",new Intl.DateTimeFormat("en-GB",{year:"numeric",month:"long",day:"2-digit"}).format(new Date(e.created))),s.a.createElement("p",null,s.a.createElement("span",null,"Type:")," ",e.exam_type),"Pending"!==e.status?s.a.createElement("p",null,s.a.createElement("span",null,"Status:")," ",e.status):s.a.createElement("div",{style:{marginLeft:"10px"},className:"divSelectButton"},s.a.createElement(bt.a,{type:"text",placeholder:t,styles:i,className:"select-option",value:c,options:o,onChange:l}))),s.a.createElement("div",{className:"mainMessageDiv"},s.a.createElement("div",{className:"subjectDiv"},s.a.createElement("p",null,s.a.createElement("span",null,"Subject:")," ",e.subject),s.a.createElement("p",null,s.a.createElement("span",null,Le()(e.created).format("MM/DD/YYYY")))),s.a.createElement("div",{className:"messageDiv"},s.a.createElement("textarea",{defaultValue:e.notes,disabled:!0})),s.a.createElement("div",{className:"reportIfDeclined",style:{display:"Declined"!==e.status?"none":"block"}},s.a.createElement("div",{className:"subjectDiv"},s.a.createElement("p",null,s.a.createElement("span",null,"Decline reason:"))),s.a.createElement("div",{className:"messageDivReport"},s.a.createElement("textarea",{name:"text",disabled:"Declined"===e.status&&!0,placeholder:e.decline_notes?e.decline_notes:"text",value:a.declineReason,id:"textarea"})))),"Appointed"===e.status||"Accepted"===e.status?s.a.createElement("div",{className:"message-btn"},s.a.createElement("button",{className:"message-link",id:"StartVideo",onClick:r},"Join now")):null))})))}),Fa=(a(90),function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(d.a)(t).call(this,e))).handleJoinRoom=function(){window.open("/room/".concat(a.props.match.params.id))},a.handleStatus=function(e){a.setState({statusValue:e});var t=e.value,n=e.label;console.log(t,n),a.setState({selectedStatus:t}),a.handleCancel(t)},a.handleCancel=function(e){var t,n,s;return le.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:return t="Bearer ".concat(a.state.token),l.next=3,le.a.awrap(fetch("http://healthcarebackend.xyz/api/web/client/".concat(a.state.id,"/"),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:t},body:JSON.stringify({status:e})}));case 3:return n=l.sent,l.next=6,le.a.awrap(n.json());case 6:return s=l.sent,console.log(s),!0===s.success&&a.props.history.push("/dashboard-client"),l.abrupt("return",s);case 10:case"end":return l.stop()}}))},a.detail=function(){var e="Bearer ".concat(a.state.token);he.a.get("http://healthcarebackend.xyz/api/web/client/".concat(a.state.id,"/"),{headers:{Authorization:e}}).then((function(e){console.log(e.data),a.setState({exam:a.state.exam.concat(e.data.data),appointedDate:e.data.data.appointed_date})}))},a.handleDivClose=function(){a.setState({startVideo:!1})},a.state={exam:[],statusValue:"",selectedStatus:"",token:sessionStorage.getItem("accessToken"),id:a.props.match.params.id,appointedDate:"",YourNumber:null,doctorsVideoId:null,startVideo:!1,value:"",width:700,height:500,x:0,y:0,hover:!1,showChat:!1,video:!0,audio:!0},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.detail()}},{key:"componentWillUnmount",value:function(){}},{key:"UNSAFE_componentWillMount",value:function(){}},{key:"render",value:function(){return console.log(this.state.selectedStatus,this.state.statusValue),s.a.createElement(s.a.Fragment,null,s.a.createElement(Aa,{exam:this.state.exam,handleCancel:this.handleCancel,props:this.state,handleStatus:this.handleStatus,handleJoinRoom:this.handleJoinRoom}))}}]),t}(n.Component)),Ta=function(e){var t=e.exam;return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"header"},s.a.createElement("div",null,s.a.createElement(ne,null),s.a.createElement(ge,null))),s.a.createElement(mt,null),t.map((function(e){return s.a.createElement(n.Fragment,{key:e.exam.id},s.a.createElement("div",{className:"detail-exam",style:{height:"300px"}},s.a.createElement("div",{className:"iconVideo",style:{width:"250px"}},s.a.createElement("img",{src:ke.a,alt:"email"}),s.a.createElement("p",null,"Waiting room details")," "),s.a.createElement("div",{className:"detail"},s.a.createElement("p",null,s.a.createElement("span",null,"Doctor:")," ",e/e.doctor_name),s.a.createElement("p",null,s.a.createElement("span",null,"Speciality:")," ",e.exam.speciality),s.a.createElement("p",null,s.a.createElement("span",null,"Created:")," ",new Intl.DateTimeFormat("en-GB",{year:"numeric",month:"long",day:"2-digit"}).format(new Date(e.exam.created))),s.a.createElement("p",null,s.a.createElement("span",null,"Type:")," ",e.exam.exam_type),s.a.createElement("p",null,s.a.createElement("span",null,"Status:")," ",e.exam.status)),s.a.createElement("div",{className:"sideMessageDetails"},s.a.createElement("div",{className:"SubjectMessage"},s.a.createElement("div",{className:"subjectDiv"},s.a.createElement("p",null,s.a.createElement("span",null,"Subject:")," ",e.exam.subject),s.a.createElement("p",null,s.a.createElement("span",null,Le()(e.exam.created).format("MM/DD/YYYY")))),s.a.createElement("div",{className:"messageDiv"},s.a.createElement("p",null,s.a.createElement("span",null,"Message:")," ",e.exam.notes))))))})))},Va=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(d.a)(t).call(this,e))).hanldeClientQueue=function(e){var t;return le.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:t="Bearer ".concat(a.state.token),he.a.get("http://healthcarebackend.xyz/api/queue/client/detail/".concat(e,"/"),{headers:{Authorization:t}}).then((function(e){console.log(e,"queue"),a.setState({exam:[e.data.data]})})).catch((function(e){console.log(e.response)}));case 2:case"end":return n.stop()}}))},a.state={exam:[],id:"",token:sessionStorage.getItem("accessToken")},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.setState({id:this.props.match.params.id}),this.hanldeClientQueue(this.props.match.params.id)}},{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement(Ta,{exam:this.state.exam}))}}]),t}(n.Component),Ra=function(e){var t=e.exam,a=e.props,l=e.handleStatus,c=e.statusValue,r=(e.handleReplyClick,e.onChangeHandler),i=e.handleSubmitSend,o=e.handleMessage,d=e.newMessage,m={control:function(){return{width:200,border:"2px solid #fa9551",borderRadius:"10px",height:"40px",fontWeight:600,display:"flex"}}};return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"header"},s.a.createElement("div",null,s.a.createElement(ne,null),s.a.createElement(ge,null))),s.a.createElement(ut,null),t.map((function(e){var t="Appointed"===e.status?"Accepted":e.status,u="Pending"===e.status||"Accepted"===e.status?[{value:"Cancel",label:"Cancel"}]:[];return s.a.createElement(n.Fragment,{key:e.id},s.a.createElement("div",{className:"detail-exam"},s.a.createElement("div",{className:"iconVideo"},s.a.createElement("img",{src:xt.a,alt:"email"}),s.a.createElement("p",null,"Email details")," "),s.a.createElement("div",{className:"detail"},s.a.createElement("p",null,s.a.createElement("span",null,"Doctor:")," ",e.doctor),s.a.createElement("p",null,s.a.createElement("span",null,"Speciality:")," ",e.speciality),s.a.createElement("p",null,s.a.createElement("span",null,"Created:")," ",new Intl.DateTimeFormat("en-GB",{year:"numeric",month:"long",day:"2-digit"}).format(new Date(e.created))),s.a.createElement("p",null,s.a.createElement("span",null,"Type:")," ",e.exam_type),"Pending"!==e.status?s.a.createElement("p",null,s.a.createElement("span",null,"Status:")," ",e.status):s.a.createElement("div",{className:"divSelectButton"},s.a.createElement(bt.a,{type:"text",placeholder:t,className:"select-option",value:c,options:u,styles:m,onChange:l}))),s.a.createElement("div",{className:"sideMessageDetails"},s.a.createElement("div",{className:"SubjectMessage"},s.a.createElement("div",{className:"subjectDiv"},s.a.createElement("p",null,s.a.createElement("span",null,"Subject:")," ",e.subject),s.a.createElement("p",null,s.a.createElement("span",null,Le()(e.created).format("MM/DD/YYYY HH:mm")))),s.a.createElement("div",{className:"messageDiv"},s.a.createElement("textarea",{defaultValue:e.message,disabled:!0}))),s.a.createElement("div",{className:"mainMessageCorrespondence",style:{overflow:0===a.correspondence.length&&"hidden"}},s.a.createElement("div",{className:"MessageCorrespondence"},a.correspondence.map((function(e,t){return s.a.createElement("div",{style:{width:e.sender===a.doctor&&"90%"},key:e.id,className:"Maintbody"},s.a.createElement("div",{style:{background:e.sender===a.doctor&&"#00aff0"},className:"senderMaiin"},s.a.createElement("p",{className:"senderP"},s.a.createElement("span",null,"From:")," ",e.sender),s.a.createElement("p",{className:"createdP"},Le()(e.created).add(2,"hours").format("DD-MM-YYYY HH:mm"))),s.a.createElement("div",{className:"row1"},s.a.createElement("textarea",{id:e.id,defaultValue:e.message,className:"message"}),e.attachments?s.a.createElement("div",{className:"attachments"},s.a.createElement("p",{className:"att"},"Attachments: ",e.attachments)):null),a.replyClicked&&a.lastInArray.created===e.created&&s.a.createElement("div",{className:"SendMainDiv"},s.a.createElement("div",{className:"senderMaiin"},s.a.createElement("p",{className:"senderP"},s.a.createElement("span",null,"From:")," ",a.client)),s.a.createElement("textarea",{type:"text",placeholder:"Message...",onChange:o,value:a.messageValue}),s.a.createElement("div",{className:"sendbuttonAndAtt"},s.a.createElement("button",{onClick:i},s.a.createElement(ve.c,{className:"replyIcon"}),s.a.createElement("span",null,"Send")),s.a.createElement("div",{className:"upload-btn-wrapper"},s.a.createElement("button",{className:"btn"},s.a.createElement("img",{src:St.a,alt:""})),s.a.createElement("input",{type:"file",name:"myfile",onChange:r})))))})),a.replyClicked&&0===a.correspondence.length&&s.a.createElement("div",{className:"SendMainDiv"},s.a.createElement("div",{className:"senderMaiin"},s.a.createElement("p",{className:"senderP"},s.a.createElement("span",null,"From:")," ",a.client)),s.a.createElement("textarea",{type:"text",placeholder:"Message...",onChange:o,value:a.messageValue}),s.a.createElement("div",{className:"sendbuttonAndAtt"},s.a.createElement("button",{onClick:i},s.a.createElement(ve.c,{className:"replyIcon"}),s.a.createElement("span",null,"Send")),s.a.createElement("div",{className:"upload-btn-wrapper"},s.a.createElement("button",{className:"btn"},s.a.createElement("img",{src:St.a,alt:""})),s.a.createElement("input",{type:"file",name:"myfile",onChange:r})))),"Accepted"===e.status&&s.a.createElement("button",{className:"newMessage",onClick:d},s.a.createElement("h1",null,"+")))))))})))},Ba=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(d.a)(t).call(this,e))).handleStatus=function(e){a.setState({statusValue:e});var t=e.value,n=e.label;console.log(t,n),a.setState({selectedStatus:t}),a.handleCancel(t)},a.handleCancel=function(e){var t,n,s;return le.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:return t="Bearer ".concat(a.state.token),l.next=3,le.a.awrap(fetch("http://healthcarebackend.xyz/api/client/exams/".concat(a.state.id,"/"),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:t},body:JSON.stringify({status:e})}));case 3:return n=l.sent,l.next=6,le.a.awrap(n.json());case 6:return s=l.sent,console.log(s),s.success&&a.props.history.push("/dashboard-client"),l.abrupt("return",s);case 10:case"end":return l.stop()}}))},a.detail=function(){var e="Bearer ".concat(a.state.token);he.a.get("http://healthcarebackend.xyz/api/client/exams/".concat(a.state.id,"/"),{headers:{Authorization:e}}).then((function(e){console.log(e,"detailex"),a.setState({exam:a.state.exam.concat(e.data.data),doctor:e.data.data.doctor})})).catch((function(e){console.log(e.response)}))},a.handleMessage=function(e){a.setState({messageValue:e.target.value})},a.handleReplyClick=function(){a.setState({replyClicked:!a.state.replyClicked})},a.newMessage=function(){a.setState({replyClicked:!0})},a.onChangeHandler=function(e){a.setState({selectedFile:e.target.files[0]})},a.handleSubmitSend=function(e){a.state.messageValue?(a.sendMessage(),a.setState({messageValue:"",replyClicked:!1})):ce.NotificationManager.error("Empty Fields","Failed!",2e3)},a.sendMessage=function(){var e,t,n;return le.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return e="Bearer ".concat(a.state.token),s.next=3,le.a.awrap(fetch("http://healthcarebackend.xyz/api/client/exams/".concat(a.state.id,"/message/"),{method:"POST",headers:{"Content-Type":"application/json;",Authorization:e},body:JSON.stringify({message:a.state.messageValue,attachment:a.state.selectedFile})}));case 3:return t=s.sent,s.next=6,le.a.awrap(t.json());case 6:return(n=s.sent).success&&(a.correspondence(a.state.id),ce.NotificationManager.success("Message Sent","Successful!",2e3),a.socket.send({exam_id:a.state.id,message:a.state.messageValue})),console.log(n),console.log(t),s.abrupt("return",n);case 11:case"end":return s.stop()}}))},a.correspondence=function(e){var t="Bearer ".concat(a.state.token);he.a.get("http://healthcarebackend.xyz/api/client/exams/".concat(e,"/messages/"),{headers:{Authorization:t}}).then((function(e){console.log(e,"correspondence");var t=e.data.data.map((function(e){return{id:e.id,sender:e.sender,created:e.created,message:e.message,attachment:e.attachment}}));a.setState({correspondence:t,lastInArray:t[t.length-1]})})).catch((function(e){console.log(e.response)}))},a.state={exam:[],statusValue:"",selectedStatus:"",token:sessionStorage.getItem("accessToken"),id:a.props.match.params.id,correspondence:[],lastInArray:null,replyClicked:!1,messageValue:"",selectedFile:null,doctor:"",client:""},a.socket=new WebSocket("ws://healthcarebackend.xyz/ws/message/".concat(a.props.match.params.id,"/")),a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentWillUnmount",value:function(){this.socket.close()}},{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.id;this.detail(),this.correspondence(t),this.socket.onopen=function(){console.log("connected")},this.socket.onmessage=function(a){var n=JSON.parse(a.data);n.exam_id===parseInt(t)&&e.correspondence(t),console.log(n)};var a="Bearer ".concat(this.state.token);he.a.get("http://healthcarebackend.xyz/api/client/profile/",{headers:{Authorization:a}}).then((function(t){var a="".concat(t.data.data.user.first_name," ").concat(t.data.data.user.last_name);return e.setState({client:a})}))}},{key:"render",value:function(){return console.log(this.state.client),s.a.createElement(s.a.Fragment,null,s.a.createElement(Ra,{exam:this.state.exam,props:this.state,handleStatus:this.handleStatus,onChangeHandler:this.onChangeHandler,handleMessage:this.handleMessage,newMessage:this.newMessage,handleReplyClick:this.handleReplyClick,handleSubmitSend:this.handleSubmitSend}))}}]),t}(n.Component);a(413);var Ya=function(e){var t=e.props,a=e.handleChange,n=e.handleSubmit;return s.a.createElement("div",{className:"mainForgotPass"},s.a.createElement("div",{className:"forgot",style:{display:t.message?"none":"block"}},s.a.createElement("h2",null,"Forgot your password?"),s.a.createElement("p",null,"Tell us your email address, and we'll get you back on track in no time."),s.a.createElement("label",{htmlFor:"email"},"Email Address"),s.a.createElement("br",null),s.a.createElement("input",{type:"text",id:"email",placeholder:"Enter your Email Address",value:t.userEmail,onChange:a}),s.a.createElement("br",null),s.a.createElement("button",{onClick:n},"Confirm email"),s.a.createElement("div",{className:"mainGoBackDiv"},s.a.createElement(u.b,{to:"/login",className:"goBack"},"Back to sing in"))),s.a.createElement("div",{className:"message",style:{display:t.message?"block":"none"}},s.a.createElement("h3",null,t.message)))},za=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(d.a)(t).call(this,e))).handleChange=function(e){a.setState({userEmail:e.target.value})},a.handleSubmit=function(e){e.preventDefault(),a.userCheck()},a.userCheck=function(){var e,t;return le.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,le.a.awrap(fetch("http://healthcarebackend.xyz/api/auth/reset/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:a.state.userEmail})}));case 2:return e=n.sent,n.next=5,le.a.awrap(e.json());case 5:t=n.sent,console.log(t),t.success,a.setState({message:t.message});case 8:case"end":return n.stop()}}))},a.state={userEmail:"",message:null,newPassword:"",confPassword:""},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"header"},s.a.createElement("div",null,s.a.createElement(ne,null),s.a.createElement(ge,null))),s.a.createElement(Ya,{props:this.state,handleChange:this.handleChange,handleSubmit:this.handleSubmit}),s.a.createElement("div",{style:{position:"fixed",bottom:"0",width:"100%"}},s.a.createElement(be,null)))}}]),t}(n.Component);a(414);var La=function(e){var t=e.handleNewPassword,a=e.handleConfPassword,n=e.handleChangePassSubmit,l=e.props;return s.a.createElement("div",{className:"mainChangePass"},s.a.createElement("div",{className:"newPasswords",style:{display:l.message?"none":"block"}},s.a.createElement("h2",null,"Changing password"),s.a.createElement("p",null,"Please note that when changing your password, we ask you to set yourself a secure password that contains both uppercase and lowercase letters as well as numbers. This is for your own safety."),s.a.createElement("label",{htmlFor:"newPass"},"New password"),s.a.createElement("br",null),s.a.createElement("input",{type:"password",id:"newPass",value:l.newPassword,onChange:t}),s.a.createElement("br",null),s.a.createElement("label",{htmlFor:"confPass"},"Confirm new password"),s.a.createElement("br",null),s.a.createElement("input",{type:"password",id:"confPass",value:l.confPassword,onChange:a}),s.a.createElement("button",{onClick:n},"Change password")),s.a.createElement("div",{className:"message",style:{display:l.message?"block":"none"}},s.a.createElement("h3",null,l.message)))},Ua=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(d.a)(t).call(this,e))).handleNewPassword=function(e){a.setState({newPassword:e.target.value})},a.handleConfPassword=function(e){a.setState({confPassword:e.target.value})},a.handleChangePassSubmit=function(e){e.preventDefault(),a.state.newPassword===a.state.confPassword?a.changePass():ce.NotificationManager.error("Confirmation password is not identical","Failed!",2e3)},a.changePass=function(){var e,t;return le.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,le.a.awrap(fetch("http://healthcarebackend.xyz/api/auth/reset-confirm/".concat(a.state.id,"/"),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:a.state.newPassword,confirm_password:a.state.confPassword})}));case 2:return e=n.sent,n.next=5,le.a.awrap(e.json());case 5:t=n.sent,console.log(t),t.success,a.setState({message:t.message});case 8:case"end":return n.stop()}}))},a.state={newPassword:"",confPassword:"",message:null,id:a.props.match.params.id},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return console.log(this.state.id,this.state.pass,this.state.newPassword,this.state.confPassword),s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"header"},s.a.createElement("div",null,s.a.createElement(ne,null),s.a.createElement(ge,null))),s.a.createElement(La,{handleNewPassword:this.handleNewPassword,handleConfPassword:this.handleConfPassword,handleChangePassSubmit:this.handleChangePassSubmit,props:this.state}),s.a.createElement("div",{style:{position:"fixed",bottom:"0",width:"100%"}},s.a.createElement(be,null)))}}]),t}(n.Component),Wa=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(d.a)(t).call(this,e))).getResponse=function(){he.a.get("http://healthcarebackend.xyz/api/auth/activate/".concat(a.state.id),{headers:{"Content-Type":"application/json"}}).then((function(e){console.log(e.data),a.setState({message:e.data.message})})).catch((function(e){console.log(e)}))},a.state={id:a.props.match.params.id,message:""},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.getResponse()}},{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"header"},s.a.createElement("div",null,s.a.createElement(ne,null),s.a.createElement(ge,null))),s.a.createElement("div",null,s.a.createElement("h3",{style:{marginTop:"20%",color:"#4092c2"}},this.state.message)),s.a.createElement("div",{style:{position:"fixed",bottom:"0",width:"100%"}},s.a.createElement(be,null)))}}]),t}(n.Component),qa=(a(415),a(254)),Ha=a.n(qa);var Ja=function(e){var t=e.handleClient,a=e.clients,n=e.handleSort,l=e.handleSearch,c=e.props;return s.a.createElement("div",{className:"mainClientsDiv"},s.a.createElement("div",{className:"clientsAbove"},s.a.createElement("img",{src:Ha.a,alt:"my patients"}),s.a.createElement("h4",null,"Clients")),s.a.createElement("div",{className:"clientsDiv"},s.a.createElement("label",null,"Search by name:"," ",s.a.createElement("input",{type:"text",value:c.searchName,placeholder:"Search",onChange:l})),s.a.createElement("label",null,"Sort by:"," ",s.a.createElement("select",{onClick:n},s.a.createElement("option",{value:""},"Sort it..."),s.a.createElement("option",{value:"nameAZ"},"Name: A-Z"),s.a.createElement("option",{value:"nameZA"},"Name: Z-A")))),s.a.createElement("div",{className:"row2"},""===c.messageIfEmpty&&0===c.upcomingandPast.length?a.map((function(e){return null===e.client_id?null:s.a.createElement("div",{key:e.client_id,className:"list-group"},s.a.createElement("button",{"data-id":e.client_id,className:"list-group-item",onClick:function(){return t(e.client_id)}},e.client,s.a.createElement("img",{src:"default.jpg"===e.image?sa.a:"http://healthcarebackend.xyz/media/".concat(e.image),alt:"cliet profile"})))})):""===c.messageIfEmpty&&0!==c.upcomingandPast.length?c.upcomingandPast.map((function(e){return null===e.client_id?null:s.a.createElement("div",{key:e.client_id,className:"list-group"},s.a.createElement("button",{"data-id":e.client_id,className:"list-group-item",onClick:function(){return t(e.client_id)}},e.client,s.a.createElement("img",{src:"default.jpg"===e.image?sa.a:"http://healthcarebackend.xyz/media/".concat(e.image),alt:"cliet profile"})))})):s.a.createElement("h4",{style:{color:"#666666"}},c.messageIfEmpty)))},Ga=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(d.a)(t).call(this,e))).handleClient=function(e){a.props.history.push("/doctor/record/".concat(e))},a.handleSearch=function(e){a.setState({searchName:e.target.value});var t=setInterval((function(){a.handlingSearchByName(),clearInterval(t)}),10)},a.handleSort=function(e){if("nameAZ"===e.target.value){var t=(0===a.state.upcomingandPast.length?a.state.clients:a.state.upcomingandPast).sort((function(e,t){return e.client>t.client?1:e.client<t.client?-1:0}));0===a.state.upcomingandPast.length&&a.setState({clients:t}),0!==a.state.upcomingandPast.length&&a.setState({upcomingandPast:t}),a.setState({clients:t})}else if("nameZA"===e.target.value){var n=(0===a.state.upcomingandPast.length?a.state.clients:a.state.upcomingandPast).sort((function(e,t){return e.client>t.client?-1:e.client<t.client?1:0}));0===a.state.upcomingandPast.length&&a.setState({clients:n}),0!==a.state.upcomingandPast.length&&a.setState({upcomingandPast:n})}},a.clients=function(){var e="Bearer ".concat(a.state.token);he.a.get("http://healthcarebackend.xyz/api/doctor/clients/",{headers:{Authorization:e}}).then((function(e){console.log(e);var t=e.data.data.map((function(e){return e}));a.setState({clients:t})}))},a.handlingSearchByName=function(){var e=a.state.searchName.toLowerCase().split(" "),t=a.state.clients.filter((function(t){var a=t.client.split(" ");if(console.log(a),e[1]){if(a[0].toLowerCase().indexOf(e[0])===e[0].indexOf(e[0])&&a[1].toLowerCase().indexOf(e[1])===e[1].indexOf(e[1])||a[0].toLowerCase().indexOf(e[1])===e[1].indexOf(e[1])&&a[1].toLowerCase().indexOf(e[0])===e[0].indexOf(e[0]))return t}else if(a[0].toLowerCase().indexOf(e[0])===e[0].indexOf(e[0])||a[1].toLowerCase().indexOf(e[0])===e[0].indexOf(e[0]))return t;return null}));console.log(t);var n=0===t.length?"No Such Client":"";a.setState({upcomingandPast:t,messageIfEmpty:n})},a.state={clients:[],token:sessionStorage.getItem("accessToken"),searchName:"",messageIfEmpty:"",upcomingandPast:[]},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.clients()}},{key:"render",value:function(){return console.log(this.state.clients),s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"header"},s.a.createElement("div",null,s.a.createElement(ne,null),s.a.createElement(ge,null))),s.a.createElement(ut,null),s.a.createElement(Ja,{clients:this.state.clients,handleClient:this.handleClient,handleSort:this.handleSort,handleSearch:this.handleSearch,props:this.state}))}}]),t}(n.Component),Qa=(a(416),function(e){var t=e.handleSpeciality,a=e.handleDoctor,n=e.handleSubject,l=e.handleSubmit,c=e.handleExitQueue,r=e.handleVideoStart,i=e.handleMessage,o=e.props,d=e.handleChange,m=e.enableTipeing,u=(e.iconsMouseOut,e.iconsMouseOver,e.handleDragDrop,e.handleResize,e.showAndHideChat,e.handleDivSize,e.cutVideo),p=e.cutMic,h=e.showExtendScreenIcon,g=!o.credits,f=!!o.credits,E=!o.doctorStartedVideo;console.log(o.specDoctor);var v={control:function(e,t){return Object(kt.a)({},e,{height:"40px",border:"1.7px solid #fa9551",borderRadius:"10px",width:"305px",marginLeft:"2px",background:"white",color:"#666666",fontWeight:"600"})},option:function(e,t){return Object(kt.a)({},e,{textAlign:"left",color:"Away"===t.data.status?"#C7CD00":"Offline"===t.data.status&&"red"})}},b={control:function(e,t){return Object(kt.a)({},e,{height:"40px",border:"1.7px solid #fa9551",borderRadius:"10px",width:"305px",marginLeft:"2px",background:"white",color:"#666666",fontWeight:"600"})}};return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"exam",style:{display:o.startVideo?"none":"block"}},s.a.createElement("div",{className:"mainExam"},s.a.createElement("div",{className:"newVideo"},s.a.createElement("img",{src:ke.a,alt:"video img"}),s.a.createElement("p",null,"Waiting room")),s.a.createElement("div",{className:"exam-spec"},s.a.createElement(bt.a,{type:"text",id:"speciality",placeholder:o.currentClient?o.currentClient.speciality:"Select Speciality...",options:o.specialities,isDisabled:f,styles:b,onChange:t})),s.a.createElement("div",{className:"exam-doc"},s.a.createElement(bt.a,{style:!0,styles:v,type:"text",id:"doctor",placeholder:o.currentClient?o.currentClient.doctor_name:"Select Doctor...",options:o.specDoctor,getOptionLabel:function(e){return"".concat(e.label,": (").concat(e.status,")")},isDisabled:f,onChange:a,value:0===o.specDoctor.length?null:[o.resetDoctorSelect]})),s.a.createElement("div",{className:"exam-sub"},s.a.createElement("input",{type:"text",className:"form-control",id:"subject",placeholder:"Enter subject",value:o.currentClient?o.currentClient.subject:o.subject,onChange:n}))),s.a.createElement("div",{className:"queue"},s.a.createElement("div",{className:"exam-mes"},s.a.createElement("textarea",{type:"text",className:"form-control",id:"exam-notes",placeholder:"Enter notes",value:o.currentClient?o.currentClient.notes:o.notes,onChange:i})),s.a.createElement("div",{className:"queueInfo"},s.a.createElement("div",{className:"queueMain"},s.a.createElement("div",{className:"statusQueue"},s.a.createElement("p",null,"Queue status"),s.a.createElement("div",null,o.credits&&0===o.YourNumber?s.a.createElement("h4",{style:{border:"1.7px solid #fa9551",color:"#fa9551",borderRadius:"10px"}},"Be Ready"):o.credits?s.a.createElement("h4",{style:{border:"1.7px solid green",color:"green",borderRadius:"10px"}},"In the queue"):s.a.createElement("h4",{style:{border:" 1.7px solid red",borderRadius:"10px",color:"red"}},"Out of queue"))),s.a.createElement("div",{className:"timeEst"},s.a.createElement("p",null,"People before you"),s.a.createElement("div",null,s.a.createElement("p",null,"Num"),s.a.createElement("h4",null,o.credits?o.YourNumber:o.peopleInQueue.length)))),0===o.YourNumber&&!o.doctorsVideoId&&o.credits?s.a.createElement("p",null,"Be ready, Waiting from Doctors connection..."):null,s.a.createElement("div",{className:"startandexit"},s.a.createElement("button",{value:o.submitted,disabled:f,className:"send",onClick:l},"Enter queue"),s.a.createElement("button",{className:"exitQueue",onClick:c,disabled:g},"Exit queue")))),s.a.createElement("div",{className:"divAndAttach"},s.a.createElement("button",{id:"StartVideo",className:"startThatChat",disabled:E,onClick:r},"Start video"),s.a.createElement("div",{className:"upload-btn-wrapper"},s.a.createElement("button",{className:"btn"},s.a.createElement("img",{src:St.a,alt:"attach"})),s.a.createElement("input",{type:"file",name:"myfile"}))),s.a.createElement("div",null)),s.a.createElement("div",{className:"detailExam",style:{display:o.startVideo?"block":"none",padding:0}},s.a.createElement("div",{className:"iconVideoo"},s.a.createElement("img",{src:ia.a,alt:"email"}),s.a.createElement("p",null,"Video call")," "),s.a.createElement("div",{className:"detail2"},s.a.createElement("div",{className:"detailInfo2",id:"detailInfo2"},s.a.createElement("p",{className:"ClientP"},s.a.createElement("span",null,"Doctor:")," ",o.currentClient.doctor_name),s.a.createElement("div",{className:"MainIconsDiv"},s.a.createElement("img",{src:ua.a,className:"iconMic",alt:"img",style:{display:o.audio?"block":"none"},onClick:p}),s.a.createElement("img",{src:ha.a,className:"iconMicUnmute",alt:"img",style:{display:o.audio?"none":"block"},onClick:p}),s.a.createElement("img",{src:fa.a,alt:"img",className:"iconPhone"}),s.a.createElement("img",{src:va.a,className:"iconVideo",alt:"img",style:{display:o.video?"block":"none"},onClick:u}),s.a.createElement("img",{src:ya.a,alt:"img",className:"iconVideoShow",style:{display:o.video?"none":"block"},onClick:u})),s.a.createElement("div",{className:"MainDivForChat"},s.a.createElement("p",null,"Chat"),s.a.createElement("form",{autoComplete:"off",action:"",id:"form"},s.a.createElement("pre",{id:"messages"}),s.a.createElement("div",{className:"inputMessage"},s.a.createElement("input",{type:"text",placeholder:"Type a message",id:"yourMessage",value:o.value,onChange:d,onMouseDown:m}),s.a.createElement("button",{style:{display:"hidden"},id:"send"},"Send"))))),s.a.createElement("div",{id:"videoChat",onMouseEnter:h,onMouseLeave:h},s.a.createElement("img",{src:Na.a,style:{display:!o.showExtendScreen&&"none"},className:"extendScreen",alt:"screen icon"})))))}),Za=new WebSocket("ws://healthcarebackend.xyz/ws/doctor/status/"),Ka=new WebSocket("ws://healthcarebackend.xyz/ws/video/"),Xa=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(o.a)(this,Object(d.a)(t).call(this,e)))._isMounted=!1,n.handleVideoStart=function(e){e.preventDefault(),n.setState({startVideo:!0}),navigator.mediaDevices.getUserMedia({video:!0,audio:!1}).then((function(e){var t=document.createElement("video");t.id="myVid",document.getElementById("detailInfo2").appendChild(t),t.srcObject=e,t.play(),document.getElementById("myVid").style.cssText="position: absolute; left: 10px; bottom: 9px; height: 170px; width: 320px;"}))},n.handleSpeciality=function(e){var t=n.state.doctors.filter((function(t){return t.spec===e.label}));n.setState({specialSP:e.value,specDoctor:t,resetDoctorSelect:null})},n.handleDoctor=function(e){console.log(e),"Away"===e.status?ce.NotificationManager.warning("Doctor is Away at the moment and not available for consultation.","Warning!",4e3):"Offline"===e.status?ce.NotificationManager.error("Doctor is Offline at the moment and not available for consultation.","Warning!",4e3):(n.props.dispatch(Yt(e)),console.log(e),n.setState({currency:e.currency,doctor_id:e.iD,doctorsStatus:e.status,resetDoctorSelect:e}),n.QueueList(e.iD))},n.handleSubject=function(e){n.setState({subject:e.target.value})},n.handleExitQueue=function(){var e,t,a;return le.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return e="Bearer ".concat(n.state.token),s.next=3,le.a.awrap(fetch("http://healthcarebackend.xyz/api/queue/client/delete/".concat(n.state.currentClient.id,"/"),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:e},body:JSON.stringify({status:"Cancel"})}));case 3:return t=s.sent,s.next=6,le.a.awrap(t.json());case 6:return!0===(a=s.sent).success&&(Ka.close(),n.setState({credits:!1,peopleInQueue:[],doctorsVideoId:null}),n.hanldeClientQueue(n.state.client_id)),s.abrupt("return",a);case 9:case"end":return s.stop()}}))},n.hanldeClientQueue=function(e){var t;return le.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:t="Bearer ".concat(n.state.token),he.a.get("http://healthcarebackend.xyz/api/queue/client/".concat(e,"/"),{headers:{Authorization:t}}).then((function(e){if(console.log(e,"Client, IDDDDDDDD"),!e.data.data)return null;"In the queue"!==e.data.data.status&&"Accepted"!==e.data.data.status||(n.setState({credits:!0,currentClient:e.data.data}),void 0!==n.props.location.state&&"exitQueue"===n.props.location.state.detail&&n.handleExitQueue()),n.QueueList(e.data.data.doctor)})).catch((function(e){console.log(e.response)}));case 2:case"end":return a.stop()}}))},n.handleSubmit=function(e){var t,a,s;return le.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:if(t="Bearer ".concat(n.state.token),!(n.state.specialSP&&n.state.doctor_id&&n.state.notes&&n.state.subject&&"Available"===n.state.doctorsStatus)){e.next=15;break}return n.setState({isClicked:!0}),e.next=5,le.a.awrap(fetch("http://healthcarebackend.xyz/api/queue/enter/",{method:"POST",headers:{"Content-Type":"application/json",Authorization:t},body:JSON.stringify({client:n.state.client_id,speciality:n.state.specialSP,doctor:n.state.doctor_id,subject:n.state.subject,attachments:n.state.attachment,notes:n.state.notes})}));case 5:return a=e.sent,e.next=8,le.a.awrap(a.json());case 8:return s=e.sent,n.setState({price:s.data.price}),n.hanldeClientQueue(n.state.client_id),n.toCheckout(),e.abrupt("return",s);case 15:n.state.doctorsStatus&&"Available"!==n.state.doctorsStatus?ce.NotificationManager.error("Doctor is not Available at the moment","Failed!",4e3):ce.NotificationManager.error("Empty Fields","Failed!",2e3);case 16:case"end":return e.stop()}}))},n.toCheckout=function(){return le.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.props.history.push({pathname:"/checkout",state:{price:n.state.price,location:n.props.location.pathname,currency:n.state.currency}}));case 1:case"end":return e.stop()}}))},n.handleClientProfile=function(){var e="Bearer ".concat(n.state.token);he.a.get("http://healthcarebackend.xyz/api/client/profile/",{headers:{Authorization:e}}).then((function(e){n.setState({client_id:e.data.data.id});var t=e.data.data.id;n.hanldeClientQueue(t)}))},n.QueueList=function(e){var t;return le.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:t="Bearer ".concat(n.state.token),he.a.get("http://healthcarebackend.xyz/api/queue/doctor/".concat(e,"/"),{headers:{Authorization:t}}).then((function(e){console.log(e,"people in queue");var t=e.data.data.queue.filter((function(e){return"Canceled"!==e.status&&"Declined"!==e.status&&"Finished"!==e.status}));n.setState({peopleInQueue:Object(xe.a)(n.state.peopleInQueue.concat(t))}),n.socketTestStart(),n.PeopleBeforeYou(),n.handleDoctorsStatus()})).catch((function(e){console.log(e.response)}));case 2:case"end":return a.stop()}}))},n.PeopleBeforeYou=function(){if(0!==n.state.peopleInQueue.length){var e=n.state.peopleInQueue.map((function(e){return e.id})).indexOf(n.state.currentClient.id);n.setState({YourNumber:e})}},n.socketTestStart=function(){n.state.currentClient&&(Ka.onopen=function(){console.log("connected"),n.setState({connection:Ka}),Ka.send(JSON.stringify({id:n.state.currentClient.id,connectedClient:!0}))}),Ka.onmessage=function(e){var t=JSON.parse(e.data);null!==JSON.parse(t.text)&&JSON.parse(t.text).status?"Finished"!==JSON.parse(t.text).status&&"Declined"!==JSON.parse(t.text).status||window.location.reload():n.state.doctorsVideoId||parseInt(JSON.parse(t.text).id)||"undefined"===t.text?JSON.parse(t.text)&&(parseInt(JSON.parse(t.text).id)===n.state.currentClient.id&&JSON.parse(t.text).connectedDoctor?Ka.send(JSON.stringify({id:n.state.currentClient.id,connectedClient:!0})):"Cancel Video From Doctor"===JSON.parse(t.text)?(n.handleDivClose(),window.location.reload()):"doctor is started video"===JSON.parse(t.text)&&n.setState({doctorStartedVideo:!0})):(n.setState({doctorsVideoId:t.text}),n.socketStart())}},n.specialitiesOfDoctors=function(){he.a.get("http://healthcarebackend.xyz/api/specialities/").then((function(e){var t=e.data.data.map((function(e){return{value:e.id,iD:e.speciality_id,label:e.name,status:e.status}}));n.setState({specialities:t})}))},n.allDoctors=function(){he.a.get("http://healthcarebackend.xyz/api/doctor/list/").then((function(e){console.log(e,"response");var t=e.data.data.map((function(e){return{value:e.id,iD:e.id,label:e.doctor,spec:e.speciality,price:e.web_exam_follow_price,currency:e.web_follow_up_currency,status:e.status}}));n.setState({doctors:t})}))},n.handleDoctorsStatus=function(){n.state.peopleInQueue.forEach((function(e){e.client_id===n.state.client_id&&n.state.doctors.filter((function(t){return t.iD===e.doctor})).map((function(e){return"Available"!==e.status&&(n.setState({credits:!1}),n.handleExitQueue(),ce.NotificationManager.warning("Doctor is not Available at the moment","Warning!",4e3)),null}))}))},n.socketStart=function(){return navigator.webkitGetUserMedia({video:n.state.video,audio:n.state.audio},(function(e){var t=new(a(90))({trickle:!1,stream:e});if(t.on("signal",(function(e){var t=JSON.stringify(e);Ka.send(t)})),document.getElementById("StartVideo").addEventListener("click",(function(){t.signal(n.state.doctorsVideoId),Ka.send(JSON.stringify({id:n.state.currentClient.id,startingVideo:!0})),l.enabled=!l.enabled,c.enabled=!c.enabled})),null!==n.state.doctorsVideoId)var s=setInterval((function(){return Ka.send(JSON.stringify({id:n.state.currentClient.id,startingVideo:!0})),clearInterval(s),t.signal(n.state.doctorsVideoId)}),500);document.getElementById("send").addEventListener("click",(function(){var e=document.getElementById("yourMessage").value;t.send(e)})),Ka.onclose=function(){console.error("disconnected"),window.location.reload()},Ka.onerror=function(e){console.error("failed to connect",e)},document.querySelector("form").addEventListener("submit",(function(e){e.preventDefault();var t=document.querySelector("#yourMessage").value;Ka.send(t),document.getElementById("messages").innerHTML+="<p style='color: #666666 ;margin: 5px auto 5px 0;display: table; white-space: initial ; background: #e6e6e6; padding: 5px 10px 0 0; border-radius: 10px'><span>Client:</span>".concat(t,"</p>"),n.setState({value:""});var a=document.getElementById("messages");a.scrollTop=a.scrollHeight})),t.on("data",(function(e){document.getElementById("messages").innerHTML+="<p style='color: #666666 ; margin: 5px 0 5px auto; background: #e6e6e6 ;display: table; white-space: initial; padding: 5px 10px 0 0; border-radius: 10px'><span>Doctor:</span>".concat(e,"</p>");var t=document.getElementById("messages");t.scrollTop=t.scrollHeight}));var l=e.getAudioTracks()[0],c=e.getVideoTracks()[0];l.enabled=!l.enabled,c.enabled=!c.enabled,document.querySelector(".iconMic").addEventListener("click",(function(){l.enabled=!l.enabled})),document.querySelector(".iconVideo").addEventListener("click",(function(){c.enabled=!c.enabled})),document.querySelector(".iconMicUnmute").addEventListener("click",(function(){l.enabled=!l.enabled})),document.querySelector(".iconVideoShow").addEventListener("click",(function(){c.enabled=!c.enabled})),t.on("stream",(function(e){var t=new MediaStream(e),a=document.createElement("video");a.classList.add("vid"),document.getElementById("videoChat").appendChild(a),a.srcObject=t,a.play()})),t.on("close",(function(){n.handleDivClose(),window.location.reload()})),document.querySelector(".iconPhone").addEventListener("click",(function(){Ka.send(JSON.stringify("Cancel Video From Client")),n.handleDivClose(),window.location.reload()}))}),(function(e){console.error(e)}))},n.handleChange=function(e){n.setState({value:e.target.value})},n.handleMessage=function(e){n.setState({notes:e.target.value})},n.enableTipeing=function(e){e.stopPropagation()},n.iconsMouseOver=function(){n.setState({hover:!0})},n.iconsMouseOut=function(){n.setState({hover:!1})},n.handleDragDrop=function(e){n.setState({x:e.x,y:e.y})},n.handleResize=function(e,t){var a=document.getElementById("videoo");n.setState(Object(kt.a)({width:a.style.width,height:a.style.height},e))},n.showAndHideChat=function(){n.setState({showChat:!n.state.showChat})},n.handleDivSize=function(){n.setState({width:window.screen.width,height:window.screen.height,x:-320,y:-100}),document.fullscreenElement?document.exitFullscreen&&(document.exitFullscreen(),n.setState({width:700,height:500})):document.documentElement.requestFullscreen()},n.handleDivClose=function(){n.setState({startVideo:!1})},n.cutMic=function(){n.setState({audio:!n.state.audio})},n.cutVideo=function(){n.setState({video:!n.state.video})},n.showExtendScreenIcon=function(){n.setState({showExtendScreen:!n.state.showExtendScreen})},n.state={specialities:[],doctors:[],subject:"",submitted:!1,price:null,doctor_id:null,client_id:"",doctorsStatus:"",token:sessionStorage.getItem("accessToken"),specDoctor:[],specialSP:[],resetDoctorSelect:null,isClicked:!1,credits:!1,attachment:null,currentClient:"",peopleInQueue:[],YourNumber:null,doctorsVideoId:null,startVideo:!1,value:"",width:700,height:500,x:0,y:0,hover:!1,showChat:!1,video:!0,audio:!0,notes:"",connection:"",doctorStartedVideo:!1,showExtendScreen:!1},n}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentWillUnmount",value:function(){this._isMounted=!1,Ka.close()}},{key:"componentDidMount",value:function(){var e=this;this._isMounted=!0;var t=setInterval((function(){!e.state.connection&&e.state.currentClient&&window.location.reload(),clearInterval(t)}),15e3);Za.onopen=function(){console.log("connected to the doctor status socket")},Za.onmessage=function(t){var a=e.state.doctors.filter((function(e){return e.iD===JSON.parse(t.data).id}));Object.assign(a[0],{status:JSON.parse(t.data).status})},this.handleClientProfile(),this.specialitiesOfDoctors(),this.allDoctors()}},{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"header"},s.a.createElement("div",null,s.a.createElement(ne,{exitQueue:this.exitQueue}),s.a.createElement(ge,null))),s.a.createElement(mt,null),s.a.createElement(Qa,{handleSpeciality:this.handleSpeciality,handleDoctor:this.handleDoctor,handleSubject:this.handleSubject,handleSubmit:this.handleSubmit,handleExitQueue:this.handleExitQueue,handleVideoStart:this.handleVideoStart,props:this.state,handleChange:this.handleChange,enableTipeing:this.enableTipeing,iconsMouseOut:this.iconsMouseOut,iconsMouseOver:this.iconsMouseOver,handleDragDrop:this.handleDragDrop,handleResize:this.handleResize,showAndHideChat:this.showAndHideChat,handleDivSize:this.handleDivSize,cutMic:this.cutMic,cutVideo:this.cutVideo,handleMessage:this.handleMessage,showExtendScreenIcon:this.showExtendScreenIcon}))}}]),t}(n.Component),$a=Object(h.b)((function(e){return{doctor:e.getIn(["doctorReducer","doctor"]),price:e.price}}))(Xa),en=a(487),tn=a(177),an=a(483),nn=a(484),sn=a(485),ln=a(486),cn=a(488),rn=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(d.a)(t).call(this,e))).peopleVideoPending=function(){var e;return le.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return e="Bearer ".concat(a.state.token),t.next=3,le.a.awrap(he.a.get("http://healthcarebackend.xyz/api/exams/doctor/",{headers:{Authorization:e}}).then((function(e){console.log(e.data.data);var t=e.data.data.video.filter((function(e){return"Appointed"===e.status})).map((function(e){return{client:e.client,startTime:e.appointed_date,endTime:Le()(e.appointed_date).add(30,"minutes").format("YYYY-MM-DD HH:mm"),id:e.id}}));a.setState({exams:Object(xe.a)(a.state.exams.concat(t))})})).catch((function(e){console.log(e)})));case 3:case"end":return t.stop()}}))},a.state={token:sessionStorage.getItem("accessToken"),exams:[]},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.peopleVideoPending()}},{key:"render",value:function(){return console.log(this.state.exams),s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"header"},s.a.createElement("div",null,s.a.createElement(ne,null),s.a.createElement(ge,null))),s.a.createElement(mt,null),s.a.createElement("div",{style:{width:"65%",margin:"100px auto 58px auto"}},s.a.createElement(en.a,{currentView:"Day",workHours:{highlight:!0,start:"09:00",end:"17:00"},selectedDate:new Date,eventSettings:{dataSource:this.state.exams,fields:{id:"id",subject:{name:"client"},startTime:{name:"startTime"},endTime:{name:"endTime"}}}},s.a.createElement(tn.b,{services:[an.a,nn.a,sn.a,ln.a,cn.a]}))))}}]),t}(n.Component),on=(a(417),function(e){var t=e.props,a=e.handleClick;return t.exams.map((function(e){return t.mail.includes(e.id)&&"mail"===e.exam_type?Object.assign(e,{isRead:!0}):Object.assign(e,{isRead:!1})})),s.a.createElement("div",{className:"mainEmailList"},s.a.createElement("div",{className:"iconEmail"},s.a.createElement("img",{src:xt.a,alt:"email"}),s.a.createElement("p",null,"Email request")," "),t.loading?s.a.createElement("img",{src:T.a,alt:"loading",className:"loading"}):s.a.createElement("div",{className:"tableDiv"},s.a.createElement("table",{className:"table2"},s.a.createElement("thead",{className:"client-head"},s.a.createElement("tr",{className:"client-row"},s.a.createElement("th",{className:"client-doctor"},s.a.createElement("div",{className:"mainExamDiv"},s.a.createElement("span",{className:"examTypetext"},"Client"," "))),s.a.createElement("th",{className:"client-subject"},"Subject"),s.a.createElement("th",{className:"client-date"},"Date"))),""===t.messageOnScreen&&t.exams.map((function(e,t){return s.a.createElement("tbody",{key:t,className:"client-body"},s.a.createElement("tr",{className:"list-group",style:{fontWeight:e.isRead&&700},onClick:function(){return a(e.id,e.exam_type)}},s.a.createElement("td",{className:"client-doctor"},e.client),s.a.createElement("td",{className:"client-subject"},"Subject: ",e.subject),s.a.createElement("td",{className:"created"},e.created&&!e.appointed_date?s.a.createElement("p",null," ",Le()(e.created).format("MM/DD/YYYY")):e.appointed_date?s.a.createElement("p",null," ",Le()(e.appointed_date).format("MM/DD/YYYY HH:mm")):null)))})))))}),dn=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(d.a)(t).call(this,e))).paginatedExams=function(){var e;return le.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:e="Bearer ".concat(a.state.token),he.a.get("http://healthcarebackend.xyz/api/exams/doctor/",{headers:{Authorization:e}}).then((function(e){0!==e.data.data.mail.length?a.setState({exams:e.data.data.mail,loading:!1}):a.setState({messageOnScreen:"No Email",loading:!1})})).catch((function(e){console.log(e.response,"error"),a.setState({loading:!1})}));case 2:case"end":return t.stop()}}))},a.handleClick=function(e,t){"mail"===t&&a.props.history.push("/doctor/exam/detail/".concat(e))},a.getUnreadMessages=function(e){var t;return le.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:t="Bearer ".concat(a.state.token),he.a.get("http://healthcarebackend.xyz/api/exams/doctor/".concat(e,"/"),{headers:{Authorization:t}}).then((function(e){console.log(e,"response");var t=e.data.data.filter((function(e){return 0!==e.messages.length?e.messages[e.messages.length-1].sender!=="".concat(a.state.doctorCurent.prefix," ").concat(a.state.doctorCurent.doctor):e}));console.log(t,"od nzm ni ja");var n=t.map((function(e){return e.exam.id}));a.setState({mail:n})})).catch((function(e){console.log(e.response)}));case 2:case"end":return n.stop()}}))},a.handleDoctorProfile=function(){var e;return le.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:e="Bearer ".concat(a.state.token),he.a.get("http://healthcarebackend.xyz/api/doctor/profile/",{headers:{Authorization:e}}).then((function(e){var t=e.data.data;a.setState({doctorCurent:t}),a.paginatedExams(),a.getUnreadMessages(a.state.doctorCurent.id)}));case 2:case"end":return t.stop()}}))},a.state={exams:[],loading:!0,messageOnScreen:"",token:sessionStorage.getItem("accessToken"),mail:[],doctorCurent:""},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.handleDoctorProfile()}},{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"header"},s.a.createElement("div",null,s.a.createElement(ne,null),s.a.createElement(ge,null))),s.a.createElement(ut,null),s.a.createElement(on,{props:this.state,handleClick:this.handleClick}))}}]),t}(n.Component),mn=Object(h.b)((function(e){return{doctor:e.getIn(["docReducer","doctor"])}}))(dn),un=(a(418),function(e){var t=e.props,a=e.handleClick;return s.a.createElement("div",{className:"mainEmailList"},s.a.createElement("div",{className:"iconEmail"},s.a.createElement("img",{src:ia.a,alt:"email"}),s.a.createElement("p",null,"Video requests")," "),t.loading?s.a.createElement("img",{src:T.a,alt:"loading",className:"loading"}):s.a.createElement("div",{className:"tableDiv"},s.a.createElement("table",{className:"table2"},s.a.createElement("thead",{className:"client-head"},s.a.createElement("tr",{className:"client-row"},s.a.createElement("th",{className:"client-doctor"},s.a.createElement("div",{className:"mainExamDiv"},s.a.createElement("span",{className:"examTypetext"},"Client"," "))),s.a.createElement("th",{className:"client-subject"},"Subject"),s.a.createElement("th",{className:"client-date"},"Date"))),""===t.messageOnScreen&&t.exams.map((function(e,t){return s.a.createElement("tbody",{key:t,className:"client-body"},s.a.createElement("tr",{className:"list-group",style:{fontWeight:e.isRead&&700},onClick:function(){return a(e.id,e.exam_type)}},s.a.createElement("td",{className:"client-doctor"},e.client),s.a.createElement("td",{className:"client-subject"},"Subject: ",e.subject),s.a.createElement("td",{className:"created"},e.created&&!e.appointed_date?s.a.createElement("p",null," ",Le()(e.created).format("MM/DD/YYYY")):e.appointed_date?s.a.createElement("p",null," ",Le()(e.appointed_date).format("MM/DD/YYYY HH:mm")):null)))})))))}),pn=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(d.a)(t).call(this,e))).paginatedExams=function(){var e;return le.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:e="Bearer ".concat(a.state.token),he.a.get("http://healthcarebackend.xyz/api/exams/doctor/",{headers:{Authorization:e}}).then((function(e){0!==e.data.data.video.length?a.setState({exams:e.data.data.video,loading:!1}):a.setState({messageOnScreen:"No Video",loading:!1})})).catch((function(e){console.log(e.response,"error"),a.setState({loading:!1})}));case 2:case"end":return t.stop()}}))},a.handleClick=function(e,t){"video"===t&&a.props.history.push("/doctor/video/exam/detail/".concat(e,"/#init"))},a.state={exams:[],loading:!0,messageOnScreen:"",token:sessionStorage.getItem("accessToken")},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.paginatedExams()}},{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"header"},s.a.createElement("div",null,s.a.createElement(ne,null),s.a.createElement(ge,null))),s.a.createElement(ut,null),s.a.createElement(un,{props:this.state,handleClick:this.handleClick}))}}]),t}(n.Component),hn=(a(419),function(e){var t=e.props,a=e.handleClick;return s.a.createElement("div",{className:"mainEmailList"},s.a.createElement("div",{className:"iconEmail"},s.a.createElement("img",{src:ke.a,alt:"email"}),s.a.createElement("p",null,"Waiting room requests")," "),t.loading?s.a.createElement("img",{src:T.a,alt:"loading",className:"loading"}):s.a.createElement("div",{className:"tableDiv"},s.a.createElement("table",{className:"table2"},s.a.createElement("thead",{className:"client-head"},s.a.createElement("tr",{className:"client-row"},s.a.createElement("th",{className:"client-doctor"},s.a.createElement("div",{className:"mainExamDiv"},s.a.createElement("span",{className:"examTypetext"},"Client"," "))),s.a.createElement("th",{className:"client-subject"},"Subject"),s.a.createElement("th",{className:"client-date"},"Date"))),""===t.messageOnScreen&&t.exams.map((function(e,t){return s.a.createElement("tbody",{key:t,className:"client-body"},s.a.createElement("tr",{className:"list-group",style:{fontWeight:e.isRead&&700},onClick:function(){return a(e.id,e.exam_type)}},s.a.createElement("td",{className:"client-doctor"},e.client),s.a.createElement("td",{className:"client-subject"},"Subject: ",e.subject),s.a.createElement("td",{className:"created"},e.created&&!e.appointed_date?s.a.createElement("p",null," ",Le()(e.created).format("MM/DD/YYYY")):e.appointed_date?s.a.createElement("p",null," ",Le()(e.appointed_date).format("MM/DD/YYYY HH:mm")):null)))})))))}),gn=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(d.a)(t).call(this,e))).handleDoctorProfile=function(){var e;return le.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:e="Bearer ".concat(a.state.token),he.a.get("http://healthcarebackend.xyz/api/doctor/profile/",{headers:{Authorization:e}}).then((function(e){var t=e.data.data;a.peopleInWaitingRoom(t.id)}));case 2:case"end":return t.stop()}}))},a.peopleInWaitingRoom=function(e){var t;return le.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:t="Bearer ".concat(a.state.token),he.a.get("http://healthcarebackend.xyz/api/queue/today/".concat(e,"/"),{headers:{Authorization:t}}).then((function(e){console.log(e),a.setState({exams:e.data.data.queue,loading:!1})})).catch((function(e){console.log(e.response)}));case 2:case"end":return n.stop()}}))},a.handleClick=function(e,t){"queue"===t&&a.props.history.push("/doctor/processing/video/exam/".concat(e,"/#init"))},a.state={exams:[],loading:!0,messageOnScreen:"",token:sessionStorage.getItem("accessToken")},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.handleDoctorProfile()}},{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"header"},s.a.createElement("div",null,s.a.createElement(ne,null),s.a.createElement(ge,null))),s.a.createElement(ut,null),s.a.createElement(hn,{props:this.state,handleClick:this.handleClick}))}}]),t}(n.Component),fn=a(140),En=function(e){var t=e.component,a=Object(fn.a)(e,["component"]);return s.a.createElement(te.b,Object.assign({},a,{render:function(e){return sessionStorage.getItem("accessToken")&&"false"===sessionStorage.getItem("is_doctor")?s.a.createElement(t,e):s.a.createElement(te.a,{to:{pathname:"/login",state:{from:e.location}}})}}))},vn=function(e){var t=e.component,a=Object(fn.a)(e,["component"]);return s.a.createElement(te.b,Object.assign({},a,{render:function(e){return sessionStorage.getItem("accessToken")&&"true"===sessionStorage.getItem("is_doctor")?s.a.createElement(t,e):s.a.createElement(te.a,{to:{pathname:"/login",state:{from:e.location}}})}}))},bn=a(76),yn=a.n(bn);a(420);var xn=function(e){var t=e.props,a=e.handleImage,n=e.userLogin,l=e.handleChange;return s.a.createElement("div",{className:"mainSettings"},s.a.createElement("div",{className:"iconVideo"},s.a.createElement("img",{src:yn.a,alt:"img"}),s.a.createElement("p",null,"Settings")," "),s.a.createElement("div",{className:"doctor"},s.a.createElement("label",{htmlFor:"Email"},"John"),s.a.createElement("input",{id:"Email",placeholder:"Email",value:t.Email,onChange:l,autoComplete:"off",type:"text"}),s.a.createElement("label",{htmlFor:"Password"},"Password"),s.a.createElement("div",{className:"imageAndInputDiv"},s.a.createElement("input",{id:"Password",value:t.Password,onChange:l,autoComplete:"off",type:t.seePass?"text":"password"}),s.a.createElement("img",{onClick:a,src:t.seePass?Dt.a:jt.a,alt:"img"})),s.a.createElement("button",{onClick:n},"Update")))},Nn=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(d.a)(t).call(this,e))).handleImage=function(){a.setState({seePass:!a.state.seePass})},a.handleChange=function(e){a.setState(Object(_t.a)({},e.target.id,e.target.value))},a.userLogin=function(){var e,t;return le.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,le.a.awrap(fetch("http://healthcarebackend.xyz/api/auth/login/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:a.state.Email,password:a.state.Password})}));case 2:return e=n.sent,n.next=5,le.a.awrap(e.json());case 5:t=n.sent,console.log(t),t.password?ce.NotificationManager.error("".concat(t.password[0]),"Failed!",3e3):t.email?ce.NotificationManager.error("".concat(t.email[0]),"Failed!",3e3):!1===t.success?ce.NotificationManager.error("Invalid credentials","Failed!",3e3):!0===t.success&&a.props.history.push({pathname:"/doctors-update",state:{detail:"doctor found"}});case 8:case"end":return n.stop()}}))},a.state={seePass:!1,Email:"",Password:""},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return console.log(this.state.Password),s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"header"},s.a.createElement("div",null,s.a.createElement(ne,null),s.a.createElement(ge,null))),s.a.createElement(mt,null),s.a.createElement(xn,{props:this.state,handleImage:this.handleImage,userLogin:this.userLogin,handleChange:this.handleChange}))}}]),t}(n.Component);a(421);var Sn=function(e){var t=e.props,a=e.userLogin,n=e.handleChange,l=e.handleImage1,c=e.handleImage2;return s.a.createElement("div",{className:"mainUpdate"},s.a.createElement("div",{className:"iconVideo"},s.a.createElement("img",{src:yn.a,alt:"img"}),s.a.createElement("p",null,"Update account")," "),s.a.createElement("div",{className:"doctor"},s.a.createElement("label",{htmlFor:"Password"},"New Password"),s.a.createElement("div",null,s.a.createElement("input",{id:"NewPassword",type:t.seePass1?"text":"password",autoComplete:"off",value:t.NewPassword,onChange:n}),s.a.createElement("img",{onClick:l,src:t.seePass1?Dt.a:jt.a,alt:"img"})),s.a.createElement("label",{htmlFor:"Password"},"Confirm new Password"),s.a.createElement("div",null,s.a.createElement("input",{id:"ConfNewPassword",value:t.ConfNewPassword,autoComplete:"off",onChange:n,type:t.seePass2?"text":"password"}),s.a.createElement("img",{onClick:c,src:t.seePass2?Dt.a:jt.a,alt:"img"}))),s.a.createElement("button",{onClick:a},"Update"))},Cn=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(d.a)(t).call(this,e))).handleChange=function(e){a.setState(Object(_t.a)({},e.target.id,e.target.value))},a.handleImage1=function(){a.setState({seePass1:!a.state.seePass1})},a.handleImage2=function(){a.setState({seePass2:!a.state.seePass2})},a.userLogin=function(){var e,t,n;return le.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return e="Bearer ".concat(a.state.token),s.next=3,le.a.awrap(fetch("http://healthcarebackend.xyz/api/auth/password-change/",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:e},body:JSON.stringify({new_password:a.state.NewPassword,confirm_password:a.state.ConfNewPassword})}));case 3:return t=s.sent,s.next=6,le.a.awrap(t.json());case 6:n=s.sent,console.log(n),!1===n.success?ce.NotificationManager.error("".concat(n.error),"Failed!",2e3):!0===n.success&&(ce.NotificationManager.success("".concat(n.message),"Successful!",2e3),a.props.history.push("/doctors-settings"));case 9:case"end":return s.stop()}}))},a.state={NewPassword:"",ConfNewPassword:"",seePass1:!1,seePass2:!1,token:sessionStorage.getItem("accessToken")},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.props.location.state||this.props.history.push("/doctors-settings")}},{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"header"},s.a.createElement("div",null,s.a.createElement(ne,null),s.a.createElement(ge,null))),s.a.createElement(mt,null),s.a.createElement(Sn,{props:this.state,userLogin:this.userLogin,handleImage1:this.handleImage1,handleImage2:this.handleImage2,handleChange:this.handleChange}))}}]),t}(n.Component);a(422);var wn=function(e){var t=e.props,a=e.handleImage,n=e.userLogin,l=e.handleChange;return s.a.createElement("div",{className:"mainSettingsClient"},s.a.createElement("div",{className:"iconVideo"},s.a.createElement("img",{src:yn.a,alt:"img"}),s.a.createElement("p",null,"Settings")," "),s.a.createElement("div",{className:"doctor"},s.a.createElement("label",{htmlFor:"Email"},"John"),s.a.createElement("input",{id:"Email",placeholder:"Email",value:t.Email,autoComplete:"off",onChange:l,type:"text"}),s.a.createElement("label",{htmlFor:"Password"},"Password"),s.a.createElement("div",{className:"imageAndInputDiv"},s.a.createElement("input",{id:"Password",value:t.Password,onChange:l,autoComplete:"off",type:t.seePass?"text":"password"}),s.a.createElement("img",{onClick:a,src:t.seePass?Dt.a:jt.a,alt:"img"})),s.a.createElement("button",{onClick:n},"Update")))},kn=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(d.a)(t).call(this,e))).handleImage=function(){a.setState({seePass:!a.state.seePass})},a.handleChange=function(e){a.setState(Object(_t.a)({},e.target.id,e.target.value))},a.userLogin=function(){var e,t;return le.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,le.a.awrap(fetch("http://healthcarebackend.xyz/api/auth/login/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:a.state.Email,password:a.state.Password})}));case 2:return e=n.sent,n.next=5,le.a.awrap(e.json());case 5:t=n.sent,console.log(t),t.password?ce.NotificationManager.error("".concat(t.password[0]),"Failed!",3e3):t.email?ce.NotificationManager.error("".concat(t.email[0]),"Failed!",3e3):!1===t.success?ce.NotificationManager.error("Invalid credentials","Failed!",3e3):!0===t.success&&a.props.history.push({pathname:"/client-update",state:{detail:"client found"}});case 8:case"end":return n.stop()}}))},a.state={seePass:!1,Email:"",Password:""},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return console.log(this.state.Password),s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"header"},s.a.createElement("div",null,s.a.createElement(ne,null),s.a.createElement(ge,null))),s.a.createElement(mt,null),s.a.createElement(wn,{props:this.state,handleImage:this.handleImage,userLogin:this.userLogin,handleChange:this.handleChange}))}}]),t}(n.Component);a(423);var On=function(e){var t=e.props,a=e.userLogin,n=e.handleChange,l=e.handleImage1,c=e.handleImage2;return s.a.createElement("div",{className:"mainUpdateClient"},s.a.createElement("div",{className:"iconVideo"},s.a.createElement("img",{src:yn.a,alt:"img"}),s.a.createElement("p",null,"Update account")," "),s.a.createElement("div",{className:"doctor"},s.a.createElement("label",{htmlFor:"Password"},"New Password"),s.a.createElement("div",null,s.a.createElement("input",{id:"NewPassword",value:t.NewPassword,autoComplete:"off",onChange:n,type:t.seePass1?"text":"password"}),s.a.createElement("img",{onClick:l,src:t.seePass1?Dt.a:jt.a,alt:"img"})),s.a.createElement("label",{htmlFor:"Password"},"Confirm new Password"),s.a.createElement("div",null,s.a.createElement("input",{id:"ConfNewPassword",value:t.ConfNewPassword,autoComplete:"off",onChange:n,type:t.seePass2?"text":"password"}),s.a.createElement("img",{onClick:c,src:t.seePass2?Dt.a:jt.a,alt:"img"}))),s.a.createElement("button",{onClick:a},"Update"))},Dn=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(d.a)(t).call(this,e))).handleImage1=function(){a.setState({seePass1:!a.state.seePass1})},a.handleImage2=function(){a.setState({seePass2:!a.state.seePass2})},a.handleChange=function(e){a.setState(Object(_t.a)({},e.target.id,e.target.value))},a.userLogin=function(){var e,t,n;return le.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return e="Bearer ".concat(a.state.token),s.next=3,le.a.awrap(fetch("http://healthcarebackend.xyz/api/auth/password-change/",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:e},body:JSON.stringify({new_password:a.state.NewPassword,confirm_password:a.state.ConfNewPassword})}));case 3:return t=s.sent,s.next=6,le.a.awrap(t.json());case 6:n=s.sent,console.log(n),!1===n.success?ce.NotificationManager.error("".concat(n.error),"Failed!",2e3):!0===n.success&&(ce.NotificationManager.success("".concat(n.message),"Successful!",2e3),a.props.history.push("/client-settings"));case 9:case"end":return s.stop()}}))},a.state={seePass1:!1,seePass2:!1,NewPassword:"",ConfNewPassword:"",token:sessionStorage.getItem("accessToken")},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.props.location.state||this.props.history.push("/client-settings")}},{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"header"},s.a.createElement("div",null,s.a.createElement(ne,null),s.a.createElement(ge,null))),s.a.createElement(mt,null),s.a.createElement(On,{props:this.state,userLogin:this.userLogin,handleImage1:this.handleImage1,handleImage2:this.handleImage2,handleChange:this.handleChange}))}}]),t}(n.Component),Pn=a(255),jn=a.n(Pn);a(424);var In=function(e){var t=e.handleClient,a=e.props,n=e.handleSort,l=e.handleSortBySpec;return s.a.createElement("div",{className:"mainDoctorsDiv"},s.a.createElement("div",{className:"doctorsAbove"},s.a.createElement("img",{src:jn.a,alt:"my patients"}),s.a.createElement("h4",null,"Doctors")),s.a.createElement("div",{className:"doctorsDiv"},s.a.createElement("label",null,"Speciality:"," ",s.a.createElement("select",{onChange:l},s.a.createElement("option",{value:""},"Choose"),a.speciality.map((function(e,t){return s.a.createElement("option",{value:e,key:t},e)})))),s.a.createElement("label",null,"Sort by:"," ",s.a.createElement("select",{onClick:n},s.a.createElement("option",{value:""},"Sort it..."),s.a.createElement("option",{value:"nameAZ"},"Name: A-Z"),s.a.createElement("option",{value:"nameZA"},"Name: Z-A")))),s.a.createElement("div",{className:"row2"},a.filteredByspec.map((function(e){return null===e.id?null:s.a.createElement("div",{key:e.id,className:"list-group"},s.a.createElement("button",{"data-id":e.id,className:"list-group-item",onClick:function(){return t(e.id)}},e.doctor,s.a.createElement("img",{src:"/media/default.jpg"===e.image?Kt.a:"http://healthcarebackend.xyz".concat(e.image),alt:"cliet profile"})))}))))},Mn=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(d.a)(t).call(this,e))).handleClient=function(e){a.props.history.push("/client/Doctor-detail/".concat(e))},a.handleSort=function(e){if("nameAZ"===e.target.value){var t=a.state.filteredByspec.sort((function(e,t){return e.doctor>t.doctor?1:e.doctor<t.doctor?-1:0}));a.setState({filteredByspec:t})}else if("nameZA"===e.target.value){var n=a.state.filteredByspec.sort((function(e,t){return e.doctor>t.doctor?-1:e.doctor<t.doctor?1:0}));a.setState({filteredByspec:n})}},a.handleSortBySpec=function(e){console.log(e.target.value);var t=a.state.doctors.filter((function(t){return t.speciality===e.target.value}));a.setState({filteredByspec:t})},a.doctors=function(){var e="Bearer ".concat(a.state.token);he.a.get("http://healthcarebackend.xyz/api/doctor/list/",{headers:{Authorization:e}}).then((function(e){console.log(e);var t=e.data.data.map((function(e){return e.speciality})).filter((function(e,t,a){return a.indexOf(e)===t}));a.setState({doctors:e.data.data,filteredByspec:e.data.data,speciality:t})}))},a.state={doctors:[],speciality:[],filteredByspec:[],token:sessionStorage.getItem("accessToken")},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.doctors()}},{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"header"},s.a.createElement("div",null,s.a.createElement(ne,null),s.a.createElement(ge,null))),s.a.createElement(mt,null),s.a.createElement(In,{props:this.state,handleClient:this.handleClient,handleSort:this.handleSort,handleSortBySpec:this.handleSortBySpec}))}}]),t}(n.Component);a(425);var _n=function(e){e.handleClient;var t=e.doctor,a=(e.handleSort,e.props);console.log(t);var l=60*Number(a.startW.split(":")[0])*60*1e3+60*Number(a.startW.split(":")[1])*1e3,c=60*Number(a.endW.split(":")[0])*60*1e3+60*Number(a.endW.split(":")[1])*1e3;return s.a.createElement("div",{className:"mainDoctorDiv"},s.a.createElement("div",{className:"doctorsAbove"},s.a.createElement("img",{src:Kt.a,alt:"my patients"}),s.a.createElement("h4",null,"Doctor details")),s.a.createElement("div",{className:"row2"},t.map((function(e){return console.log(e),s.a.createElement(n.Fragment,{key:e.id},s.a.createElement("div",{className:"mainDoctorInfoDiv"},s.a.createElement("div",null,s.a.createElement("p",null,s.a.createElement("span",null,"Pricing: "),e.pricing),s.a.createElement("p",null,s.a.createElement("span",null,"Email visit: "),e.email_exam_price," ",e.email_currency),s.a.createElement("p",null,s.a.createElement("span",null,"Video: "),e.web_exam_price," ",e.web_currency),s.a.createElement("p",null,s.a.createElement("span",null,"Video follow up: "),e.web_exam_follow_price," ",e.web_follow_up_currency),s.a.createElement("p",null,s.a.createElement("span",null,"Working Hours: ")," "),s.a.createElement("p",null,s.a.createElement("span",null,"Mon-Fri: "),Le()(l).subtract(1,"hour").format("HH:mm A")," ","- "," ",Le()(c).subtract(1,"hour").format("HH:mm A"))),s.a.createElement("div",null,s.a.createElement("p",null,s.a.createElement("span",null,"First Name: "),e.doctor.split(" ")[0]),s.a.createElement("p",null,s.a.createElement("span",null,"Last Name: "),e.doctor.split(" ")[1]),s.a.createElement("p",null,s.a.createElement("span",null,"Speciality: "),e.speciality),s.a.createElement("p",null,s.a.createElement("span",null,"Phone number: "),e.phone),s.a.createElement("p",null,s.a.createElement("span",null,"E-mail: "),e.email)),s.a.createElement("div",{className:"imageDiv"},"/media/default.jpg"!==e.image?s.a.createElement("img",{src:"http://healthcarebackend.xyz".concat(e.image),alt:"pic"}):s.a.createElement("p",null,"+"))),s.a.createElement("div",{className:"BiographyDiv"},s.a.createElement("p",{className:"pForBio"},"Biography"),s.a.createElement("textarea",{disabled:!0,placeholder:e.biography})))}))))},An=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(d.a)(t).call(this,e))).doctor=function(e){var t="Bearer ".concat(a.state.token);he.a.get("http://healthcarebackend.xyz/api/client/doc/".concat(e,"/"),{headers:{Authorization:t}}).then((function(e){console.log(e.data.data);var t=e.data.data.start_hour?e.data.data.start_hour.slice(0,-3):"",n=e.data.data.end_hour?e.data.data.end_hour.slice(0,-3):"";a.setState({doctor:[e.data.data],startW:t,endW:n})}))},a.state={doctor:[],startW:"",endW:"",token:sessionStorage.getItem("accessToken")},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params.id;this.doctor(e)}},{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"header"},s.a.createElement("div",null,s.a.createElement(ne,null),s.a.createElement(ge,null))),s.a.createElement(mt,null),s.a.createElement(_n,{doctor:this.state.doctor,props:this.state}))}}]),t}(n.Component),Fn={width:"37%",margin:"120px auto 0px auto",height:"500px",backgroundColor:"#f2f2f2",borderRadius:"15px",position:"relative",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",padding:"10px"},Tn={color:"#00aff0",marginBottom:"30px"},Vn={position:"absolute",width:"110px",right:"-30px",top:"-25px"},Rn=function(e){function t(){return Object(r.a)(this,t),Object(o.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{style:Fn},s.a.createElement("img",{src:T.a,style:Vn,alt:"cLogo"}),s.a.createElement("h1",{style:Tn},"Verification Email sent"),s.a.createElement("h5",{style:{color:"#00aff0"}},"Click on the link in your verification email to complete registration"))}}]),t}(n.Component),Bn=a(174),Yn=a(256),zn=a.n(Yn),Ln=a(90),Un=a.n(Ln),Wn=a(175);function qn(){var e=Object(Bn.a)(["\n  height: 300px;\n"]);return qn=function(){return e},e}function Hn(){var e=Object(Bn.a)(["\n  padding: 20px;\n  display: flex;\n  height: 100vh;\n  width: 90%;\n  margin: auto;\n  flex-wrap: wrap;\n"]);return Hn=function(){return e},e}var Jn=a(257).detectDevice();Jn?console.log("detected handler: %s",Jn):console.warn("no suitable handler found for current browser/device");var Gn=Wn.a.div(Hn()),Qn=Wn.a.video(qn()),Zn=function(e){var t=Object(n.useRef)();return Object(n.useEffect)((function(){e.peer.on("stream",(function(e){t.current.srcObject=e}))}),[]),s.a.createElement(Qn,{playsInline:!0,autoPlay:!0,ref:t})},Kn={height:window.innerHeight/2,width:window.innerWidth/2},Xn=function(e){var t=Object(n.useState)([]),a=Object(Z.a)(t,2),l=a[0],c=a[1],r=Object(n.useState)(!1),i=Object(Z.a)(r,2),o=i[0],d=i[1],m=Object(n.useRef)(),u=Object(n.useRef)(),p=Object(n.useRef)([]),h=e.match.params.roomID;return Object(n.useEffect)((function(){m.current=zn.a.connect("ws://localhost:3000"),navigator.mediaDevices.getUserMedia({video:Kn,audio:!0}).then((function(e){u.current.srcObject=e,m.current.emit("join room",h),m.current.on("all users",(function(t){var a=[];t.forEach((function(t){var n=function(e,t,a){var n=new Un.a({initiator:!0,trickle:!1,stream:a});return n.on("signal",(function(a){m.current.emit("sending signal",{userToSignal:e,callerID:t,signal:a})})),n}(t,m.current.id,e);p.current.push({peerID:t,peer:n}),a.push(n)})),c(a)})),m.current.on("user joined",(function(t){var a=function(e,t,a){var n=new Un.a({initiator:!1,trickle:!1,stream:a});return n.on("signal",(function(e){m.current.emit("returning signal",{signal:e,callerID:t})})),n.signal(e),n}(t.signal,t.callerID,e);p.current.push({peerID:t.callerID,peer:a}),c((function(e){return[].concat(Object(xe.a)(e),[a])}))})),m.current.on("receiving returned signal",(function(e){p.current.find((function(t){return t.peerID===e.id})).peer.signal(e.signal)}));var t=e.getAudioTracks()[0],a=e.getVideoTracks()[0];document.querySelector(".iconMic").addEventListener("click",(function(){t.enabled=!t.enabled})),document.querySelector(".iconVideo").addEventListener("click",(function(){a.enabled=!a.enabled}))})),document.querySelector(".iconPhone").addEventListener("click",(function(){window.close()}))}),[]),console.log(l),s.a.createElement(Gn,null,s.a.createElement("div",{style:{position:"relative",width:"50%",height:"300px"},onMouseOver:function(){d(!0)},onMouseOut:function(){d(!1)}},s.a.createElement(Qn,{muted:!0,ref:u,autoPlay:!0,playsInline:!0}),s.a.createElement("div",{style:{display:o?"flex":"none",position:"absolute",zIndex:"5",width:"100%",top:"80%",justifyContent:"space-around"}},s.a.createElement("button",{style:{fontSize:"40px",width:"50px",height:"50px",color:"white",borderRadius:"50%",background:"transparent",border:"1px solid white"},className:"iconMic"},s.a.createElement(fe.e,null)),s.a.createElement("button",{style:{fontSize:"40px",width:"50px",color:"white",border:"1px solid white",height:"50px",borderRadius:"50%",background:"transparent"},className:"iconPhone"},s.a.createElement(fe.g,null)),s.a.createElement("button",{style:{fontSize:"40px",width:"50px",color:"white",border:"1px solid white",height:"50px",borderRadius:"50%",background:"transparent"},className:"iconVideo"},s.a.createElement(fe.i,null)))),l.map((function(e,t){if(e.readable)return s.a.createElement(Zn,{key:t,peer:e})})))},$n=function(e){function t(){return Object(r.a)(this,t),Object(o.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement(te.d,null),s.a.createElement(te.b,{path:"/",exact:!0,component:ye}),s.a.createElement(te.b,{path:"/register",exact:!0,component:Mt}),s.a.createElement(te.b,{path:"/login",exact:!0,component:Tt}),s.a.createElement(te.b,{path:"/logout",exact:!0,component:Rt}),s.a.createElement(te.b,{path:"/forgot-password",exact:!0,component:za}),s.a.createElement(te.b,{path:"/Verification",exact:!0,component:Rn}),s.a.createElement(te.b,{path:"/api/auth/reset-confirm/:id/",exact:!0,component:Ua}),s.a.createElement(te.b,{path:"/room/:roomID",exact:!0,component:Xn}),s.a.createElement(te.b,{path:"/api/auth/activate/:id/",exact:!0,component:Wa}),s.a.createElement(En,{exact:!0,path:"/dashboard-client",component:ht}),s.a.createElement(En,{path:"/client/doc/:id",exact:!0,component:aa}),s.a.createElement(En,{path:"/client/waiting-room",exact:!0,component:$a}),s.a.createElement(En,{path:"/client/profile",exact:!0,component:ca}),s.a.createElement(En,{path:"/client/exam/detail/:id",exact:!0,component:Ba}),s.a.createElement(En,{path:"/client/video/exam/detail/:id",exact:!0,component:Fa}),s.a.createElement(En,{path:"/client/queue/exam/detail/:id",exact:!0,component:Va}),s.a.createElement(En,{path:"/client-update",exact:!0,component:Dn}),s.a.createElement(En,{path:"/client-settings",exact:!0,component:kn}),s.a.createElement(En,{path:"/client/video-request",exact:!0,component:_a}),s.a.createElement(En,{path:"/client/Doctor-list",exact:!0,component:Mn}),s.a.createElement(En,{path:"/client/Doctor-detail/:id/",exact:!0,component:An}),s.a.createElement(En,{path:"/initiate",exact:!0,component:Lt}),s.a.createElement(y.Elements,null,s.a.createElement(En,{path:"/checkout",exact:!0,component:Qt})),s.a.createElement(vn,{path:"/dashboard-doctor",exact:!0,component:vt}),s.a.createElement(vn,{path:"/doctor/calendar",exact:!0,component:rn}),s.a.createElement(vn,{path:"/doctor/exam/detail/:id",exact:!0,component:wt}),s.a.createElement(vn,{path:"/doctor/video/exam/detail/:id",exact:!0,component:da}),s.a.createElement(vn,{path:"/doctor/profile/",exact:!0,component:ea}),s.a.createElement(vn,{path:"/doctor/record/:id",exact:!0,component:Da}),s.a.createElement(vn,{path:"/doctor/processing/video/exam/:id",exact:!0,component:ka}),s.a.createElement(vn,{path:"/doctors-clients",exact:!0,component:Ga}),s.a.createElement(vn,{path:"/doctors-email-list",exact:!0,component:mn}),s.a.createElement(vn,{path:"/doctors-video-list",exact:!0,component:pn}),s.a.createElement(vn,{path:"/doctors-queue-list",exact:!0,component:gn}),s.a.createElement(vn,{path:"/doctors-settings",exact:!0,component:Nn}),s.a.createElement(vn,{path:"/doctors-update",exact:!0,component:Cn}),s.a.createElement(ce.NotificationContainer,null),s.a.createElement(te.d,null))}}]),t}(n.Component),es=function(e){function t(e){var a;Object(r.a)(this,t),(a=Object(o.a)(this,Object(d.a)(t).call(this,e))).checkUser=function(){var e=sessionStorage.getItem("accessToken"),t=sessionStorage.getItem("expiresIn"),n=sessionStorage.getItem("is_doctor"),s=localStorage.getItem("refreshToken");e&&t&&s&&(a.store.dispatch(N({access_token:e,expires_in:t,refresh_token:s,is_doctor:n})),a.store.dispatch({type:"USERS_LOGIN_SUCCESS"}))};var n=Object(g.a)(),s=Object(p.createStore)(A,Object(x.composeWithDevTools)());return s.runSaga=n.run,a.sagaMiddleware=n,a.store=s,a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.checkUser()}},{key:"componentDidUpdate",value:function(){this.checkUser()}},{key:"render",value:function(){return s.a.createElement("div",{className:"App"},s.a.createElement(y.StripeProvider,{apiKey:"pk_test_EolntZ7skKXUqmWzbnpuo1zy00ZxWVnWf3"},s.a.createElement(h.a,{store:this.store},s.a.createElement(b,{sagaMiddleware:this.sagaMiddleware},s.a.createElement(u.a,null,s.a.createElement($n,null))))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(s.a.createElement(es,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},52:function(e,t,a){e.exports=a.p+"static/media/icon_Video_Appointment_blue.b17a9ed0.svg"},75:function(e,t,a){e.exports=a.p+"static/media/icon_Email_blue.8e0cffba.svg"},76:function(e,t,a){e.exports=a.p+"static/media/icon_settings_blue.0faddf97.svg"},81:function(e,t,a){e.exports=a.p+"static/media/icon_my_profile_client_blue_23px.ad8a7a0f.svg"},91:function(e,t,a){e.exports=a.p+"static/media/chek.10fe78df.svg"},92:function(e,t,a){e.exports=a.p+"static/media/icon_Log_Out_blue.9f680864.svg"},95:function(e,t,a){e.exports=a.p+"static/media/icon_my_profile_doctor_blue_23px.819e0994.svg"}},[[263,1,2]]]);
//# sourceMappingURL=main.9678068a.chunk.js.map