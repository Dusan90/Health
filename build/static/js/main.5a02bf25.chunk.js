(this.webpackJsonphealth_care_frontend=this.webpackJsonphealth_care_frontend||[]).push([[0],Array(26).concat([function(e,t,a){e.exports=a.p+"static/media/c+.05f01871.svg"},,,,,,,,,,,,,,,,,,function(e,t,a){e.exports=a.p+"static/media/icon_Waiting_Room_blue.b6c3c38d.svg"},,function(e,t,a){e.exports=a.p+"static/media/password-seen.e75cc9c1.svg"},function(e,t,a){e.exports=a.p+"static/media/password-hidden.cdfbae48.svg"},,,,,,,function(e,t,a){e.exports=a.p+"static/media/attach_white.be8e0e2e.svg"},,,,function(e,t,a){e.exports=a.p+"static/media/chek.10fe78df.svg"},function(e,t,a){e.exports=a.p+"static/media/icon_Log_Out_blue.9f680864.svg"},,,,,,,,,,,,,,,function(e,t,a){e.exports=a.p+"static/media/client_picture.2212c30d.svg"},,,,,,,,,,,,,,,,function(e,t,a){e.exports=a.p+"static/media/icon_Video_Appointment_blue.b17a9ed0.svg"},,,,,,,,,,,,,,,,,,function(e,t,a){e.exports=a.p+"static/media/icon_Email_blue.8e0cffba.svg"},,,,,function(e,t,a){},,,,function(e,t,a){e.exports=a.p+"static/media/icon_settings_blue.0faddf97.svg"},,,,,,,function(e,t,a){e.exports=a.p+"static/media/enter-waiting-room.1845ce47.svg"},function(e,t,a){e.exports=a.p+"static/media/Make-a-video.e536e4eb.svg"},function(e,t,a){e.exports=a.p+"static/media/Request-email.ac3e47e0.svg"},function(e,t,a){e.exports=a.p+"static/media/arrow_down_gray.30807b7b.svg"},function(e,t,a){e.exports=a.p+"static/media/arrow_up_gray.cc4ad143.svg"},,,,function(e,t,a){e.exports=a.p+"static/media/add-picture.10d6af29.svg"},function(e,t,a){e.exports=a.p+"static/media/mute.e8be9103.svg"},function(e,t,a){e.exports=a.p+"static/media/unmute.364b7c52.svg"},function(e,t,a){e.exports=a.p+"static/media/hang-up.a0003217.svg"},function(e,t,a){e.exports=a.p+"static/media/camera-off.ab3c5a19.svg"},function(e,t,a){e.exports=a.p+"static/media/camera-on.5465c494.svg"},function(e,t,a){e.exports=a.p+"static/media/massage.f833f870.svg"},,,,,,,,function(e,t,a){e.exports=a.p+"static/media/doctor_picture.44de538b.svg"},,,,,,,,,,,function(e,t,a){},,,,,,,function(e,t,a){e.exports=a.p+"static/media/icon_my_profile_doctor_on-line_46px.346b9d48.svg"},function(e,t,a){e.exports=a.p+"static/media/icon_my_profile_client_on-line_46px.dcdd39b7.svg"},function(e,t,a){e.exports=a.p+"static/media/icon_my_profile_doctor_off-line_46px.620d1e0c.svg"},,,,,,,,,function(e,t,a){e.exports=a.p+"static/media/logo.9648ff19.svg"},,function(e,t,a){e.exports=a.p+"static/media/icon_menu_my-consultations.34861589.svg"},function(e,t,a){e.exports=a.p+"static/media/icon_menu_alerts.a1525964.svg"},function(e,t,a){e.exports=a.p+"static/media/icon_menu_my-profile_doctor.fb8cc309.svg"},function(e,t,a){e.exports=a.p+"static/media/icon_menu_settings.40f1f973.svg"},function(e,t,a){e.exports=a.p+"static/media/icon_menu_log-out.59ceae3d.svg"},,,,,,,,,function(e,t,a){},,,,,,,,,,,,,,,function(e,t,a){e.exports=a.p+"static/media/arrow-left.5519d0cf.svg"},function(e,t,a){e.exports=a.p+"static/media/arrow-right.e55f21ec.svg"},function(e,t,a){e.exports=a.p+"static/media/icon_My_Consultations_blue.fad79fde.svg"},function(e,t,a){},function(e,t,a){e.exports=a.p+"static/media/Extend-screen.552e1b23.svg"},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){e.exports=a.p+"static/media/C-doctor_photo_1920px.944bbe00.jpg"},function(e,t,a){e.exports=a.p+"static/media/icon_sign-up.ca1380bc.svg"},function(e,t,a){e.exports=a.p+"static/media/icon_Request-consultation.8bcb4904.svg"},function(e,t,a){e.exports=a.p+"static/media/icon_Payment.4e5de8b9.svg"},function(e,t,a){e.exports=a.p+"static/media/icon_Dashboard.b19e6b78.svg"},function(e,t,a){e.exports=a.p+"static/media/icon_Consult-with-doctor.be92d39b.svg"},,function(e,t,a){e.exports=a.p+"static/media/icon_menu_my-patients.ec48fda9.svg"},function(e,t,a){e.exports=a.p+"static/media/icon_menu_calendar.49bc5661.svg"},function(e,t,a){e.exports=a.p+"static/media/icon_client_menu_doctor.aececd87.svg"},,,function(e,t,a){e.exports=a.p+"static/media/plus.cdd4c595.svg"},,,,,,,,,,,,,,function(e,t,a){e.exports=a(511)},,,,,,,,,,,,,,,,,,,function(e,t,a){},,,function(e,t,a){},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){},function(e,t,a){},,,,function(e,t,a){},function(e,t,a){e.exports=a.p+"static/media/My_Patients_white.2fc35a69.svg"},function(e,t,a){e.exports=a.p+"static/media/burger.fc14b4bd.svg"},function(e,t,a){e.exports=a.p+"static/media/icon_my_profile_client_off-line_46px.cac49939.svg"},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAAaCAYAAAC6nQw6AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAGpJREFUeNpiYqASYAIR////TwDi9//JAyB9CQxQg0Cc+UCsQIorQOqh+t7DBP6TagiaYf/hBlESPiD9TFQNbKobBHRhA4kx1oDhx9EwGg2j0TCiNIwaiPLjMA4jSspsZA7VahGK6zWAAAMAJ8ajEvfR41QAAAAASUVORK5CYII="},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABcAAAAXCAYAAADgKtSgAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAcZJREFUeNqsVe1xwjAMJVz/lxEyQjYg3SDdIN0AJiidIN0g3QA2yDGB2YBsYJjAlcgzJ4Rsyl11p3NiWU8fluRilqEQwoKWhnhJXArRSLwn3hVFcUrpFwlQBvokbolZ+QCwSGysImbjP8RfZGScPSICbok98ZG//3D2iPPtI+BNmKjTkUAWuVTyDnqbnBdBeyD22cMBa+5cOzM884bHDRRWfLlYN8JAY0TgbyKjn54VjGhcDBdKHt7HfWfosOH+Wm5mOJMsACzAgYXOcya9i2t1JO6BqU7Iagscskv1zFGzh0QBnVTzSCoht4jxlnMc2icO7Yg7mQ7RuR3kFjFeOX/QU2u0ukP6atyNw/46p/ySE/LcILAPgPVK/JabKxF8RN6ti6kE6DfxmfiVeMX7JH8nA9Z9LS+4VrWgPGNLB9S1E3UuZdadTLNG1zn+I1AL5cGYJ0EMORcN3NS57lBat1Co8D+I7qzUWGgwOi5z565D1WwZdOPgv0QEW7HXxyZioyJ9Xkcpw3FG/hoBUIl578W5bWqMaAOdmvFHNcSquKp53j71EsUZAs9uHoqnXiJ1Bz1AvSi5+BINYr+/y3Hugf6v1/9XgAEAM7QqbBmABNwAAAAASUVORK5CYII="},function(e,t,a){e.exports=a.p+"static/media/icon_my_profile_client_white_23px.b7b52618.svg"},function(e,t,a){e.exports=a.p+"static/media/icon_calendar_white.0553b438.svg"},function(e,t,a){e.exports=a.p+"static/media/icon_alerts_white.d1cae601.svg"},function(e,t,a){e.exports=a.p+"static/media/icon_doctor_2_white.ded413ac.svg"},function(e,t,a){e.exports=a.p+"static/media/icon_settings_white.286afa37.svg"},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},,,function(e,t,a){},function(e,t,a){e.exports=a.p+"static/media/icon_my_profile_doctor_blue_23px.819e0994.svg"},function(e,t,a){},function(e,t,a){e.exports=a.p+"static/media/icon_my_profile_client_blue_23px.ad8a7a0f.svg"},,function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){function a(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}a.keys=function(){return[]},a.resolve=a,e.exports=a,a.id=360},function(e,t){},function(e,t,a){},,,,,,,,,,,,,function(e,t){},,function(e,t){},,,,,,,,function(e,t,a){},function(e,t,a){},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){e.exports=a.p+"static/media/My_Patients_blue.6353f3f3.svg"},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){e.exports=a.p+"static/media/icon_doctor_2_blue.90d6ea7b.svg"},function(e,t,a){},function(e,t,a){},,,,,,,,,,,,,,,,,,,,,,,function(e,t){},,,function(e,t,a){},,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";a.r(t);var n=a(2),l=a.n(n),s=a(33),c=a.n(s),r=(a(113),a(14)),i=a(15),o=a(17),d=a(16),m=a(18),u=a(25),p=a(45),h=a(29),g=a(268),f=a(21),E=a.n(f),v=function(e){function t(){return Object(r.a)(this,t),Object(o.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"getChildContext",value:function(){return{sagaMiddleware:this.props.sagaMiddleware}}},{key:"render",value:function(){return this.props.children||null}}]),t}(l.a.Component);v.childContextTypes={sagaMiddleware:E.a.any.isRequired};var y=v,b=(a(190),a(80)),x=a(245);function N(e){return{type:"USERS_LOGIN_REQUEST",user:e}}a(287);var S=a(246),C=a(39),k=Object(C.fromJS)({isLoggedIn:!1}),w=C.default.fromJS({doctor:""}),D=C.default.fromJS({subject:""}),O=C.default.fromJS({spec:""}),P=C.default.fromJS({examID:null}),_=C.default.fromJS({clientID:[]}),I=Object(C.fromJS)({doctor:""}),j=Object(C.fromJS)({popUp:!1}),F=Object(C.fromJS)({statusChanged:""}),M=Object(S.combineReducers)({authReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USERS_LOGIN_REQUEST":return e.set("user",t.user);case"USERS_LOGIN_SUCCESS":return e.set("isLoggedIn",!0);case"USERS_LOGIN_FAILURE":return e.set("isLoggedIn",!1);default:return e}},doctorReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"DOCTOR_OBJ":return e.set("doctor",t.doctor);default:return e}},subjectReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SUBJECT":return e.set("subject",t.subject);default:return e}},specReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SPEC_OBJ":return e.set("spec",t.spec);default:return e}},examReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"EXAM_ID":return e.set("examID",t.exam);default:return e}},clientReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CLIENT":return e.set("clientID",t.client);default:return e}},docReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CURENTDOC":return e.set("doctor",t.payload);default:return e}},popUpReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"POPUP":return e.set("popUp",!0);case"POPUPFALSE":return e.set("popUp",!1);default:return e}},doctorStatusWRReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"STATUSCHANGEWR":return e.set("statusChanged",t.payload);default:return e}}}),V=a(26),T=a.n(V),R=a(247),A=a.n(R),B=a(248),z=a.n(B),U=a(249),H=a.n(U),W=a(250),L=a.n(W),Y=a(251),q=a.n(Y),J=a(252),Q=a.n(J),G=function(e){e.props;return l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"headers"},l.a.createElement("img",{src:A.a,alt:"slika"}),l.a.createElement("div",{className:"headersInfo"},l.a.createElement("img",{src:T.a,alt:"logo"}),l.a.createElement("h1",null,"Online consultation service"),l.a.createElement("h4",null,"Secure. Simple. Comfortable.")),l.a.createElement("div",{className:"MainDivInfo"},l.a.createElement("div",{className:"firstDivInfo"},l.a.createElement("p",{className:"iconAbove1"},"1"),l.a.createElement("h1",{className:"signUp"},"SIGN UP"),l.a.createElement("p",null,"Create account",l.a.createElement("br",null),"whether you are",l.a.createElement("br",null),"Doctor or a Client"),l.a.createElement("img",{src:z.a,alt:"logo"})),l.a.createElement("div",{className:"secondDivInfo"},l.a.createElement("p",{className:"iconAbove2"},"2"),l.a.createElement("h1",{className:"requestConsu"},"REQUEST",l.a.createElement("br",null),"CONSULTATION"),l.a.createElement("p",null,"Choose available",l.a.createElement("br",null),"physician. Request",l.a.createElement("br",null),"email consultation,",l.a.createElement("br",null),"make video",l.a.createElement("br",null),"appointment or use",l.a.createElement("br",null),"virtual waiting room"),l.a.createElement("img",{src:H.a,alt:"logo"})),l.a.createElement("div",{className:"thirdDivInfo"},l.a.createElement("p",{className:"iconAbove3"},"3"),l.a.createElement("h1",{className:"conswithD"},"CONSULT WITH",l.a.createElement("br",null),"DOCTOR"),l.a.createElement("p",null,"Once doctor accepts",l.a.createElement("br",null),"client request, use",l.a.createElement("br",null),"email or video for your",l.a.createElement("br",null),"consultation"),l.a.createElement("img",{src:Q.a,alt:"logo"})),l.a.createElement("div",{className:"fourthDivInfo"},l.a.createElement("p",{className:"iconAbove4"},"4"),l.a.createElement("h1",{className:"securePay"},"SECURE",l.a.createElement("br",null),"PAYMENT"),l.a.createElement("p",null,"Make secure payment",l.a.createElement("br",null),"with your credit card",l.a.createElement("br",null),"or Pay-pal"),l.a.createElement("img",{src:L.a,className:"payment",alt:"logo"})),l.a.createElement("div",{className:"fifthDivInfo"},l.a.createElement("p",{className:"iconAbove5"},"5"),l.a.createElement("h1",{className:"clientDash"},"CLIENT",l.a.createElement("br",null),"DASHBOARD"),l.a.createElement("p",null,"All client information is",l.a.createElement("br",null),"in one place. You can",l.a.createElement("br",null),"access your profile,",l.a.createElement("br",null),"check consultation",l.a.createElement("br",null),"history and see alerts",l.a.createElement("br",null),"for ongoing",l.a.createElement("br",null),"consultations."),l.a.createElement("img",{src:q.a,alt:"logo"})))))},K=a(81),Z=(a(292),a(175)),X=a.n(Z),$=function(){return{type:"POPUP"}},ee=function(){return{type:"POPUPFALSE"}},te=a(87),ae="false"===sessionStorage.getItem("is_doctor")?function(e){var t=Object(n.useState)(60),a=Object(K.a)(t,2),s=a[0],c=a[1],r=Object(te.g)(),i=Object(te.h)();Object(n.useEffect)((function(){e.popUp&&o()}),[e.popUp]);var o=function(){var e=setInterval((function(){0===s?(clearInterval(e),r.push({pathname:"/client/waiting-room",state:{detail:"exitQueue"}})):c(s--)}),1e3)};return l.a.createElement(n.Fragment,null,l.a.createElement(u.b,{to:"/"},l.a.createElement("img",{src:X.a,alt:"logo"})),e.popUp&&l.a.createElement(n.Fragment,null,l.a.createElement("div",{className:"duca1"}),l.a.createElement("div",{className:"duca"},l.a.createElement("h4",null,"0:",s<10&&"0",s),l.a.createElement("h1",null,"Your video consultation is ready"),l.a.createElement("div",{className:"buttons"},l.a.createElement("button",{onClick:function(){"/client/waiting-room"===i.pathname?(e.popUpFalse(),window.location.reload()):(r.push("/client/waiting-room"),e.popUpFalse(),window.location.reload())}},"Connect"),l.a.createElement("button",{style:{background:"darkgray"},onClick:function(){r.push({pathname:"/client/waiting-room",state:{detail:"exitQueue"}})}},"Reject")))))}:function(){return l.a.createElement(n.Fragment,null,l.a.createElement(u.b,{to:"/"},l.a.createElement("img",{src:X.a,alt:"logo"})))},ne=Object(h.b)((function(e){return{popUp:e.getIn(["popUpReducer","popUp"])}}),(function(e){return Object(p.bindActionCreators)({popUpFalse:ee},e)}))(ae),le=a(6),se=a.n(le),ce=(a(295),a(22)),re=a(164),ie=a.n(re),oe=a(165),de=a.n(oe),me=a(166),ue=a.n(me),pe=a(13),he=a.n(pe),ge=Object(h.b)((function(e){return{user:e.getIn(["authReducer","user"]),isLoggedIn:e.getIn(["authReducer","isLoggedIn"]),doctor:e.getIn(["docReducer","doctor"])}}))((function(e){var t=e.register,a=e.login,s=(e.handleLogout,e.isLoggedIn),c=(e.handleDashboardDoctor,e.handleDashboardClient,e.doctor,e.selectValue,Object(n.useState)({})),r=Object(K.a)(c,2),i=r[0],o=r[1],d=Object(n.useState)({}),m=Object(K.a)(d,2),p=(m[0],m[1]),h=Object(n.useState)({}),g=Object(K.a)(h,2),f=(g[0],g[1]);Object(n.useEffect)((function(){"true"===sessionStorage.getItem("is_doctor")?E():"false"===sessionStorage.getItem("is_doctor")&&v()}),[]);var E=function(){var e;return se.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:e="Bearer ".concat(sessionStorage.getItem("accessToken")),he.a.get("https://healthcarebackend.xyz/api/doctor/profile/",{headers:{Authorization:e}}).then((function(e){return o(e.data.data),p(e.data.data.user.first_name),f(e.data.data.user.last_name)}));case 2:case"end":return t.stop()}}))},v=function(){var e;return se.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:e="Bearer ".concat(sessionStorage.getItem("accessToken")),he.a.get("https://healthcarebackend.xyz/api/client/profile/",{headers:{Authorization:e}}).then((function(e){return o(e.data.data),p(e.data.data.user.first_name),f(e.data.data.user.last_name)}));case 2:case"end":return t.stop()}}))},y=null;return"true"===sessionStorage.getItem("is_doctor")&&(console.log(i),y=l.a.createElement("select",{style:{background:"Away"===i.status?"Yellow":"Offline"===i.status?"red":"#3cb54a"},name:"status",id:"status",onChange:function(e){var t,a,n,l,s;return se.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return t=e.target.value,a="Bearer ".concat(sessionStorage.getItem("accessToken")),e.preventDefault(),(n=new FormData).append("user.first_name",""),n.append("user.last_name",""),n.append("user.phone",""),n.append("biography",""),n.append("email_exam_price",""),n.append("web_exam_price",""),n.append("web_exam_follow_price",""),n.append("image",""),n.append("organization",""),n.append("start_hour",""),n.append("end_hour",""),n.append("email_currency",""),n.append("web_currency",""),n.append("web_follow_up_currency",""),n.append("speciality",i.speciality),n.append("status",t),n.append("waiting_room_price",""),n.append("waiting_room_currency",""),n.append("web_exam_status",""),n.append("email_exam_status",""),n.append("waiting_room_status",""),n.append("web_exam_follow_status",""),"https://healthcarebackend.xyz/api/doctor/profile/",l=he.a.put("https://healthcarebackend.xyz/api/doctor/profile/",n,{headers:{"content-type":"multipart/form-data",Authorization:a}}),console.log("submiting"),c.next=31,se.a.awrap(l);case 31:s=c.sent,console.log(s,"profile changed"),s.data.success&&(ce.NotificationManager.success("Profile Updated!","Successful!",2e3),E());case 34:case"end":return c.stop()}}))}},l.a.createElement("option",{value:""},i.status),l.a.createElement("option",{value:"Available",style:{background:"#3cb54a"},hidden:"Available"===i.status&&!0},"Available"),l.a.createElement("option",{style:{background:"yellow"},defaultValue:"Away",hidden:"Away"===i.status&&!0},"Away"),l.a.createElement("option",{style:{background:"red"},value:"Offline",hidden:"Offline"===i.status&&!0},"Offline"))),l.a.createElement("nav",{className:"nav"},!s&&l.a.createElement("ul",{className:"nav navbar-nav "},l.a.createElement("li",{className:"li-reg"},l.a.createElement(u.b,{to:"/register",onClick:t,className:"register"},"Sign Up")),l.a.createElement("li",{className:"li-log"},l.a.createElement(u.b,{to:"/login",onClick:a,className:"login"},"Log in"))),s&&l.a.createElement("ul",{className:"nav navbar-nav"},l.a.createElement("li",{className:"selectStatus"},y)))})),fe=(a(325),a(32)),Ee=a(253),ve=a(86),ye=function(){return l.a.createElement("footer",{className:"page-footer"},l.a.createElement("div",{className:"mainFooter"},l.a.createElement("ul",{className:"contact"},l.a.createElement("h3",null,"Contact"),l.a.createElement("li",null,l.a.createElement(Ee.a,{className:"mail"}),"Email: info@masspoint.rs"),l.a.createElement("li",null,l.a.createElement(ve.b,{className:"phone"})," +381 60 000 4602"),l.a.createElement("li",null,l.a.createElement(ve.a,{className:"mapPin"}),"Kralja Milana 4,",l.a.createElement("br",null)," ",l.a.createElement("span",{style:{marginLeft:"20px"}},"11000 Belgrade, Serbia"))),l.a.createElement("ul",{className:"company"},l.a.createElement("h3",null,"Company"),l.a.createElement("li",null,l.a.createElement(u.b,{className:"aboutClass",to:"/"},l.a.createElement("span",null,"About Us"))),l.a.createElement("li",null,l.a.createElement(u.b,{className:"blockClass",to:"/"},l.a.createElement("span",null,"Privacy policy"))),l.a.createElement("li",null,l.a.createElement(u.b,{className:"careersClass",to:"/"},l.a.createElement("span",null,"Terms and conditions"))),l.a.createElement("li",null,l.a.createElement(u.b,{className:"faqClass",to:"/"},l.a.createElement("span",null,"FAQs")))),l.a.createElement("ul",{className:"social"},l.a.createElement("h3",null,"Social"),l.a.createElement("div",{className:"socialMedia"},l.a.createElement("div",null,l.a.createElement("a",{href:"/#"},l.a.createElement(fe.d,{className:"insta"}))),l.a.createElement("div",null,l.a.createElement("a",{href:"/#"},l.a.createElement(fe.e,{className:"linkedin"}))),l.a.createElement("div",null,l.a.createElement("a",{href:"/#"},l.a.createElement(fe.b,{className:"facebook"}))),l.a.createElement("div",null,l.a.createElement("a",{href:"/#"},l.a.createElement(fe.i,{className:"twitter"})))),l.a.createElement("p",null,"\xa9 Copyright 2020 Health Care"))))},be=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(d.a)(t).call(this,e))).handleDashboardDoctor=function(){a.props.history.push("/dashboard-doctor")},a.handleDashboardClient=function(){a.props.history.push("/dashboard-client")},a.handleClients=function(){a.props.history.push("/doctors-clients")},a.state={},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"header"},l.a.createElement("div",null,l.a.createElement(ne,null),l.a.createElement(ge,null))),l.a.createElement(G,{handleClients:this.handleClients,props:this.state}),l.a.createElement(ye,null))}}]),t}(n.Component),xe=a(51),Ne=(a(326),a(61)),Se=a(58),Ce=a.n(Se),ke=a(44),we=a.n(ke),De=a(59),Oe=a.n(De),Pe=(a(205),a(206),a(124)),_e=a.n(Pe),Ie=a(125),je=a.n(Ie),Fe=a(126),Me=a.n(Fe),Ve=(a(207),a(127)),Te=a.n(Ve),Re=a(128),Ae=a.n(Re),Be=a(19),ze=a.n(Be),Ue=a(60),He=a.n(Ue),We=function(e){var t=e.initiate,a=e.waitingRoom,n=e.VideoReq,s=e.handleClick,c=e.handleUpcoming,r=e.handlePast,i=e.handleAll,o=(e.handleClickLeft,e.handleClickRight,e.handleHam,e.hnlMyConsultations,e.props),d=e.handleDoctorSearch,m=e.searchByType,u=e.searchByName,p=e.ResetonSelectChange,h=e.handlePageChange;return o.state.paginatedExams.map((function(e){return o.state.mail.includes(e.id)&&"mail"===e.exam_type?Object.assign(e,{isRead:!0}):Object.assign(e,{isRead:!1})})),l.a.createElement("div",{className:"mainClientDashboard"},l.a.createElement("div",{className:"main"},l.a.createElement("div",{className:"dashboardIcon"},l.a.createElement("h4",null,"Dashboard"))," ",l.a.createElement("div",{className:"videoApp",onClick:function(){return n()}},l.a.createElement("span",{className:"video"},l.a.createElement("img",{src:je.a,className:"icon",alt:"make a video"})),l.a.createElement("div",null,l.a.createElement("h2",null,"Make a"),l.a.createElement("h2",{className:"secondH2"}," VIDEO APPOINTMENT"))),l.a.createElement("div",{className:"emailReq",onClick:function(){return t()}},l.a.createElement("span",{className:"email"},l.a.createElement("img",{src:Me.a,alt:"request email",className:"icon"})),l.a.createElement("div",null,l.a.createElement("h2",null,"Request"),l.a.createElement("h2",{className:"secondH2"}," EMAIL CONSULTATION"))),l.a.createElement("div",{className:"waitRoom",onClick:function(){return a()}},l.a.createElement("span",{className:"clock"},l.a.createElement("img",{src:_e.a,className:"icon",alt:"enter Waiting room"})),l.a.createElement("div",null,l.a.createElement("h2",null,"Enter"),l.a.createElement("h2",{className:"secondH2"}," WAITING ROOM")))),o.state.loading?l.a.createElement("img",{src:T.a,className:"loading",alt:"loading...",style:{width:"150px"}}):0!==o.state.paginatedExams.length&&l.a.createElement("div",{className:"mainTabel"},l.a.createElement("div",{className:"mainConsultation"},l.a.createElement("div",{className:"icon_left"},l.a.createElement("p",null,"My Consultations")),l.a.createElement("div",{className:"sort"},l.a.createElement("p",{className:"upcoming",style:{fontWeight:"upcoming"===o.state.currentFilterClicked?"bold":"300"},onClick:c},"Upcoming"),l.a.createElement("p",{className:"past",style:{fontWeight:"past"===o.state.currentFilterClicked?"bold":"300"},onClick:r},"Past"),l.a.createElement("p",{className:"all",style:{fontWeight:"all"===o.state.currentFilterClicked?"bold":"300"},onClick:i},"All"))),l.a.createElement("table",{className:"table2"},l.a.createElement("thead",{className:"client-head"},l.a.createElement("tr",{className:"client-row"},l.a.createElement("th",{className:"client-doctor"},l.a.createElement("div",{className:"mainExamDiv"},l.a.createElement("div",{className:"searchDiv"},l.a.createElement("span",{className:"examTypetext"},"Doctor "),l.a.createElement("span",{className:"searchIcon",onClick:d},o.state.searchDoctor?l.a.createElement("img",{src:Ae.a,alt:"arrow"}):l.a.createElement("img",{src:Te.a,alt:"arrow"}))),l.a.createElement("input",{type:"text",placeholder:"Search",value:o.state.searchName,onChange:u,style:{display:!o.state.searchDoctor&&"none"}}))),l.a.createElement("th",{className:"client-subject"},"Subject"),l.a.createElement("th",{className:"client-type",style:{padding:o.state.searchDoctor&&"0 0 30px 0"}},l.a.createElement("div",{className:"mainExamDiv"},l.a.createElement("select",{type:"text",placeholder:"",onChange:m,onClick:p,value:o.state.searchType},l.a.createElement("option",{value:""},"Type"),l.a.createElement("option",{value:"mail"},"Email"),l.a.createElement("option",{value:"video"},"Video"),l.a.createElement("option",{value:"queue"},"Waiting room")))),l.a.createElement("th",{className:"client-date"},"Date"),l.a.createElement("th",{className:"client-status",style:{padding:o.state.searchDoctor&&"0 0 30px 0"}},"Status"))),""===o.state.messageIfEmpty&&o.state.paginatedExams.map((function(e,t){return l.a.createElement("tbody",{key:t,className:"client-body"},l.a.createElement("tr",{className:"list-group",style:{fontWeight:e.isRead&&700},onClick:function(){return s(e.id,e.exam_type)}},l.a.createElement("td",{className:"client-doctor"},e.doctor_name?e.doctor_name:e.doctor),l.a.createElement("td",{className:"client-subject1"},e.subject),l.a.createElement("td",{className:"client-subject"},e.exam_type),l.a.createElement("td",{className:"created"},e.created&&!e.appointed_date?l.a.createElement("p",null," ",ze()(e.created).format("MM/DD/YY")):e.appointed_date?l.a.createElement("p",null," ",ze()(e.appointed_date).format("MM/DD/YY HH:mm")):null),l.a.createElement("td",{className:"client-status"},"Pending"===e.status||"In the queue"===e.status?l.a.createElement("img",{src:we.a,alt:"clockIcon",className:"pendi"}):"Declined"===e.status||"Canceled"===e.status?l.a.createElement("img",{src:Oe.a,alt:"declined",className:"declined"}):"Finished"===e.status?l.a.createElement(Ne.a,{className:"finished"}):l.a.createElement("img",{src:Ce.a,alt:"ckeck",className:"check"}),l.a.createElement("h5",{className:"status"},e.status))))}))),""!==o.state.messageIfEmpty&&l.a.createElement("div",{className:"NoResultDiv"},o.state.messageIfEmpty)),0!==o.state.paginatedExams.length&&l.a.createElement("div",{className:"pagi"},l.a.createElement(He.a,{activePage:o.state.page,itemsCountPerPage:10,totalItemsCount:0===o.state.searchedUpcomingOrPast.length?o.state.upcomingOrPast.length:o.state.searchedUpcomingOrPast.length,pageRangeDisplayed:10,onChange:h})))},Le=function(e){return{type:"CURENTDOC",payload:e}},Ye=(a(330),a(331),a(332),a(333),a(177)),qe=a.n(Ye),Je=a(254),Qe=a.n(Je),Ge=a(255),Ke=a.n(Ge),Ze=a(178),Xe=a.n(Ze),$e=a(179),et=a.n($e),tt=a(180),at=a.n(tt),nt=a(181),lt=a.n(nt),st=a(256),ct=a.n(st),rt=(a(334),a(335),a(336),a(337),a(338),a(339),a(340),function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(d.a)(t).call(this,e))).handleClickImage=function(e){window.open(e.target.src)},a.handleHam=function(){a.setState({hamburger:!a.state.hamburger})},a.state={hamburger:!0,current:sessionStorage.getItem("is_doctor"),currentDoc:"",fullName:"",fullNameClient:"",currentClient:""},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this,t="Bearer ".concat(sessionStorage.getItem("accessToken"));"true"===sessionStorage.getItem("is_doctor")&&he.a.get("https://healthcarebackend.xyz/api/doctor/profile/",{headers:{Authorization:t}}).then((function(t){console.log(t,"from hamburger");var a="".concat(t.data.data.user.first_name," ").concat(t.data.data.user.last_name," ");return e.setState({currentDoc:t.data.data,fullName:a})})),"true"!==sessionStorage.getItem("is_doctor")&&he.a.get("https://healthcarebackend.xyz/api/client/profile/",{headers:{Authorization:t}}).then((function(t){console.log(t);var a="".concat(t.data.data.user.first_name," ").concat(t.data.data.user.last_name," ");return e.setState({currentClient:t.data.data,fullNameClient:a})}))}},{key:"render",value:function(){var e=this;return"true"===this.state.current?l.a.createElement("div",{className:"sideNav"},l.a.createElement("div",{className:"sideProfile"},l.a.createElement("div",{className:"mainProfile"},l.a.createElement("div",{className:"profile"},this.state.currentDoc&&this.state.currentDoc.image.includes("default")?"Available"===this.state.currentDoc.status?l.a.createElement("img",{src:ie.a,alt:"online doctor"}):l.a.createElement("img",{src:ue.a,alt:"offline doctor"}):l.a.createElement("img",{style:{borderRadius:"50%",background:"white"},onClick:function(t){return e.handleClickImage(t)},src:"https://healthcarebackend.xyz".concat(this.state.currentDoc.image),alt:"#"}))),l.a.createElement("p",null,this.state.fullName)),l.a.createElement(u.b,{className:"sideVideo",to:"/dashboard-doctor"},l.a.createElement("span",{className:"video"},l.a.createElement("img",{src:qe.a,alt:"icon"})),l.a.createElement("h2",null,"Dashboard")),l.a.createElement(u.b,{className:"sideEmail",to:"/doctors-clients"},l.a.createElement("span",{className:"email"},l.a.createElement("img",{src:Qe.a,alt:"icon"})),l.a.createElement("h2",null,"My Patients")),l.a.createElement(u.b,{className:"sideWaitingRoom",to:"/doctor/calendar"},l.a.createElement("span",{className:"clock"},l.a.createElement("img",{src:Ke.a,alt:"icon"})),l.a.createElement("h2",null,"Calendar")),l.a.createElement("div",{className:"sideMyCounsultation"},l.a.createElement("span",null,l.a.createElement("img",{src:Xe.a,alt:"icon"})),l.a.createElement("h2",null,"Alerts")),l.a.createElement(u.b,{to:"/doctor/profile/",className:"sideMyAccount"},l.a.createElement("span",null,l.a.createElement("img",{src:et.a,alt:"icon"})),l.a.createElement("h2",null,"Profile")),l.a.createElement(u.b,{className:"sideHelp",to:"/doctors-settings"},l.a.createElement("span",{className:"help"},l.a.createElement("img",{src:at.a,alt:"icon"})),l.a.createElement("h2",null,"Settings")),l.a.createElement(u.b,{className:"sideFaq",to:"/logout"},l.a.createElement("span",{className:"faq"},l.a.createElement("img",{src:lt.a,alt:"icon"})),l.a.createElement("h2",null,"Log Out"))):l.a.createElement("div",{className:"sideNav"},l.a.createElement("div",{className:"sideProfile"},l.a.createElement("div",{className:"mainProfile"},l.a.createElement("div",{className:"profile"},this.state.currentClient&&this.state.currentClient.image.includes("default")?l.a.createElement("img",{src:de.a,alt:"online client"}):l.a.createElement("img",{style:{borderRadius:"50%",background:"white"},onClick:function(t){return e.handleClickImage(t)},src:"https://healthcarebackend.xyz".concat(this.state.currentClient.image),alt:"#"}))),l.a.createElement("p",null,this.state.fullNameClient)),l.a.createElement(u.b,{className:"sideVideo",to:"/dashboard-client"},l.a.createElement("span",{className:"video"},l.a.createElement("img",{src:qe.a,alt:"icon"})),l.a.createElement("h2",null,"Dashboard")),l.a.createElement(u.b,{className:"sideEmail",to:"/client/Doctor-list/"},l.a.createElement("span",{className:"email"},l.a.createElement("img",{src:ct.a,alt:"icon"})),l.a.createElement("h2",null,"Doctors")),l.a.createElement("div",{className:"sideMyCounsultation"},l.a.createElement("span",null,l.a.createElement("img",{src:Xe.a,alt:"icon"})),l.a.createElement("h2",null,"Alerts")),l.a.createElement(u.b,{to:"/client/profile/",className:"sideMyAccount"},l.a.createElement("span",null,l.a.createElement("img",{src:et.a,alt:"icon"})),l.a.createElement("h2",null,"Profile")),l.a.createElement(u.b,{to:"/client-settings",className:"sideHelp"},l.a.createElement("span",{className:"help"},l.a.createElement("img",{src:at.a,alt:"icon"})),l.a.createElement("h2",null,"Settings")),l.a.createElement(u.b,{to:"/logout",className:"sideFaq"},l.a.createElement("span",{className:"faq"},l.a.createElement("img",{src:lt.a,alt:"icon"})),l.a.createElement("h2",null,"Log Out")))}}]),t}(n.Component)),it=Object(p.compose)(te.i,Object(h.b)((function(e){return{doctor:e.getIn(["docReducer","doctor"])}})))(rt),ot=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(d.a)(t).call(this,e)))._isMounted=!1,a.initiate=function(){a.props.history.push("/initiate")},a.waitingRoom=function(){a.props.history.push("/client/waiting-room")},a.VideoReq=function(){a.props.history.push("/client/video-request")},a.connect=function(e){var t=new WebSocket("wss://healthcarebackend.xyz/ws/dashboard/client/".concat(e,"/"));t.onopen=function(){console.log("connected to dashboard socket")},t.onmessage=function(e){console.log(e);var t=JSON.parse(e.data);"Accepted"===t.status&&"queue"===t.exam_type&&a.props.popUp(),0!==a.state.exams.filter((function(e){return e.id===t.id})).length&&a.paginatedExams()},t.onclose=function(e){console.log("Socket is closed")},t.onerror=function(e){console.error("Socket encountered error: ",e.message,"Closing socket")}},a.handleClick=function(e,t){"mail"===t?a.props.history.push("/client/exam/detail/".concat(e)):"video"===t?a.props.history.push("/client/video/exam/detail/".concat(e)):"queue"===t&&a.props.history.push("/client/queue/exam/detail/".concat(e))},a.handleUpcoming=function(){var e=setInterval((function(){var t=a.state.exams.filter((function(e){return"Appointed"===e.status||"Accepted"===e.status||"Pending"===e.status||"In the queue"===e.status})),n=t.sort((function(e,t){return Date.parse(t.created)-Date.parse(e.created)})),l=0===t.length?"No upcoming consultations":"";a.setState({upcomingOrPast:n,page:1,messageIfEmpty:l,currentFilterClicked:"upcoming",searchedUpcomingOrPast:[],filterFiltered:[],searchType:"",searchName:""}),a.paginate(1),clearInterval(e)}),10)},a.handlePast=function(){var e=setInterval((function(){var t=a.state.exams.filter((function(e){return"Declined"===e.status||"Finished"===e.status||"Canceled"===e.status}));console.log(t,"past");var n=t.sort((function(e,t){return Date.parse(t.created)-Date.parse(e.created)})),l=0===t.length?"No past consultations":"";a.setState({upcomingOrPast:n,page:1,messageIfEmpty:l,currentFilterClicked:"past",searchedUpcomingOrPast:[],filterFiltered:[],searchType:"",searchName:""}),a.paginate(1),clearInterval(e)}),10)},a.handleAll=function(){var e=setInterval((function(){var t=a.state.exams,n=t.sort((function(e,t){return Date.parse(t.created)-Date.parse(e.created)})),l=0===t.length?"No consultations":"";a.setState({upcomingOrPast:n,page:1,messageIfEmpty:l,currentFilterClicked:"all",searchedUpcomingOrPast:[],filterFiltered:[],searchType:"",searchName:""}),a.paginate(1),clearInterval(e)}),10)},a.paginatedExams=function(){var e;return se.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:e="Bearer ".concat(a.state.token),he.a.get("https://healthcarebackend.xyz/api/exams/client/",{headers:{Authorization:e}}).then((function(e){if(console.log(e),0!==e.data.data.mail.length||0!==e.data.data.video.length){var t=e.data.data.mail.concat(e.data.data.video);a.setState({exams:t})}})).then((function(){a.WaitingRoomList()})).catch((function(e){console.log(e.response,"error"),a.setState({loading:!1})}));case 2:case"end":return t.stop()}}))},a.WaitingRoomList=function(){var e;return se.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:e="Bearer ".concat(a.state.token),he.a.get("https://healthcarebackend.xyz/api/queue/".concat(a.state.client.id,"/"),{headers:{Authorization:e}}).then((function(e){console.log(e),a.setState({exams:Object(xe.a)(a.state.exams.concat(e.data.data.queue))}),a.handleAll(),a.paginate(a.state.page),a.getUnreadMessages(a.state.client.id)})).catch((function(e){404===e.response.status&&(a.handleAll(),a.paginate(a.state.page),a.getUnreadMessages(a.state.client.id)),console.log(e.response)}));case 2:case"end":return t.stop()}}))},a.paginate=function(e){if(0===a.state.searchedUpcomingOrPast.length){var t=Math.ceil(a.state.upcomingOrPast.length/10),n=10*(e-1),l=a.state.upcomingOrPast.slice(n,n+10);a.setState({paginatedExams:l,loading:!1,maxPages:t})}else{var s=Math.ceil(a.state.searchedUpcomingOrPast.length/10),c=10*(e-1),r=a.state.searchedUpcomingOrPast.slice(c,c+10);a.setState({paginatedExams:r,loading:!1,maxPages:s})}},a.handleHam=function(){a.setState({hamburger:!a.state.hamburger})},a.hnlMyConsultations=function(){a.setState({hamburger:!1}),a.handleAll()},a.getUnreadMessages=function(e){var t;return se.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:t="Bearer ".concat(a.state.token),he.a.get("https://healthcarebackend.xyz/api/exams/client/".concat(e,"/"),{headers:{Authorization:t}}).then((function(e){var t=e.data.data.filter((function(e){return 0!==e.messages.length?e.messages[e.messages.length-1].sender!=="".concat(a.state.client.user):null})).map((function(e){return e.exam.id}));a.setState({mail:t})})).catch((function(e){console.log(e.response)}));case 2:case"end":return n.stop()}}))},a.handleDoctorSearch=function(){a.setState({searchDoctor:!a.state.searchDoctor})},a.searchByName=function(e){if(""===e.target.value&&""===a.state.searchType)a.setState({filterFiltered:[]});else if(""===e.target.value&&""!==a.state.searchName){a.setState({filterFiltered:[]});var t=setInterval((function(){a.handlingSearchByType(),clearInterval(t)}),10)}a.setState({searchName:e.target.value});var n=setInterval((function(){a.handlingSearchByName(),clearInterval(n)}),10)},a.handlingSearchByName=function(){var e=a.state.searchName.toLowerCase().split(" "),t=0===a.state.filterFiltered.length?a.state.upcomingOrPast.filter((function(t){var a=(t.doctor_name?t.doctor_name:t.doctor).split(" ");if(console.log(e),console.log(a),e[1]){if(a[1].toLowerCase().indexOf(e[0])===e[0].indexOf(e[0])&&a[2].toLowerCase().indexOf(e[1])===e[1].indexOf(e[1])||a[1].toLowerCase().indexOf(e[1])===e[1].indexOf(e[1])&&a[2].toLowerCase().indexOf(e[0])===e[0].indexOf(e[0]))return t}else if(a[1].toLowerCase().indexOf(e[0])===e[0].indexOf(e[0])||a[2].toLowerCase().indexOf(e[0])===e[0].indexOf(e[0]))return console.log(t),t;return null})):a.state.filterFiltered.filter((function(t){var a=(t.doctor_name?t.doctor_name:t.doctor).split(" ");if(e[1]){if(a[1].toLowerCase().indexOf(e[0])===e[0].indexOf(e[0])&&a[2].toLowerCase().indexOf(e[1])===e[1].indexOf(e[1])||a[1].toLowerCase().indexOf(e[1])===e[1].indexOf(e[1])&&a[2].toLowerCase().indexOf(e[0])===e[0].indexOf(e[0]))return t}else if(a[1].toLowerCase().indexOf(e[0])===e[0].indexOf(e[0])||a[2].toLowerCase().indexOf(e[0])===e[0].indexOf(e[0]))return t;return null})),n=0===t.length?"No Such Doctor":0!==t.length&&"No Such Doctor"!==a.state.messageIfEmpty?a.state.messageIfEmpty:"";0===a.state.filterFiltered.length&&a.setState({filterFiltered:t}),a.setState({searchedUpcomingOrPast:t,page:1,messageIfEmpty:n}),a.paginate(1)},a.ResetonSelectChange=function(){a.setState({filterFiltered:[]});var e=setInterval((function(){a.handlingSearchByName(),clearInterval(e)}),10)},a.searchByType=function(e){if(console.log(e.target.value),""===e.target.value&&""===a.state.searchName)a.setState({filterFiltered:[]});else if(""===e.target.value&&""!==a.state.searchName){a.setState({filterFiltered:[]});var t=setInterval((function(){a.handlingSearchByName(),clearInterval(t)}),10)}var n=e.target.value.toLowerCase();a.setState({searchType:n});var l=setInterval((function(){a.handlingSearchByType(),clearInterval(l)}),10)},a.handlingSearchByType=function(){var e=0===a.state.filterFiltered.length?a.state.upcomingOrPast.filter((function(e){return e.exam_type.toLowerCase().indexOf(a.state.searchType)===a.state.searchType.indexOf(a.state.searchType)?e:null})):a.state.filterFiltered.filter((function(e){return e.exam_type.toLowerCase().indexOf(a.state.searchType)===a.state.searchType.indexOf(a.state.searchType)?e:null}));console.log(e);var t=0===e.length?"No Such Type":0!==e.length&&"No Such Type"!==a.state.messageIfEmpty?a.state.messageIfEmpty:"";0===a.state.filterFiltered.length&&a.setState({filterFiltered:e}),a.setState({searchedUpcomingOrPast:e,page:1,messageIfEmpty:t}),a.paginate(1)},a.handlePageChange=function(e){console.log(e,a.state.page),a.setState({page:e}),a.paginate(e)},a.state={exams:[],paginatedExams:[],upcomingOrPast:[],token:sessionStorage.getItem("accessToken"),dataFromServer:"",loading:!0,page:1,maxPages:"",hamburger:!1,client:"",messageIfEmpty:"",currentFilterClicked:"",mail:[],searchName:"",searchDoctor:!1,searchByTypeClick:!1,searchType:"",filterFiltered:[],searchedUpcomingOrPast:[]},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;this._isMounted=!0;var t="Bearer ".concat(this.state.token);he.a.get("https://healthcarebackend.xyz/api/client/profile/",{headers:{Authorization:t}}).then((function(t){return e.connect(t.data.data.id),e.props.curentDoc([t.data.data.user]),e.setState({client:t.data.data})})).then((function(){e.paginatedExams()}))}},{key:"componentWillUnmount",value:function(){this._isMounted=!1,"/login"===window.location.pathname&&this.props.history.push("/logOutQuestion")}},{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"header"},l.a.createElement("div",null,l.a.createElement(ne,null),l.a.createElement(ge,null))),l.a.createElement(it,null),l.a.createElement(We,{initiate:this.initiate,waitingRoom:this.waitingRoom,handleClick:this.handleClick,handleUpcoming:this.handleUpcoming,handlePast:this.handlePast,handleAll:this.handleAll,handleClickLeft:this.handleClickLeft,handleClickRight:this.handleClickRight,props:this,VideoReq:this.VideoReq,handleHam:this.handleHam,hnlMyConsultations:this.hnlMyConsultations,handleDoctorSearch:this.handleDoctorSearch,searchByName:this.searchByName,ResetonSelectChange:this.ResetonSelectChange,searchByType:this.searchByType,handlePageChange:this.handlePageChange}))}}]),t}(n.Component),dt=Object(h.b)(null,(function(e){return Object(p.bindActionCreators)({curentDoc:Le,popUp:$},e)}))(ot),mt=(a(341),function(e){var t=e.hnlClick,a=e.handleClick,n=e.handleClickMail,s=e.handleUpcoming,c=e.handlePast,r=e.handleAll,i=e.props,o=(e.handleClickLeft,e.handleClickRight,e.hnlVideoClick),d=e.hnlWaitingClick,m=e.handleWaitingRoom,u=e.handleVideoPendingClick,p=(e.hnlMyConsultations,e.loading),h=e.handleClientSearch,g=(e.handleTypeSearch,e.searchByType),f=e.searchByName,E=e.ResetonSelectChange,v=e.handlePageChange,y=i.state.pending?i.state.pending.slice(0,4):null,b=i.state.videoPending?i.state.videoPending.slice(0,4):null,x=i.state.waitingRoom?i.state.waitingRoom.slice(0,4):null;return i.state.paginatedExams.map((function(e){return i.state.mail.includes(e.id)&&"mail"===e.exam_type?Object.assign(e,{isRead:!0}):Object.assign(e,{isRead:!1})})),l.a.createElement("div",{className:"testic"},l.a.createElement("div",{className:"main"},l.a.createElement("div",{className:"dashboardIcon"},l.a.createElement("h4",null,"Dashboard"))," ",l.a.createElement("div",{className:"divClock"},l.a.createElement("div",{className:"waitRoom1",onClick:d},l.a.createElement("span",{className:"clock"},l.a.createElement("img",{src:_e.a,className:"icon",alt:"enter Waiting room"})),l.a.createElement("h2",null,"WAITING ROOM")),l.a.createElement("div",{style:{height:"2px",background:"#00aff0"}}),l.a.createElement("div",{className:"requestsClock"},l.a.createElement("p",null,i.state.waitingRoom.length," in waiting room")),l.a.createElement("div",{className:"pendingReq"},0!==x.length?x.map((function(e){return console.log(e),l.a.createElement("div",{key:e.id,onClick:function(){return m(e.id)}},e.client,","," ",ze()(e.created).format("MM/DD/YY"))})):l.a.createElement("p",null,"No requests"))),l.a.createElement("div",{className:"divVideo"},l.a.createElement("div",{className:"videoApp1",onClick:o},l.a.createElement("span",{className:"video"},l.a.createElement("img",{src:je.a,className:"icon",alt:"make a video"})),l.a.createElement("h2",null,"VIDEO REQUESTS")),l.a.createElement("div",{style:{height:"2px",background:"#00aff0"}}),l.a.createElement("div",{className:"requestsVideo"},l.a.createElement("p",null,i.state.videoPending.length," new request to confirm")),l.a.createElement("div",{className:"pendingReq"},0!==b.length?b.map((function(e){return l.a.createElement("div",{key:e.id,onClick:function(){return u(e.id)}},e.client,","," ",ze()(e.appointed_date).format("MM/DD/YY hh:mm"))})):l.a.createElement("p",null,"No requests"))),l.a.createElement("div",{className:"divEmail"},l.a.createElement("div",{className:"emailReq1",onClick:t},l.a.createElement("span",{className:"email"},l.a.createElement("img",{src:Me.a,alt:"request email",className:"icon"})),l.a.createElement("h2",null,"EMAIL REQUESTS")),l.a.createElement("div",{style:{height:"2px",background:"#00aff0"}}),l.a.createElement("div",{className:"requestsEmail"},l.a.createElement("p",null,i.state.pending.length," new request to confirm")),l.a.createElement("div",{className:"pendingReq"},0!==y.length?y.map((function(e){return l.a.createElement("div",{key:e.id,onClick:function(){return n(e.id)}},e.client,","," ",ze()(e.created).add("hour",1).format("MM/DD/YY HH:mm"))})):l.a.createElement("p",null,"No requests")))),p?l.a.createElement("img",{src:T.a,className:"loading",alt:"loading...",style:{width:"150px"}}):0!==i.state.paginatedExams.length&&l.a.createElement("div",{className:"mainTabel"},l.a.createElement("div",{className:"mainConsultation"},l.a.createElement("div",{className:"icon_left"},l.a.createElement("p",null,"My Consultations")),l.a.createElement("div",{className:"sort"},l.a.createElement("p",{className:"upcoming",style:{fontWeight:"upcoming"===i.state.currentFilterClicked?"bold":"300"},onClick:s},"Upcoming"),l.a.createElement("p",{className:"past",style:{fontWeight:"past"===i.state.currentFilterClicked?"bold":"300"},onClick:c},"Past"),l.a.createElement("p",{className:"all",style:{fontWeight:"all"===i.state.currentFilterClicked?"bold":"300"},onClick:r},"All"))),l.a.createElement("table",{className:"table2"},l.a.createElement("thead",{className:"client-head"},l.a.createElement("tr",{className:"client-row"},l.a.createElement("th",{className:"client-doctor"},l.a.createElement("div",{className:"mainExamDiv"},l.a.createElement("div",{className:"searchDiv"},l.a.createElement("span",{className:"examTypetext"},"Client "),l.a.createElement("span",{className:"searchIcon",onClick:h},i.state.searchClient?l.a.createElement("img",{src:Ae.a,alt:"arrow"}):l.a.createElement("img",{src:Te.a,alt:"arrow"}))),l.a.createElement("input",{type:"text",placeholder:"Search",value:i.state.searchName,onChange:f,style:{display:!i.state.searchClient&&"none"}}))),l.a.createElement("th",{className:"client-subject"},"Subject"),l.a.createElement("th",{className:"client-type",style:{padding:i.state.searchClient&&"0 0 30px 0"}},l.a.createElement("div",{className:"mainExamDiv"},l.a.createElement("select",{type:"text",placeholder:"",onClick:E,onChange:g,value:i.state.searchType},l.a.createElement("option",{value:""},"Type"),l.a.createElement("option",{value:"mail"},"Email"),l.a.createElement("option",{value:"video"},"Video"),l.a.createElement("option",{value:"queue"},"Waiting room")))),l.a.createElement("th",{className:"client-date"},"Date"),l.a.createElement("th",{className:"client-status",style:{padding:i.state.searchClient&&"0 0 30px 0"}},"Status"))),""===i.state.messageIfEmpty&&i.state.paginatedExams.map((function(e,t){return l.a.createElement("tbody",{key:t,className:"client-body"},l.a.createElement("tr",{className:"list-group",style:{fontWeight:e.isRead&&700},onClick:function(){return a(e.id,e.exam_type)}},l.a.createElement("td",{className:"client-doctor"},e.client),l.a.createElement("td",{className:"client-subject1"},e.subject),l.a.createElement("td",{className:"client-subject"},e.exam_type),l.a.createElement("td",{className:"created"},e.created&&!e.appointed_date?l.a.createElement("p",null," ",ze()(e.created).format("MM/DD/YY")):e.appointed_date?l.a.createElement("p",null," ",ze()(e.appointed_date).format("MM/DD/YY HH:mm")):null),l.a.createElement("td",{className:"client-status"},"Pending"===e.status||"In the queue"===e.status?l.a.createElement("img",{src:we.a,alt:"clockIcon",className:"pendi"}):"Declined"===e.status||"Canceled"===e.status?l.a.createElement("img",{src:Oe.a,alt:"declined",className:"declined"}):"Finished"===e.status?l.a.createElement(Ne.a,{className:"finished"}):l.a.createElement("img",{src:Ce.a,alt:"ckeck",className:"check"}),l.a.createElement("h5",{className:"status"},e.status))))}))),""!==i.state.messageIfEmpty&&l.a.createElement("div",{className:"NoResultDiv"},i.state.messageIfEmpty)),0!==i.state.paginatedExams.length&&l.a.createElement("div",{className:"pagi"},l.a.createElement(He.a,{activePage:i.state.page,itemsCountPerPage:10,totalItemsCount:0===i.state.searchedUpcomingOrPast.length?i.state.upcomingOrPast.length:i.state.searchedUpcomingOrPast.length,pageRangeDisplayed:10,onChange:v})))}),ut=function(e){return{type:"STATUSCHANGEWR",payload:e}},pt=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(d.a)(t).call(this,e))).pnd=function(){var e="Bearer ".concat(a.state.token);he.a.get("https://healthcarebackend.xyz/api/doctor/exams/req/",{headers:{Authorization:e}}).then((function(e){var t=e.data.data.map((function(e){return{id:e.id,client:e.client,created:e.created,subject:e.subject,status:e.status}})).sort((function(e,t){return Date.parse(t.created)-Date.parse(e.created)}));a.setState({pending:t.filter((function(e){return"Pending"===e.status}))})})).catch((function(e){console.log(e)}))},a.handleUpcoming=function(){var e=setInterval((function(){var t=a.state.exams.filter((function(e){return"Appointed"===e.status||"Accepted"===e.status||"Pending"===e.status||"In the queue"===e.status})),n=t.sort((function(e,t){return Date.parse(t.created)-Date.parse(e.created)})),l=0===t.length?"No upcoming consultations":"";a.setState({upcomingOrPast:n,page:1,messageIfEmpty:l,currentFilterClicked:"upcoming",searchedUpcomingOrPast:[],filterFiltered:[],searchType:"",searchName:""}),a.paginate(1),clearInterval(e)}),10)},a.handlePast=function(){var e=setInterval((function(){var t=a.state.exams.filter((function(e){return"Declined"===e.status||"Finished"===e.status||"Canceled"===e.status})),n=t.sort((function(e,t){return Date.parse(t.created)-Date.parse(e.created)})),l=0===t.length?"No past consultations":"";a.setState({upcomingOrPast:n,page:1,messageIfEmpty:l,currentFilterClicked:"past",searchedUpcomingOrPast:[],filterFiltered:[],searchType:"",searchName:""}),a.paginate(1),clearInterval(e)}),10)},a.handleAll=function(){var e=setInterval((function(){var t=a.state.exams,n=t.sort((function(e,t){return Date.parse(t.created)-Date.parse(e.created)})),l=0===t.length?"No consultations":"";a.setState({upcomingOrPast:n,page:1,messageIfEmpty:l,currentFilterClicked:"all",searchedUpcomingOrPast:[],filterFiltered:[],searchType:"",searchName:""}),a.paginate(1),clearInterval(e)}),10)},a.handleClick=function(e,t){"mail"===t?a.props.history.push("/doctor/exam/detail/".concat(e)):"video"===t?a.props.history.push("/doctor/video/exam/detail/".concat(e,"/#init")):"queue"===t&&a.props.history.push("/doctor/processing/video/exam/".concat(e,"/#init"))},a.handleVideoPendingClick=function(e){a.props.history.push("/doctor/video/exam/detail/".concat(e))},a.paginatedExams=function(){var e;return se.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:e="Bearer ".concat(a.state.token),he.a.get("https://healthcarebackend.xyz/api/exams/doctor/",{headers:{Authorization:e}}).then((function(e){if(console.log(e),0!==e.data.data.mail.length||0!==e.data.data.video.length){var t=e.data.data.mail.concat(e.data.data.video);a.setState({exams:t});var n=e.data.data.video.filter((function(e){return"Pending"===e.status&&ze()(e.appointed_date).format("MM/DD/YYYY")>=ze()(new Date).format("MM/DD/YYYY")})),l=e.data.data.video.filter((function(e){return"Appointed"===e.status})).filter((function(e){return ze()(new Date).format("MM/DD/YYYYTHH:mm aa")>ze()(e.appointed_date).format("MM/DD/YYYYTHH:mm aa")&&ze()(new Date).format("MM/DD/YYYYTHH:mm aa")<ze()(e.appointed_date).add(30,"minutes").format("MM/DD/YYYYTHH:mm aa")?e:null}));a.setState({videoPending:n,loading:!1,numOfMessages:l.length})}})).then((function(){a.peopleInWaitingRoom(a.state.doctorCurent.id),a.handleAll(),a.paginate(a.state.page),a.getUnreadMessages(a.state.doctorCurent.id)})).catch((function(e){console.log(e.response,"error"),a.setState({loading:!1})}));case 2:case"end":return t.stop()}}))},a.paginate=function(e){if(0===a.state.searchedUpcomingOrPast.length){var t=Math.ceil(a.state.upcomingOrPast.length/10),n=10*(e-1),l=a.state.upcomingOrPast.slice(n,n+10);a.setState({paginatedExams:l,loading:!1,maxPages:t})}else{var s=Math.ceil(a.state.searchedUpcomingOrPast.length/10),c=10*(e-1),r=a.state.searchedUpcomingOrPast.slice(c,c+10);a.setState({paginatedExams:r,loading:!1,maxPages:s})}},a.handleWaitingRoom=function(e){a.state.waitingRoom[0].id===e?a.props.history.push("/doctor/processing/video/exam/".concat(e,"/#init")):ce.NotificationManager.error("Client is not next in line","Failed!",3e3)},a.hnlClick=function(){a.props.history.push("/doctors-email-list")},a.hnlVideoClick=function(){a.props.history.push("/doctors-video-list")},a.hnlWaitingClick=function(){a.props.history.push("/doctors-queue-list")},a.handleDoctorProfile=function(){var e;return se.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:e="Bearer ".concat(a.state.token),he.a.get("https://healthcarebackend.xyz/api/doctor/profile/",{headers:{Authorization:e}}).then((function(e){var t=e.data.data;return a.connecSocket(t.id),a.props.curentDoc(t),a.setState({doctorCurent:t})}));case 2:case"end":return t.stop()}}))},a.peopleInWaitingRoom=function(e){var t;return se.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:t="Bearer ".concat(a.state.token),he.a.get("https://healthcarebackend.xyz/api/queue/today/".concat(e,"/"),{headers:{Authorization:t}}).then((function(e){console.log(e),e.data.data.queue.forEach((function(e){e.created!==ze()(new Date).format("YYYY-MM-DD")&&"In the queue"===e.status&&a.changeStatusOfPastExams(e.id)}));var t=e.data.data.queue.filter((function(e){return"Accepted"===e.status||"In the queue"===e.status}));a.setState({waitingRoom:t,exams:Object(xe.a)(a.state.exams.concat(e.data.data.queue))})})).then((function(){a.handleAll()})).catch((function(e){console.log(e.response)}));case 2:case"end":return n.stop()}}))},a.changeStatusOfPastExams=function(e){var t,n,l;return se.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return t="Bearer ".concat(a.state.token),s.next=3,se.a.awrap(fetch("https://healthcarebackend.xyz/api/queue/detail/".concat(e,"/"),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:t},body:JSON.stringify({status:"Decline"})}));case 3:return n=s.sent,s.next=6,se.a.awrap(n.json());case 6:return l=s.sent,console.log(l),s.abrupt("return",l);case 9:case"end":return s.stop()}}))},a.handleClickMail=function(e){a.props.history.push("/doctor/exam/detail/".concat(e))},a.hnlMyConsultations=function(){a.handleAll(),a.setState({hamburger:!1})},a.connecSocket=function(e){var t=new WebSocket("wss://healthcarebackend.xyz/ws/dashboard/doctor/".concat(e,"/"));t.onopen=function(){console.log("connected to port")},t.onmessage=function(e){"In the queue"!==JSON.parse(e.data).statu&&a.props.statusChangeWR(JSON.parse(e.data).id),a.messagesNumber()},t.onclose=function(){console.error("disconected")}},a.messagesNumber=function(){a.paginatedExams(),a.pnd()},a.getUnreadMessages=function(e){var t;return se.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:t="Bearer ".concat(a.state.token),he.a.get("https://healthcarebackend.xyz/api/exams/doctor/".concat(e,"/"),{headers:{Authorization:t}}).then((function(e){console.log(e,"messages");var t=e.data.data.filter((function(e){return 0!==e.messages.length?e.messages[e.messages.length-1].sender!=="".concat(a.state.doctorCurent.prefix," ").concat(a.state.doctorCurent.doctor):e})).map((function(e){return e.exam.id}));a.setState({mail:t})})).catch((function(e){console.log(e.response)}));case 2:case"end":return n.stop()}}))},a.handleClientSearch=function(){a.setState({searchClient:!a.state.searchClient})},a.handleTypeSearch=function(){a.setState({searchByTypeClick:!a.state.searchByTypeClick})},a.searchByName=function(e){if(""===e.target.value&&""===a.state.searchType)a.setState({filterFiltered:[]});else if(""===e.target.value&&""!==a.state.searchName){a.setState({filterFiltered:[]});var t=setInterval((function(){a.handlingSearchByType(),clearInterval(t)}),10)}a.setState({searchName:e.target.value});var n=setInterval((function(){a.handlingSearchByName(),clearInterval(n)}),10)},a.handlingSearchByName=function(){var e=a.state.searchName.toLowerCase().split(" "),t=0===a.state.filterFiltered.length?a.state.upcomingOrPast.filter((function(t){var a=t.client.split(" ");if(e[1]){if(a[0].toLowerCase().indexOf(e[0])===e[0].indexOf(e[0])&&a[1].toLowerCase().indexOf(e[1])===e[1].indexOf(e[1])||a[0].toLowerCase().indexOf(e[1])===e[1].indexOf(e[1])&&a[1].toLowerCase().indexOf(e[0])===e[0].indexOf(e[0]))return t}else if(a[0].toLowerCase().indexOf(e[0])===e[0].indexOf(e[0])||a[1].toLowerCase().indexOf(e[0])===e[0].indexOf(e[0]))return t;return null})):a.state.filterFiltered.filter((function(t){var a=t.client.split(" ");if(e[1]){if(a[0].toLowerCase().indexOf(e[0])===e[0].indexOf(e[0])&&a[1].toLowerCase().indexOf(e[1])===e[1].indexOf(e[1])||a[0].toLowerCase().indexOf(e[1])===e[1].indexOf(e[1])&&a[1].toLowerCase().indexOf(e[0])===e[0].indexOf(e[0]))return t}else if(a[0].toLowerCase().indexOf(e[0])===e[0].indexOf(e[0])||a[1].toLowerCase().indexOf(e[0])===e[0].indexOf(e[0]))return t;return null})),n=0===t.length?"No Such Client":0!==t.length&&"No Such Client"!==a.state.messageIfEmpty?a.state.messageIfEmpty:"";0===a.state.filterFiltered.length&&a.setState({filterFiltered:t}),a.setState({searchedUpcomingOrPast:t,page:1,messageIfEmpty:n}),a.paginate(1)},a.ResetonSelectChange=function(){a.setState({filterFiltered:[]});var e=setInterval((function(){a.handlingSearchByName(),clearInterval(e)}),10)},a.searchByType=function(e){if(""===e.target.value&&""===a.state.searchName)a.setState({filterFiltered:[]});else if(""===e.target.value&&""!==a.state.searchName){a.setState({filterFiltered:[]});var t=setInterval((function(){a.handlingSearchByName(),clearInterval(t)}),10)}var n=e.target.value.toLowerCase();a.setState({searchType:n});var l=setInterval((function(){a.handlingSearchByType(),clearInterval(l)}),10)},a.handlingSearchByType=function(){var e=0===a.state.filterFiltered.length?a.state.upcomingOrPast.filter((function(e){return e.exam_type.toLowerCase().indexOf(a.state.searchType)===a.state.searchType.indexOf(a.state.searchType)?e:null})):a.state.filterFiltered.filter((function(e){return e.exam_type.toLowerCase().indexOf(a.state.searchType)===a.state.searchType.indexOf(a.state.searchType)?e:null})),t=0===e.length?"No Such Type":0!==e.length&&"No Such Type"!==a.state.messageIfEmpty?a.state.messageIfEmpty:"";0===a.state.filterFiltered.length&&a.setState({filterFiltered:e}),a.setState({searchedUpcomingOrPast:e,page:1,messageIfEmpty:t}),a.paginate(1)},a.handlePageChange=function(e){a.setState({page:e}),a.paginate(e)},a.state={exams:[],paginatedExams:[],upcomingOrPast:[],searchedUpcomingOrPast:[],filterFiltered:[],record:[],token:sessionStorage.getItem("accessToken"),pending:[],videoPending:[],waitingRoom:[],openWaitingRoom:!1,value:"",doctorCurent:"",page:1,maxPages:"",loading:!0,hamburger:!1,numOfMessages:0,messageIfEmpty:"",currentFilterClicked:"",mail:[],searchName:"",searchClient:!1,searchByTypeClick:!1,searchType:""},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.handleDoctorProfile(),this.paginatedExams(),this.pnd()}},{key:"componentWillUnmount",value:function(){"/login"===window.location.pathname&&this.props.history.push("/logOutQuestion")}},{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"header"},l.a.createElement("div",null,l.a.createElement(ne,null),l.a.createElement(ge,null))),l.a.createElement(it,{props:this}),l.a.createElement(mt,{handleClick:this.handleClick,handleClickMail:this.handleClickMail,handleClient:this.handleClient,hnlClick:this.hnlClick,hnlClick2:this.hnlClick2,hnlClick3:this.hnlClick3,hnlWaitingClick:this.hnlWaitingClick,props:this,handleKeyPress:this.handleKeyPress,handleChange:this.handleChange,handleClickLeft:this.handleClickLeft,handleClickRight:this.handleClickRight,loading:this.state.loading,hnlVideoClick:this.hnlVideoClick,handleWaitingRoom:this.handleWaitingRoom,handleVideoPendingClick:this.handleVideoPendingClick,handleUpcoming:this.handleUpcoming,handlePast:this.handlePast,handleAll:this.handleAll,hnlMyConsultations:this.hnlMyConsultations,handleClientSearch:this.handleClientSearch,handleTypeSearch:this.handleTypeSearch,searchByType:this.searchByType,searchByName:this.searchByName,ResetonSelectChange:this.ResetonSelectChange,handlePageChange:this.handlePageChange}))}}]),t}(n.Component),ht=Object(h.b)(null,(function(e){return Object(p.bindActionCreators)({curentDoc:Le,statusChangeWR:ut},e)}))(pt),gt=a(27),ft=(a(208),a(108)),Et=a.n(ft),vt=a(54),yt=a.n(vt),bt=a(74),xt=a.n(bt),Nt=function(e){var t=e.exam,a=e.handleStatus,s=e.statusValue,c=(e.handleReplyClick,e.onChangeHandler),r=e.handleSubmitSend,i=e.handleMessage,o=e.newMessage,d=e.props,m=e.declineReason,u=e.saveReason,p=e.handlePage,h=e.handleClick,g=e.loading,f=e.searchByType,E=e.ResetonSelectChange,v=e.handlePageChange,y={control:function(){return{width:160,border:"2px solid #fa9551",borderRadius:"10px",height:"33px",fontWeight:600,display:"flex",background:"transparent"}}};return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"header"},l.a.createElement("div",null,l.a.createElement(ne,null),l.a.createElement(ge,null))),l.a.createElement(rt,null),t&&t.map((function(e){var t="Appointed"===e.status?"Accepted":e.status,b="Accepted"!==e.status?[{value:"Accept",label:"Accept"},{value:"Decline",label:"Decline"}]:[{value:"Finish",label:"Finish"}];return l.a.createElement(n.Fragment,{key:e.id},"consultDetail"===d.PageonNav&&l.a.createElement("div",{className:"detail_exam"},l.a.createElement("div",{className:"iconVideo"},l.a.createElement("div",{className:"ConsulDetails",style:{borderBottom:"consultDetail"===d.PageonNav&&"4px solid #fa9551"},onClick:function(){p("consultDetail")}},l.a.createElement("h4",{style:{fontWeight:"consultDetail"===d.PageonNav&&"bold"}},"Consultations details")," "),l.a.createElement("div",{className:"ConsulDetails",style:{borderBottom:"clientDetail"===d.PageonNav&&"4px solid #fa9551"},onClick:function(){p("clientDetail")}},l.a.createElement("h4",{style:{fontWeight:"clientDetail"===d.PageonNav&&"bold"}},"Client details")," ")),l.a.createElement("div",{className:"detail"},l.a.createElement("p",null,l.a.createElement("span",null,"Client:")," ",e.client),l.a.createElement("p",null,l.a.createElement("span",null,"Created:")," ",ze()(e.created).add(1,"hours").format("MM/DD/YY HH:mm")),l.a.createElement("p",null,l.a.createElement("span",null,"Type:")," ",e.exam_type),"Canceled"===e.status||"Finished"===e.status||"Declined"===e.status?l.a.createElement("p",null,l.a.createElement("span",null,"Status:")," ",e.status):l.a.createElement("div",{className:"divSelectButton"},l.a.createElement(gt.a,{type:"text",styles:y,placeholder:t,className:"select-option",value:s,options:b,onChange:a}))),l.a.createElement("div",{className:"sideMessageDetails"},l.a.createElement("div",{className:"SubjectMessage"},l.a.createElement("div",{className:"sideSub"},l.a.createElement("p",null,l.a.createElement("span",{style:{fontWeight:"bold"}},"Subject:")," ",e.subject),l.a.createElement("p",null,l.a.createElement("span",null,ze()(e.appointed_date).format("MM/DD/YY"))," ",ze()(e.appointed_date).format(" HH:mm"))),l.a.createElement("div",{className:"messageDiv"},l.a.createElement("textarea",{defaultValue:e.message,id:"messageMainText",readOnly:!0}),l.a.createElement("div",{className:"mainFileDiv"},l.a.createElement("div",{className:"FileDiv"},l.a.createElement("p",null,"Files")),e.attachment&&l.a.createElement("div",{onClick:function(){window.location.href="https://healthcarebackend.xyz".concat(e.attachment)},className:"fileForDownload"},l.a.createElement(fe.c,null),l.a.createElement("p",null,e.attachment.substring(e.attachment.lastIndexOf("/")+1))))),l.a.createElement("div",{className:""}),l.a.createElement("div",{className:"reportIfDeclined",style:{display:"Declined"===e.status?"block":"Decline"!==d.selectedStatus?"none":"block"}},l.a.createElement("div",{className:"subjectDiv"},l.a.createElement("p",null,l.a.createElement("span",null,"Decline reason:"))),l.a.createElement("div",{className:"messageDivReport"},l.a.createElement("textarea",{name:"text",disabled:"Declined"===e.status&&!0,placeholder:e.decline_notes?e.decline_notes:"text",value:d.declineReason,onChange:m,id:"textarea"})),l.a.createElement("button",{style:{display:"Declined"===e.status&&"none"},onClick:u},"Save"))),l.a.createElement("div",{className:"mainMessageCorrespondence",style:{overflow:0===d.correspondence.length&&"hidden"}},l.a.createElement("div",{className:"MessageCorrespondence"},d.correspondence.map((function(t,a){return l.a.createElement("div",{key:t.id,style:{width:t.sender===d.doctor&&"90%"},className:"Maintbody"},l.a.createElement("div",{style:{background:t.sender===d.doctor&&"#00aff0"},className:"senderMaiin"},l.a.createElement("p",{className:"senderP"},l.a.createElement("span",null,"From:")," ",t.sender),l.a.createElement("p",{className:"createdP"},ze()(t.created).add(1,"hours").format("MM/DD/YY HH:mm")),l.a.createElement("div",{id:"imageDiv"})),l.a.createElement("div",{className:"row1"},l.a.createElement("textarea",{id:t.id,defaultValue:t.message,readOnly:!0,className:"message"}),t.attachment?l.a.createElement("div",{className:"mainFileDiv"},l.a.createElement("div",{className:"FileDiv"},l.a.createElement("p",null,"Files")),t.attachment&&l.a.createElement("div",{onClick:function(){window.location.href="https://healthcarebackend.xyz".concat(e.exam.attachments)},className:"fileForDownload"},l.a.createElement("p",null,t.attachment.substring(t.attachment.lastIndexOf("/")+1)))):null))}))),d.replyClicked&&l.a.createElement("div",{className:"SendMainDiv",style:{marginBottom:"20px"}},l.a.createElement("div",{style:{background:"#00aff0"},className:"senderMaiin"},l.a.createElement("p",{className:"senderP"},l.a.createElement("span",null,"From:")," ",d.doctor),l.a.createElement("p",{className:"createdP"},ze()(new Date).format("MM/DD/YY HH:mm"))),l.a.createElement("textarea",{type:"text",className:"messageTextInput",placeholder:"Message...",onChange:i,value:d.messageValue}),l.a.createElement("div",{className:"sendbuttonAndAtt"},l.a.createElement("button",{onClick:r},l.a.createElement(ve.c,{className:"replyIcon"}),l.a.createElement("span",null,"Send")),l.a.createElement("div",{className:"upload-btn-wrapper"},l.a.createElement("button",{className:"btn"},l.a.createElement("img",{src:yt.a,alt:""})),l.a.createElement("input",{type:"file",name:"myfile",onChange:c})),d.selectedFile&&l.a.createElement("div",{className:"fileForDownload"},l.a.createElement("p",null,d.selectedFile.name.substring(d.selectedFile.name.lastIndexOf("/")+1)))))),"Accepted"===e.status&&l.a.createElement("button",{className:"newMessage",onClick:o},l.a.createElement("h1",null,"+")))),d.record&&"clientDetail"===d.PageonNav&&d.record.map((function(e){console.log(e);var t=e.client.split(" ");return l.a.createElement("div",{key:e.id,className:"mainClien"},l.a.createElement("div",{className:"iconVideoo"},l.a.createElement("div",{className:"ConsulDetails",style:{borderBottom:"consultDetail"===d.PageonNav&&"4px solid #fa9551"},onClick:function(){p("consultDetail")}},l.a.createElement("h4",{style:{fontWeight:"consultDetail"===d.PageonNav&&"bold"}},"Consultations details")," "),l.a.createElement("div",{className:"ConsulDetails",style:{borderBottom:"clientDetail"===d.PageonNav&&"4px solid #fa9551"},onClick:function(){p("clientDetail")}},l.a.createElement("h4",{style:{fontWeight:"clientDetail"===d.PageonNav&&"bold"}},"Client details")," ")),l.a.createElement("div",{className:"client"},l.a.createElement("img",{src:e.image.includes("default")?xt.a:"https://healthcarebackend.xyz/media/".concat(e.image),alt:"cliet profile"}),l.a.createElement("div",{className:"client-p"},l.a.createElement("p",null,l.a.createElement("span",null,"First Name:")," ",t[0]),l.a.createElement("p",null,l.a.createElement("span",null,"Last Name:")," ",t[1]),l.a.createElement("p",null,l.a.createElement("span",null,"Address:")," ",e.address),l.a.createElement("p",null,l.a.createElement("span",null,"E-mail:")," ",e.email),l.a.createElement("p",null,l.a.createElement("span",null,"Phone number:")," ",e.phone),l.a.createElement("p",null,l.a.createElement("span",null,"Date of birth:")," ",e.birth_date),l.a.createElement("p",null,l.a.createElement("span",null,"M"===e.gender?"Male":"Female")))),l.a.createElement("div",{className:"form"},l.a.createElement("div",{className:"conditionss"},"Chronical conditions:"," "," ",l.a.createElement("br",null),l.a.createElement("textarea",{type:"text",readOnly:!0,className:"address-input",placeholder:e.chronical_conditions,id:"ChronicalConditions"})),l.a.createElement("div",{className:"allergiess"},"Allergies:"," ",l.a.createElement("textarea",{type:"text",readOnly:!0,className:"address-input",placeholder:e.allergies,id:"Allergies"}))))})),"clientDetail"===d.PageonNav&&g?l.a.createElement("img",{src:T.a,className:"loading",alt:"loading...",style:{width:"150px"}}):"clientDetail"!==d.PageonNav||g?null:l.a.createElement("div",{className:"mainTabelRecord"},l.a.createElement("div",{className:"mainConsultation"},l.a.createElement("div",{className:"icon_left"},l.a.createElement("p",null,"Consultations"))),l.a.createElement("table",{className:"table2"},l.a.createElement("thead",{className:"client-head"},l.a.createElement("tr",{className:"client-row"},l.a.createElement("th",{className:"client-subject"},"Subject"),l.a.createElement("th",{className:"client-type",style:{padding:d.searchClient&&"0 0 30px 0"}},l.a.createElement("div",{className:"mainExamDiv"},l.a.createElement("select",{type:"text",placeholder:"",onClick:E,onChange:f,defaultValue:d.searchType},l.a.createElement("option",{value:""},"Type"),l.a.createElement("option",{value:"mail"},"Email"),l.a.createElement("option",{value:"video"},"Video"),l.a.createElement("option",{value:"queue"},"Waiting room")))),l.a.createElement("th",{className:"client-date"},"Date"),l.a.createElement("th",{className:"client-status",style:{padding:d.searchClient&&"0 0 30px 0"}},"Status"))),""===d.messageIfEmpty&&d.paginatedExams.map((function(e,t){return console.log(e),l.a.createElement("tbody",{key:t,className:"client-body"},l.a.createElement("tr",{className:"list-group",style:{fontWeight:e.isRead&&700},onClick:function(){return h(e.id,e.exam_type)}},l.a.createElement("td",{className:"client-subject"},e.subject),l.a.createElement("td",{className:"client-subject"},e.exam_type),l.a.createElement("td",{className:"created"},e.created&&!e.appointed_date?l.a.createElement("p",null," ",ze()(e.created).format("MM/DD/YY")):e.appointed_date?l.a.createElement("p",null," ",ze()(e.appointed_date).format("MM/DD/YY HH:mm")):null),l.a.createElement("td",{className:"client-status"},"Pending"===e.status||"In the queue"===e.status?l.a.createElement("img",{src:we.a,alt:"clockIcon",className:"pendi"}):"Declined"===e.status||"Canceled"===e.status?l.a.createElement("img",{src:Oe.a,alt:"declined",className:"declined"}):"Finished"===e.status?l.a.createElement(Ne.a,{className:"finished"}):l.a.createElement("img",{src:Ce.a,alt:"ckeck",className:"check"}),l.a.createElement("h5",{className:"status"},e.status))))}))),""!==d.messageIfEmpty&&l.a.createElement("div",{className:"NoResultDiv"},d.messageIfEmpty)),"clientDetail"===d.PageonNav&&l.a.createElement("div",{className:"pagi"},l.a.createElement(He.a,{activePage:d.page,itemsCountPerPage:10,totalItemsCount:0===d.searchedUpcomingOrPast.length?d.exams.length:d.searchedUpcomingOrPast.length,pageRangeDisplayed:10,onChange:v})))})))},St=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(d.a)(t).call(this,e))).handleMessage=function(e){document.querySelector(".messageTextInput").style.height="".concat(e.target.scrollHeight,"px"),a.setState({messageValue:e.target.value})},a.detail=function(e){var t="Bearer ".concat(a.state.token);he.a.get("https://healthcarebackend.xyz/api/doctor/exams/".concat(e,"/"),{headers:{Authorization:t}}).then((function(e){console.log(e,"current"),a.setState({exam:[e.data.data],clientID:e.data.data.client_id,doctor:e.data.data.doctor}),a.record(e.data.data.client_id),a.clientsExams(e.data.data.client_id);var t=document.getElementById("messageMainText"),n=document.querySelector(".messageDiv");console.log(t),t.scrollHeight<300?(t.style.height="".concat(t.scrollHeight,"px"),n.style.height="".concat(t.scrollHeight+60,"px")):t.style.height="300px"}))},a.handleSubmit=function(e){var t=a.props.match.params.id;"Decline"!==e&&a.doctorExam(t,e)},a.handleReplyClick=function(){a.setState({replyClicked:!a.state.replyClicked})},a.newMessage=function(){a.setState({replyClicked:!0})},a.handleStatus=function(e){a.setState({statusValue:e});var t=e.value;a.setState({selectedStatus:t}),a.handleSubmit(t)},a.onChangeHandler=function(e){a.setState({selectedFile:e.target.files[0]})},a.doctorExam=function(e,t){var n,l,s;return se.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return console.log(e,t),n="Bearer ".concat(a.state.token),c.next=4,se.a.awrap(fetch("https://healthcarebackend.xyz/api/doctor/exams/".concat(e,"/"),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:n},body:JSON.stringify({status:t,decline_notes:a.state.declineReason,report:a.state.report})}));case 4:return l=c.sent,c.next=7,se.a.awrap(l.json());case 7:return s=c.sent,console.log(s),s.success&&a.socket.send({exam_id:a.state.id,changedStatus:!0}),c.abrupt("return",s);case 11:case"end":return c.stop()}}))},a.connecSocket=function(e){var t=new WebSocket("wss://healthcarebackend.xyz/ws/dashboard/doctor/".concat(e,"/"));t.onopen=function(){console.log("connected to port")},t.onmessage=function(e){var t=JSON.parse(e.data);console.log(t),t.id===JSON.parse(a.state.id)&&"mail"===t.exam_type&&(console.log("da li se ovo pokrece nekako"),a.detail(a.state.id),a.correspondence(a.state.id))}},a.handleSubmitSend=function(e){a.state.messageValue?(a.sendMessage(),a.setState({messageValue:"",replyClicked:!1})):ce.NotificationManager.error("Empty Fields","Failed!",2e3)},a.sendMessage=function(){var e,t,n,l,s;return se.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return(e=new FormData).append("message",a.state.messageValue),e.append("attachment",a.state.selectedFile),t="Bearer ".concat(a.state.token),n="https://healthcarebackend.xyz/api/doctor/exams/".concat(a.state.id,"/message/"),l=he.a.post(n,e,{headers:{"content-type":"multipart/form-data",Authorization:t}}),c.next=8,se.a.awrap(l);case 8:return s=c.sent,console.log(s),s.data.success&&(ce.NotificationManager.success("Message Sent","Successful!",2e3),a.socket.send({exam_id:a.state.id,message:a.state.messageValue}),a.detail(a.state.id),a.correspondence(a.state.id)),c.abrupt("return",l);case 12:case"end":return c.stop()}}))},a.correspondence=function(e){var t="Bearer ".concat(a.state.token);he.a.get("https://healthcarebackend.xyz/api/doctor/exams/".concat(e,"/messages/"),{headers:{Authorization:t}}).then((function(e){console.log(e);var t=e.data.data.map((function(e){return{id:e.id,sender:e.sender,created:e.created,message:e.message,attachment:e.attachment}})),n=t.sort((function(e,t){return Date.parse(e.created)-Date.parse(t.created)}));a.setState({correspondence:n,lastInArray:t[t.length-1]})})).then((function(){Object(xe.a)(document.querySelectorAll(".message")).map((function(e){if(e.clientHeight<e.scrollHeight){console.log(e);var t=e.parentElement.previousSibling.lastChild;t.style.display="block",t.onclick=function(){console.log(e.scrollHeight,e.clientHeight),e.scrollHeight===e.clientHeight?e.style.height="100px":300===e.clientHeight?e.style.height="100px":e.scrollHeight<300?e.style.height="".concat(e.scrollHeight,"px"):e.style.height="300px"}}}))})).catch((function(e){console.log(e.response)}))},a.declineReason=function(e){a.setState({declineReason:e.target.value}),e.target.scrollHeight<300?e.target.style.height="".concat(e.target.scrollHeight,"px"):e.target.style.height="300px"},a.saveReason=function(){var e=a.props.match.params.id;a.doctorExam(e,a.state.selectedStatus)},a.resetValue=function(){a.setState({value:""});var e=document.querySelector(".inputMessage");document.getElementById("yourMessage").style.height="30px",e.style.height="30px"},a.handlePage=function(e){a.setState({PageonNav:e});var t=setInterval((function(){if("clientDetail"===e){var a=document.getElementById("ChronicalConditions");a.style.height="".concat(a.scrollHeight,"px"),console.log(a);var n=document.getElementById("Allergies");n.style.height="".concat(n.scrollHeight,"px")}clearInterval(t)}),200)},a.record=function(e){var t="Bearer ".concat(a.state.token);he.a.get("https://healthcarebackend.xyz/api/doctor/record/".concat(e,"/"),{headers:{Authorization:t}}).then((function(e){return console.log(e,"nzm ni ja sta"),a.handleAll(),a.setState({record:[e.data.data]})}))},a.clientsExams=function(e){var t="Bearer ".concat(a.state.token);he.a.get("https://healthcarebackend.xyz/api/exams/client/".concat(e,"/list/"),{headers:{Authorization:t}}).then((function(e){console.log(e,"podaciiii");var t=e.data.data.mail.concat(e.data.data.queue,e.data.data.video);return a.setState({exams:t})})).then((function(){a.handleAll()}))},a.handleAll=function(){var e=setInterval((function(){var t=a.state.exams,n=t.sort((function(e,t){return Date.parse(t.created)-Date.parse(e.created)})),l=0===t.length?"No consultations":"";a.setState({upcomingOrPast:n,page:1,messageIfEmpty:l,currentFilterClicked:"all",searchedUpcomingOrPast:[],filterFiltered:[],searchType:"",searchName:""}),a.paginate(1),clearInterval(e)}),10)},a.paginate=function(e){if(0===a.state.searchedUpcomingOrPast.length){var t=Math.ceil(a.state.upcomingOrPast.length/10),n=10*(e-1),l=a.state.upcomingOrPast.slice(n,n+10);a.setState({paginatedExams:l,loading:!1,maxPages:t})}else{var s=Math.ceil(a.state.searchedUpcomingOrPast.length/10),c=10*(e-1),r=a.state.searchedUpcomingOrPast.slice(c,c+10);a.setState({paginatedExams:r,loading:!1,maxPages:s})}},a.searchByType=function(e){""===e.target.value&&""===a.state.searchName?a.setState({filterFiltered:[]}):""===e.target.value&&""!==a.state.searchName&&a.setState({filterFiltered:[]});var t=e.target.value.toLowerCase();a.setState({searchType:t});var n=setInterval((function(){a.handlingSearchByType(),clearInterval(n)}),10)},a.handlingSearchByType=function(){var e=0===a.state.filterFiltered.length?a.state.upcomingOrPast.filter((function(e){return e.exam_type.toLowerCase().indexOf(a.state.searchType)===a.state.searchType.indexOf(a.state.searchType)?e:null})):a.state.filterFiltered.filter((function(e){return e.exam_type.toLowerCase().indexOf(a.state.searchType)===a.state.searchType.indexOf(a.state.searchType)?e:null})),t=0===e.length?"No Such Type":0!==e.length&&"No Such Type"!==a.state.messageIfEmpty?a.state.messageIfEmpty:"";0===a.state.filterFiltered.length&&a.setState({filterFiltered:e}),a.setState({searchedUpcomingOrPast:e,page:1,messageIfEmpty:t}),a.paginate(1)},a.handleClick=function(e,t){"mail"===t?a.props.history.push("/doctor/exam/detail/".concat(e)):"video"===t?a.props.history.push("/doctor/video/exam/detail/".concat(e,"/#init")):"queue"===t&&a.props.history.push("/doctor/processing/video/exam/".concat(e,"/#init"))},a.ResetonSelectChange=function(){a.setState({filterFiltered:[]})},a.handlePageChange=function(e){a.setState({page:e}),a.paginate(e)},a.state={exam:[],statusValue:"",selectedStatus:"",token:sessionStorage.getItem("accessToken"),id:"",correspondence:[],lastInArray:null,replyClicked:!1,messageValue:"",selectedFile:"",doctor:"",declineReason:"",report:"",page:1,PageonNav:"",clientID:"",currentFilterClicked:"",searchName:"",searchType:"",messageIfEmpty:"",paginatedExams:[],searchedUpcomingOrPast:[],exams:[]},a.socket=new WebSocket("wss://healthcarebackend.xyz/ws/message/".concat(a.props.match.params.id,"/")),a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentWillUnmount",value:function(){this.socket.close()}},{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.id;this.setState({id:t,PageonNav:"consultDetail"}),this.detail(t),this.correspondence(t),this.socket.onopen=function(){console.log("connected")},this.socket.onmessage=function(a){var n=JSON.parse(a.data);console.log(n),n.exam_id===parseInt(t)&&(e.detail(e.state.id),e.correspondence(e.state.id))};var a="Bearer ".concat(this.state.token);he.a.get("https://healthcarebackend.xyz/api/doctor/profile/",{headers:{Authorization:a}}).then((function(t){var a=t.data.data;e.connecSocket(a.id)}))}},{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(Nt,{exam:this.state.exam,handleStatus:this.handleStatus,handleReplyClick:this.handleReplyClick,handleSubmitSend:this.handleSubmitSend,props:this.state,onChangeHandler:this.onChangeHandler,handleMessage:this.handleMessage,newMessage:this.newMessage,declineReason:this.declineReason,saveReason:this.saveReason,resetValue:this.resetValue,extendTextArea:this.extendTextArea,handlePage:this.handlePage,handleClick:this.handleClick,loading:this.state.loading,searchByType:this.searchByType,ResetonSelectChange:this.ResetonSelectChange,handlePageChange:this.handlePageChange}))}}]),t}(n.Component),Ct=a(24),kt=(a(342),a(46)),wt=a.n(kt),Dt=a(47),Ot=a.n(Dt),Pt=function(e){var t=e.userType,a=e.handleEmail,n=e.handleFirstName,s=e.handleLastName,c=e.handlePass,r=e.handleAddress,i=e.handleBirthDate,o=e.handleSpec,d=e.handleSubmit,m=e.handleGenderRadio,u=e.handleUserType,p=e.handleConfPass,h=e.handlePhoneNumber,g=e.handleOrganization,f=e.handleImage1,E=e.handleImage2,v=e.props,y={control:function(e,t){return Object(Ct.a)({},e,{height:"40px",border:"1.7px solid #fa9551",borderRadius:"10px",flex:"1",fontWeight:"700",marginLeft:"2px",background:!v.selectedSpecValue&&v.color&&"rgb(245, 192, 192)",color:"#666666"})}};return l.a.createElement("div",{className:"mainRegisterDiv"},v.loading&&l.a.createElement("img",{src:T.a,className:"loading",alt:"loading...",style:{width:"150px"}}),l.a.createElement("img",{src:T.a,className:"logo",alt:"cLogo"}),l.a.createElement("div",{className:"radioDiv"},l.a.createElement("h1",{className:"head"},"Are you a doctor or a client?"),l.a.createElement("div",{className:"checkingInputs"},l.a.createElement("div",{className:"doctorORClient"},l.a.createElement("input",{className:"doctorRadio",type:"checkbox",name:"userType",value:"doctor",id:"r1",checked:"doctor"===v.userType,onChange:function(){return u("doctor")},style:{}}),l.a.createElement("label",{htmlFor:"r1",className:"doctorLabel"},"Doctor"),l.a.createElement("input",{className:"clientRadio",type:"checkbox",name:"userType",id:"r2",value:"client",checked:"client"===v.userType,onChange:function(){return u("client")}}),l.a.createElement("label",{htmlFor:"r2",className:"clientLabel"},"Client")),l.a.createElement("div",{className:"gender"},l.a.createElement("div",{className:"maleGender"},l.a.createElement("input",{className:"maleRadio",type:"radio",name:"userType",value:"Male",id:"M",onChange:function(){return m("M")}}),l.a.createElement("label",{htmlFor:"M",className:"Male"},"Male")),l.a.createElement("div",{className:"femaleGender"},l.a.createElement("input",{className:"femaleRadio",type:"radio",name:"userType",id:"F",value:"Female",onChange:function(){return m("F")}}),l.a.createElement("label",{htmlFor:"F",className:"Female"},"Female")),l.a.createElement("p",{style:{display:!v.selectedGenderValue&&v.color?"block":"none"}},"Select gender")))),l.a.createElement("div",{className:"register-form",autoComplete:"nope"},l.a.createElement("div",{className:"firstLastGender"},l.a.createElement("div",{className:"reg-name"},l.a.createElement("label",{htmlFor:"firstname"},"First Name"),l.a.createElement("input",{type:"text",className:"form-control",autoComplete:"nope",name:"field",id:"firstname",style:{background:!v.firstNameValue&&v.color&&"rgb(245, 192, 192)"},value:v.firstNameValue,onChange:n})),l.a.createElement("div",{className:"reg-surname"},l.a.createElement("label",{htmlFor:"lastname"},"Last Name"),l.a.createElement("input",{type:"text",className:"form-control",id:"lastname",autoComplete:"nope",name:"field",style:{background:!v.lastNameValue&&v.color&&"rgb(245, 192, 192)"},value:v.lastNameValue,onChange:s}))),l.a.createElement("div",{className:"regPass"},l.a.createElement("div",{className:"reg-email"},l.a.createElement("label",{htmlFor:"email"},"E-mail"),l.a.createElement("input",{type:"email",className:"form-control",id:"email",style:{background:!v.emailValue&&v.color&&"rgb(245, 192, 192)"},autoComplete:"nope",name:"field",value:v.emailValue,onChange:a})),"client"===t?l.a.createElement("div",{className:"address"},l.a.createElement("label",{htmlFor:"address"},"Address"),l.a.createElement("input",{type:"text",className:"form-control",autoComplete:"nope",name:"field",style:{background:!v.addressValue&&v.color&&"rgb(245, 192, 192)"},id:"address",value:v.addressValue,onChange:r})):l.a.createElement("div",{className:"address"},l.a.createElement("label",{htmlFor:"phone"},"Phone number"),l.a.createElement("input",{type:"number",className:"form-control",id:"phone",autoComplete:"nope",name:"field",style:{background:!v.phoneNumber&&v.color&&"rgb(245, 192, 192)"},value:v.phoneNumber,onChange:h}))),"client"===t&&l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"clientsBinfo"},l.a.createElement("div",{className:"reg-pass"},l.a.createElement("label",{htmlFor:"pwd"},"Password"),l.a.createElement("div",null,l.a.createElement("input",{type:v.seePass1?"text":"password",className:"form-control",autoComplete:"nope",name:"field",id:"pwd",style:{background:!v.passwordValue&&v.color&&"rgb(245, 192, 192)"},value:v.passwordValue,onChange:c}),l.a.createElement("img",{onClick:f,src:v.seePass1?wt.a:Ot.a,alt:"img"}))),l.a.createElement("div",{className:"date"},l.a.createElement("label",{htmlFor:"birthdate"},"Birth Date"),l.a.createElement("input",{type:"date",className:"form-control",id:"birthdate",autoComplete:"nope",name:"field",style:{background:!v.birthDateValue&&v.color&&"rgb(245, 192, 192)"},value:v.birthDateValue,onChange:i}))),l.a.createElement("div",{className:"confirmAndPhone"},l.a.createElement("div",{className:"conf-pass"},l.a.createElement("label",{htmlFor:"pwd"},"Confirm Password"),l.a.createElement("div",null,l.a.createElement("input",{type:v.seePass2?"text":"password",className:"form-control",id:"pwd",autoComplete:"nope",name:"field",style:{background:!v.confPasswordValue&&v.color&&"rgb(245, 192, 192)"},value:v.confPasswordValue,onChange:p}),l.a.createElement("img",{onClick:E,src:v.seePass2?wt.a:Ot.a,alt:"img"}))),l.a.createElement("div",{className:"Phone"},l.a.createElement("label",{htmlFor:"phone"},"Phone number"),l.a.createElement("input",{type:"number",className:"form-control",id:"phone",autoComplete:"nope",name:"field",style:{background:!v.phoneNumber&&v.color&&"rgb(245, 192, 192)"},value:v.phoneNumber,onChange:h})))),"doctor"===t&&l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"clientsBinfo"},l.a.createElement("div",{className:"reg-pass"},l.a.createElement("label",{htmlFor:"pwd"},"Password"),l.a.createElement("div",null,l.a.createElement("input",{type:v.seePass1?"text":"password",className:"form-control",id:"pwd",autoComplete:"nope",name:"field",value:v.passwordValue,style:{background:!v.passwordValue&&v.color&&"rgb(245, 192, 192)"},onChange:c}),l.a.createElement("img",{onClick:f,src:v.seePass1?wt.a:Ot.a,alt:"img"}))),l.a.createElement("div",{className:"date"},l.a.createElement("label",{htmlFor:"organization"},"Organization"),l.a.createElement("input",{type:"text",className:"form-control",id:"organization",autoComplete:"nope",name:"field",style:{background:!v.organization&&v.color&&"rgb(245, 192, 192)"},value:v.organization,onChange:g}))),l.a.createElement("div",{className:"doctorsBinfo"},l.a.createElement("div",{className:"prefix"},l.a.createElement("label",{htmlFor:"pwd"},"Confirm Password"),l.a.createElement("div",null,l.a.createElement("input",{type:v.seePass2?"text":"password",className:"form-control",id:"pwd",autoComplete:"nope",name:"field",value:v.confPasswordValue,style:{background:!v.confPasswordValue&&v.color&&"rgb(245, 192, 192)"},onChange:p}),l.a.createElement("img",{onClick:E,src:v.seePass2?wt.a:Ot.a,alt:"img"}))),l.a.createElement("div",{className:"spec"},l.a.createElement("label",{htmlFor:"speciality"},"Speciality"),l.a.createElement(gt.a,{type:"text",id:"speciality",value:v.specValue,options:v.specOptions,styles:y,onChange:o})))),l.a.createElement("div",{className:"register-button"},l.a.createElement("button",{type:"submit",className:"btn",onClick:d},"Sign Up"))))},_t=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(d.a)(t).call(this,e))).handleImage1=function(){a.setState({seePass1:!a.state.seePass1})},a.handleImage2=function(){a.setState({seePass2:!a.state.seePass2})},a.handleUserType=function(e){a.setState({userType:e,seePass1:!1,seePass2:!1})},a.handleEmail=function(e){a.setState({emailValue:e.target.value})},a.handleFirstName=function(e){a.setState({firstNameValue:e.target.value})},a.handleLastName=function(e){a.setState({lastNameValue:e.target.value})},a.handlePass=function(e){a.setState({passwordValue:e.target.value})},a.handleConfPass=function(e){a.setState({confPasswordValue:e.target.value})},a.handleAddress=function(e){a.setState({addressValue:e.target.value})},a.handleBirthDate=function(e){a.setState({birthDateValue:e.target.value})},a.handleEmailPrice=function(e){a.setState({EmailPrice:e.target.value})},a.handleWebPrice=function(e){a.setState({WebPrice:e.target.value})},a.handlePhoneNumber=function(e){a.setState({phoneNumber:e.target.value})},a.handleOrganization=function(e){a.setState({organization:e.target.value})},a.handleSpec=function(e){a.setState({specValue:e});var t=e.value;a.setState({selectedSpecValue:t})},a.handleSubmit=function(e){e.preventDefault(),"client"===a.state.userType&&a.state.emailValue&&a.state.firstNameValue&&a.state.lastNameValue&&a.state.passwordValue&&a.state.selectedGenderValue&&a.state.phoneNumber&&a.state.addressValue&&a.state.birthDateValue&&a.state.confPasswordValue?(a.userRegister(),a.setState({loading:!0})):"doctor"===a.state.userType&&a.state.emailValue&&a.state.firstNameValue&&a.state.lastNameValue&&a.state.passwordValue&&a.state.confPasswordValue&&a.state.organization&&a.state.phoneNumber&&a.state.selectedGenderValue&&a.state.selectedSpecValue?(a.userRegister(),a.setState({loading:!0})):(ce.NotificationManager.error("All Fields Are Required","Failed!",2e3),a.setState({color:"red"}))},a.userRegister=function(){var e,t,n,l;return se.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:if("client"!==a.state.userType){s.next=19;break}if(a.state.confPasswordValue!==a.state.passwordValue){s.next=16;break}return s.next=4,se.a.awrap(fetch("https://healthcarebackend.xyz/api/auth/register/client/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:a.state.emailValue,first_name:a.state.firstNameValue,last_name:a.state.lastNameValue,phone:a.state.phoneNumber,password:a.state.passwordValue,confirm_password:a.state.confPasswordValue,client:{gender:a.state.selectedGenderValue,address:a.state.addressValue,birth_date:a.state.birthDateValue}})}));case 4:return e=s.sent,s.next=7,se.a.awrap(e.json());case 7:return t=s.sent,console.log(t),t&&a.setState({loading:!1}),t.success&&ce.NotificationManager.success("Registered successfully","Successful!",4e3),t.success&&a.props.history.push("/Verification"),!t.success&&ce.NotificationManager.error("".concat(t.error?t.error[Object.keys(t.error)[0]]:t.message,', "Failed')),s.abrupt("return",t);case 16:ce.NotificationManager.error("Confirm password does not match","Failed!",4e3);case 17:s.next=29;break;case 19:if("doctor"!==a.state.userType){s.next=29;break}return s.next=22,se.a.awrap(fetch("https://healthcarebackend.xyz/api/auth/register/doctor/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:a.state.emailValue,first_name:a.state.firstNameValue,last_name:a.state.lastNameValue,phone:a.state.phoneNumber,password:a.state.passwordValue,confirm_password:a.state.confPasswordValue,doctor:{gender:a.state.selectedGenderValue,speciality:a.state.selectedSpecValue,organization:a.state.organization}})}));case 22:return n=s.sent,s.next=25,se.a.awrap(n.json());case 25:return l=s.sent,console.log(l),l.success?(a.props.history.push("/Verification"),ce.NotificationManager.success("Registered successfully","Successful!",4e3)):ce.NotificationManager.error("".concat(l.error?l.error[Object.keys(l.error)[0]]:l.message,', "Failed')),s.abrupt("return",l);case 29:case"end":return s.stop()}}))},a.handleGenderRadio=function(e){a.setState({selectedGenderValue:e})},a.state={userType:"client",emailValue:"",firstNameValue:"",lastNameValue:"",passwordValue:"",confPasswordValue:"",addressValue:"",birthDateValue:"",EmailPrice:0,WebPrice:0,specOptions:[],specValue:"",selectedGenderValue:"",selectedSpecValue:"",phoneNumber:"",organization:"",seePass1:!1,seePass2:!1,loading:!1},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;he.a.get("https://healthcarebackend.xyz/api/specialities/").then((function(t){var a=t.data.data.map((function(e){return{value:e.id,label:e.name}}));e.setState({specOptions:a})}))}},{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"header"},l.a.createElement("div",null,l.a.createElement(ne,null),l.a.createElement(ge,null))),l.a.createElement(Pt,{props:this.state,userType:this.state.userType,handleEmail:this.handleEmail,handleFirstName:this.handleFirstName,handleLastName:this.handleLastName,handlePass:this.handlePass,handleAddress:this.handleAddress,handleBirthDate:this.handleBirthDate,handleEmailPrice:this.handleEmailPrice,handleWebPrice:this.handleWebPrice,handleSpec:this.handleSpec,handleSubmit:this.handleSubmit,handleGenderRadio:this.handleGenderRadio,handleUserType:this.handleUserType,handleConfPass:this.handleConfPass,handlePhoneNumber:this.handlePhoneNumber,handleOrganization:this.handleOrganization,handleImage1:this.handleImage1,handleImage2:this.handleImage2}))}}]),t}(n.Component),It=a(30),jt=(a(343),function(e){var t=e.emailValue,a=e.passwordValue,n=e.submitted,s=(e.handleEmail,e.handlePassword),c=e.handleSubmit,r=e.handleChange,i=e.handleChangeRmb,o=e.rememberMe,d=e.handleImage1,m=e.seePass1,p=e.props;return l.a.createElement("div",{className:"mainLogin"},p.loading&&l.a.createElement("img",{src:T.a,className:"loading",alt:"loading...",style:{width:"150px"}}),l.a.createElement("img",{src:T.a,className:"logo",alt:"cLogo"}),l.a.createElement("h1",null,"Log in"),l.a.createElement("h5",null,"Not a Cdoctor user yet?"),l.a.createElement(u.b,{className:"createAccount",to:"/register"},"Create your account"),l.a.createElement("form",{className:"login-form"},l.a.createElement("div",{className:"email"},l.a.createElement("label",{htmlFor:"email"},"Email"),l.a.createElement("input",{type:"email",className:"form-control",id:"email",name:"emailValue",value:t||"",onChange:r})),l.a.createElement("div",{className:"password"},l.a.createElement("label",{htmlFor:"pwd"},"Password"),l.a.createElement("div",null,l.a.createElement("input",{type:m?"text":"password",className:"form-control",id:"pwd",value:a,onChange:s}),l.a.createElement("img",{onClick:d,src:m?wt.a:Ot.a,alt:"img"}))),l.a.createElement("div",{className:"rememberForgot"},l.a.createElement("div",{onClick:i},l.a.createElement("input",{name:"rememberMe",checked:o,onChange:r,type:"checkbox"})," ",l.a.createElement("label",{htmlFor:"rememberMe"},"Remember me")),l.a.createElement(u.b,{className:"forget",to:"/forgot-password"},"Forgot Password?")),l.a.createElement("div",{className:"login-button"},l.a.createElement("button",{type:"submit",className:"btn",value:n,onClick:c},"Log In"))))}),Ft=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(d.a)(t).call(this,e))).handleImage1=function(){a.setState({seePass1:!a.state.seePass1})},a.handlePassword=function(e){a.setState({passwordValue:e.target.value})},a.handleSubmit=function(e){e.preventDefault(),a.setState({loading:!0}),a.userLogin();var t=a.state,n=t.emailValue,l=t.rememberMe;localStorage.setItem("rememberMe",l),localStorage.setItem("emailValue",l?n:"")},a.userLogin=function(){var e,t;return se.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,se.a.awrap(fetch("https://healthcarebackend.xyz/api/auth/login/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:a.state.emailValue,password:a.state.passwordValue})}));case 2:return e=n.sent,n.next=5,se.a.awrap(e.json());case 5:if(t=n.sent,console.log(t),t&&a.setState({loading:!1}),!1!==t.success||400!==t.status_code){n.next=12;break}ce.NotificationManager.error("".concat(t.error),"Failed!",3e3),n.next=25;break;case 12:if("Invalid credentials"!==t.detail&&"User does not exist"!==t.detail&&!t.error){n.next=16;break}ce.NotificationManager.error("".concat(t.error),"Failed!",2e3),n.next=25;break;case 16:if(""!==a.state.emailValue&&""!==a.state.passwordValue){n.next=20;break}ce.NotificationManager.error("All Fields Are Required","Failed!",2e3),n.next=25;break;case 20:return t.is_doctor?a.setState({is_doctor:!0}):a.setState({is_doctor:!1}),a.props.dispatch(N(t.data)),t.data.access_token&&(sessionStorage.setItem("accessToken",t.data.access_token),sessionStorage.setItem("expiresIn",t.data.expires_in),sessionStorage.setItem("is_doctor",a.state.is_doctor),localStorage.setItem("refreshToken",t.data.refresh_token),a.props.dispatch({type:"USERS_LOGIN_SUCCESS"})),a.redirectUser(),n.abrupt("return",t);case 25:case"end":return n.stop()}}))},a.redirectUser=function(){a.props.isLoggedIn?a.state.is_doctor?a.props.history.push("/dashboard-doctor"):a.props.history.push("/dashboard-client"):a.props.history.push("/login")},a.handleChange=function(e){var t=e.target,n="checkbox"===t.type?t.checked:t.value;a.setState(Object(It.a)({},t.name,n))},a.handleChangeRmb=function(){a.setState({rememberMe:!a.state.rememberMe})},a.state={emailValue:"",passwordValue:"",submitted:!1,is_doctor:!1,invalid:!1,rememberMe:!1,seePass1:!1,loading:!1},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e="true"===localStorage.getItem("rememberMe"),t=e?localStorage.getItem("emailValue"):localStorage.removeItem("emailValue");this.setState({emailValue:t,rememberMe:e})}},{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"header"},l.a.createElement("div",null,l.a.createElement(ne,null),l.a.createElement(ge,null))),l.a.createElement(jt,{emailValue:this.state.emailValue,passwordValue:this.state.passwordValue,submitted:this.state.submitted,handleEmail:this.handleEmail,seePass1:this.state.seePass1,handlePassword:this.handlePassword,handleSubmit:this.handleSubmit,handleRememberClick:this.handleRememberClick,rememberMe:this.state.rememberMe,handleChange:this.handleChange,handleChangeRmb:this.handleChangeRmb,handleImage1:this.handleImage1,props:this.state}))}}]),t}(n.Component),Mt=Object(h.b)((function(e){return{user:e.getIn(["authReducer","user"]),isLoggedIn:e.getIn(["authReducer","isLoggedIn"])}}))(Ft),Vt=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(d.a)(t).call(this,e))).handleLogout=function(e){a.handleSubmit(),sessionStorage.clear(),localStorage.removeItem("refreshToken"),a.props.dispatch({type:"USERS_LOGIN_FAILURE"}),a.redirectUser()},a.handleSubmit=function(){var e,t,a;return se.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return e="Bearer ".concat(sessionStorage.getItem("accessToken")),n.next=3,se.a.awrap(fetch("https://healthcarebackend.xyz/api/doctor/profile/",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:e},body:JSON.stringify({prefix:"",description:"",email_exam_price:null,web_exam_price:null,status:"Offline"})}));case 3:return t=n.sent,n.next=6,se.a.awrap(t.json());case 6:a=n.sent,console.log(a,"profile changed");case 8:case"end":return n.stop()}}))},a.redirectUser=function(){a.props.history.push("/login")},a.state={},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.handleLogout()}},{key:"componentDidUpdate",value:function(){this.handleLogout()}},{key:"render",value:function(){return l.a.createElement("div",{className:"container"},l.a.createElement(ne,null),l.a.createElement(ge,{handleLogout:this.handleLogout}))}}]),t}(n.Component),Tt=Object(h.b)((function(e){var t=e.get("user"),a=e.get("isLoggedIn");return console.log(a,t,"logOutttttttt"),{user:t,isLoggedIn:a}}))(Vt),Rt=(a(344),function(e){var t=e.specialities,a=e.subject,n=e.submitted,s=e.message,c=e.handleSpeciality,r=e.handleDoctor,i=e.handleSubject,o=e.handleSubmit,d=e.handleMessage,m=(e.specDoctor,e.resetDoctorSelect,e.handleAttach),u=(e.isClicked,e.props),p={control:function(e,t){return Object(Ct.a)({},e,{height:33,minHeight:"33px",border:"1.7px solid #fa9551",borderRadius:"10px",width:"100%",background:u.color&&0===u.specialSP.length?"rgb(245, 192, 192)":"white",color:"#666666",fontWeight:"500",div:{display:"flex",alignSelf:"center",height:"33px"}})},placeholder:function(){return{color:"#666666",fontWeight:"500",heigth:"33px"}},valueContainer:function(e,t){return Object(Ct.a)({},e,{height:"33px",padding:"6px"})},input:function(e,t){return Object(Ct.a)({},e,{margin:"0px"})},indicatorSeparator:function(e){return{display:"none"}},indicatorsContainer:function(e,t){return Object(Ct.a)({},e,{height:"33px"})},singleValue:function(){return{}}},h={control:function(e,t){return Object(Ct.a)({},e,{height:33,minHeight:"33px",border:"1.7px solid #fa9551",borderRadius:"10px",width:"100%",background:u.color&&!u.doctor_id?"rgb(245, 192, 192)":"white",color:"#666666",fontWeight:"500",div:{display:"flex",alignSelf:"center",height:"33px"}})},placeholder:function(){return{color:"#666666",fontWeight:"500",heigth:"33px"}},valueContainer:function(e,t){return Object(Ct.a)({},e,{height:"33px",padding:"6px"})},input:function(e,t){return Object(Ct.a)({},e,{margin:"0px"})},indicatorSeparator:function(e){return{display:"none"}},indicatorsContainer:function(e,t){return Object(Ct.a)({},e,{height:"33px"})},singleValue:function(){return{}}};return l.a.createElement("div",{className:"exam"},l.a.createElement("div",{className:"mainExam"},l.a.createElement("div",{className:"newEmail"},l.a.createElement("h4",null,"New Email")),l.a.createElement("div",{className:"exam-spec"},l.a.createElement(gt.a,{type:"text",styles:p,id:"speciality",placeholder:u.currentSpec?u.currentSpec:"Select Speciality...",options:t,onChange:c})),l.a.createElement("div",{className:"exam-doc"},l.a.createElement(gt.a,{styles:h,type:"text",id:"doctor",placeholder:"Select Doctor...",options:0===u.specDoctor.length?u.doctors:u.specDoctor,onChange:r,value:u.resetDoctorSelect})),l.a.createElement("div",{className:"exam-sub"},l.a.createElement("input",{type:"text",className:"form-control",id:"subject",maxLength:"35",style:{background:u.color&&!a?"rgb(245, 192, 192)":"white"},placeholder:"Enter subject",value:a,onChange:i}))),l.a.createElement("div",{className:"exam-mess"},l.a.createElement("div",{className:"messageTitle"},"Message:"),l.a.createElement("div",{className:"messageAndAttach",style:{background:u.color&&!s?"rgb(245, 192, 192)":"white"}},l.a.createElement("textarea",{type:"text",className:"form-control",id:"exam-message",placeholder:"Enter message",style:{background:u.color&&!s?"rgb(245, 192, 192)":"white"},value:s,onChange:d}),l.a.createElement("div",{className:"mainDivForFile"},l.a.createElement("div",{className:"upload-btn-wrapper"},l.a.createElement("button",{className:"btnn"},l.a.createElement("div",{className:"attachDiv"},l.a.createElement("p",null,"Add file"))),l.a.createElement("input",{type:"file",name:"myfile",onChange:m})),u.attach&&l.a.createElement("div",{className:"fileForDownload"},l.a.createElement("p",null,u.attach.name.substring(u.attach.name.lastIndexOf("/")+1))))),l.a.createElement("div",{className:"buttons"},l.a.createElement("button",{value:n,className:"btn",onClick:o},"Submit"))))});function At(e){return{type:"DOCTOR_OBJ",doctor:e}}var Bt=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(d.a)(t).call(this,e))).handleAttach=function(e){a.setState({attach:e.target.files[0]})},a.handleSpeciality=function(e){var t=a.state.doctors.filter((function(t){return t.spec===e.label}));a.setState({specialSP:e.value,specDoctor:t,resetDoctorSelect:null})},a.handleDoctor=function(e){console.log(e);var t=a.state.specialities.filter((function(t){return t.label===e.spec}));a.props.dispatch(At(e)),a.setState({doctor_id:e.iD,price:e.price,currency:e.currency}),a.setState({resetDoctorSelect:e,specialSP:t[0].value,currentSpec:t[0].label})},a.handleSubject=function(e){a.setState({subject:e.target.value})},a.handleMessage=function(e){a.setState({message:e.target.value})},a.handleSubmit=function(e){var t,n,l,s;return se.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:if(e.preventDefault(),a.setState({color:"red"}),"Bearer ".concat(a.state.token),!(a.state.specialSP&&a.state.doctor_id&&a.state.subject&&a.state.message)){c.next=21;break}return(t=new FormData).append("speciality",a.state.specialSP),t.append("doctor",a.state.doctor_id),t.append("subject",a.state.subject),t.append("attachment",a.state.attach),t.append("message",a.state.message),n="Bearer ".concat(a.state.token),"https://healthcarebackend.xyz/api/client/initiate/",l=he.a.post("https://healthcarebackend.xyz/api/client/initiate/",t,{headers:{"content-type":"multipart/form-data",Authorization:n}}),c.next=15,se.a.awrap(l);case 15:return s=c.sent,console.log(s),s.data.success&&a.toCheckout(),c.abrupt("return",l);case 21:ce.NotificationManager.error("Empty Fields","Failed!",2e3);case 22:case"end":return c.stop()}}))},a.toCheckout=function(){return se.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:if("0.00"===a.state.price){e.next=4;break}return e.abrupt("return",a.props.history.push({pathname:"/checkout",state:{price:a.state.price,currency:a.state.currency}}));case 4:a.props.history.push("/dashboard-client");case 5:case"end":return e.stop()}}))},a.state={complete:!1,specialities:[],doctors:[],filtered:[],subject:"",message:"",submitted:!1,price:null,currentSpec:"",doctor_id:null,token:sessionStorage.getItem("accessToken"),specDoctor:[],specialSP:[],resetDoctorSelect:null,attach:"",currency:null,color:""},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;he.a.get("https://healthcarebackend.xyz/api/specialities/").then((function(t){console.log(t,"examform");var a=t.data.data.map((function(e){return{value:e.id,iD:e.speciality_id,label:e.name}}));e.setState({specialities:a})})),he.a.get("https://healthcarebackend.xyz/api/doctor/list/").then((function(t){if(console.log(t,"examform2"),t.data.data){var a=t.data.data.map((function(e){return{value:e.id,iD:e.id,label:e.doctor,spec:e.speciality,price:e.email_exam_price,currency:e.email_currency}}));e.setState({doctors:a}),e.props.location.state&&t.data.data.filter((function(t){if(t.id===e.props.location.state.doctorId){var a={value:t.id,iD:t.id,label:t.doctor,spec:t.speciality,price:t.email_exam_price,currency:t.email_currency};e.handleDoctor(a)}}))}else ce.NotificationManager.warning("".concat(t.data.message),"Failed!",2e3)})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"header"},l.a.createElement("div",null,l.a.createElement(ne,null),l.a.createElement(ge,null))),l.a.createElement(rt,null),l.a.createElement(Rt,{specialities:this.state.specialities,subject:this.state.subject,message:this.state.message,submitted:this.state.submitted,handleSpeciality:this.handleSpeciality,handleDoctor:this.handleDoctor,handleSubject:this.handleSubject,handleSubmit:this.handleSubmit,handleMessage:this.handleMessage,props:this.state,specDoctor:this.state.specDoctor,resetDoctorSelect:this.state.resetDoctorSelect,handleAttach:this.handleAttach}))}}]),t}(n.Component),zt=Object(h.b)((function(e){return{doctor:e.getIn(["doctorReducer","doctor"]),price:e.price}}))(Bt),Ut=(a(345),a(258)),Ht=a.n(Ut),Wt=null,Lt=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(d.a)(t).call(this,e))).createOrder=function(e,t){if(0!==a.props.amount)return t.order.create({purchase_units:[{description:NaN,amount:{currency_code:"EUR",value:a.props.amount}}]});ce.NotificationManager.error("Doctor did not set his price","Faild",3e3)},a.onApprove=function(e,t){0!==a.props.amount&&t.order.capture().then((function(t){var n={payerID:e.payerID,orderID:e.orderID};console.log("Payment Approved: ",n),a.setState({showButtons:!1,paid:!0})}))},a.state={showButtons:!1,loading:!0,paid:!1},window.React=l.a,window.ReactDOM=c.a,a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.isScriptLoaded,a=e.isScriptLoadSucceed;t&&a&&(Wt=window.paypal.Buttons.driver("react",{React:l.a,ReactDOM:c.a}),this.setState({loading:!1,showButtons:!0}))}},{key:"componentWillReceiveProps",value:function(e){var t=e.isScriptLoaded,a=e.isScriptLoadSucceed;!this.state.showButtons&&!this.props.isScriptLoaded&&t&&a&&(Wt=window.paypal.Buttons.driver("react",{React:l.a,ReactDOM:c.a}),this.setState({loading:!1,showButtons:!0}))}},{key:"render",value:function(){var e=this;console.log(this.props);var t=this.state,a=t.showButtons,n=t.paid;return l.a.createElement("div",{className:"main",style:{margin:"40px auto 0 auto",width:"300px"}},a&&l.a.createElement("div",null,l.a.createElement(Wt,{style:{size:"small",color:"gold",shape:"pill",label:"checkout",layout:"horizontal",tagline:"true",commit:"true"},createOrder:function(t,a){return e.createOrder(t,a)},onApprove:function(t,a){return e.onApprove(t,a)}})),n&&l.a.createElement("div",{className:"main"},l.a.createElement("h2",{style:{color:"#4092c2"}},"Congrats!"," ",l.a.createElement("span",{role:"img","aria-label":"emoji"}," ","\ud83d\ude09"))))}}]),t}(l.a.Component),Yt=Ht()("https://www.paypal.com/sdk/js?client-id=".concat("sb","&currency=EUR"))(Lt),qt=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(d.a)(t).call(this,e))).handleChange=function(e){console.log(e),a.setState(Object(It.a)({},e.elementType,e.complete)),document.getElementById("CardElement").style.backgroundColor=!a.state.cardNumber&&"white",document.getElementById("Expire").style.backgroundColor=a.state.cardExpiry&&"white",document.getElementById("elementCvc").style.backgroundColor=a.state.cardCvc&&"white"},a.handleReady=function(){console.log("[ready]")},a.handleSubmit=function(e){var t,n,l,s;return se.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:if(e.preventDefault(),t=parseInt(a.props.location.state.price,10),a.props.location.state.currency,a.setState({color:"red"}),document.getElementById("CardElement").style.backgroundColor=a.state.cardNumber?"white":"rgb(245, 192, 192)",document.getElementById("Expire").style.backgroundColor=a.state.cardExpiry?"white":"rgb(245, 192, 192)",document.getElementById("elementCvc").style.backgroundColor=a.state.cardCvc?"white":"rgb(245, 192, 192)",!(a.props.stripe&&a.state.name&&a.state.cardNumber&&a.state.cardExpiry&&a.state.cardCvc)){c.next=27;break}return a.setState({loading:!0}),c.next=14,se.a.awrap(a.props.stripe.createPaymentMethod("card",{}));case 14:return n=c.sent,console.log(n.paymentMethod),c.next=18,se.a.awrap(fetch("https://healthcarebackend.xyz/api/charge/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({payment_method_id:n.paymentMethod.id,amount:t,currency:""})}));case 18:return l=c.sent,c.next=21,se.a.awrap(l.json());case 21:s=c.sent,console.log(s),s&&a.setState({loading:!1}),"Payment completed"===s.message?(a.setState({complete:!0}),ce.NotificationManager.success("Checkout Completed","Successful!",2e3)):(ce.NotificationManager.error("Faild to Checkout","Faild!",2e3),console.log("Stripe.js hasn't loaded yet.")),c.next=28;break;case 27:ce.NotificationManager.error("Empty Fields","Faild!",2e3);case 28:case"end":return c.stop()}}))},a.handleServerResponse=function(e){var t,n,l,s;return se.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:if(!e.error){c.next=3;break}c.next=23;break;case 3:if(!e.requires_action){c.next=22;break}return c.next=6,se.a.awrap(a.props.stripe.handleCardAction(e.payment_intent_client_secret));case 6:if(t=c.sent,n=t.error,l=t.paymentIntent,!n){c.next=12;break}c.next=20;break;case 12:return c.next=14,se.a.awrap(fetch("https://healthcarebackend.xyz/api/pay",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({payment_intent_id:l.id})}));case 14:return s=c.sent,c.t0=a,c.next=18,se.a.awrap(s.json());case 18:c.t1=c.sent,c.t0.handleServerResponse.call(c.t0,c.t1);case 20:c.next=23;break;case 22:ce.NotificationManager.success("Completed","Successful!",2e3);case 23:case"end":return c.stop()}}))},a.handleSelect=function(){a.setState({selectedCard:!0,selectedPal:!1})},a.handleSelectPal=function(){a.setState({selectedCard:!1,selectedPal:!0})},a.handleReady=function(e){a.setState({cardElement:e})},a.handleName=function(e){a.setState({name:e.target.value})},a.state={complete:!1,selectedCard:!0,selectedPal:!1,token:null,cardNumber:!1,cardCvc:!1,cardExpiry:!1,loading:!1,name:"",color:""},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){console.log(this.props.location.state),console.log(this.props.location.state.price);var e=function(e,t,a){var n;return{style:{base:(n={fontSize:e,color:"#666666",letterSpacing:"0.025em"},Object(It.a)(n,"color","#666666"),Object(It.a)(n,"fontSize","14px"),Object(It.a)(n,"fontWeight","bold"),Object(It.a)(n,"::placeholder",{color:"#666666",fontSize:"14px",fontWeight:"450"}),Object(It.a)(n,"padding",t),n),invalid:{color:"#9e2146"}}}};return this.state.complete?this.props.location.state.location?l.a.createElement(te.a,{to:this.props.location.state.location}):l.a.createElement(te.a,{to:"/dashboard-client"}):l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"header"},l.a.createElement("div",null,l.a.createElement(ne,null),l.a.createElement(ge,null))),l.a.createElement(it,null),l.a.createElement("h1",{className:"mainTitle"},"Payment"),l.a.createElement("p",{className:"underTitle"},"Choose payment method below"),l.a.createElement("div",{className:"mainCardDiv"},this.state.loading&&l.a.createElement("img",{src:T.a,className:"loading",alt:"loading...",style:{width:"150px"}}),l.a.createElement("div",{className:"payWay"},l.a.createElement("div",{className:"cardIcon",style:{background:this.state.selectedCard?"white":"transparent"},onClick:this.handleSelect},l.a.createElement(fe.a,{className:"icon"})),l.a.createElement("div",{className:"paypalIcon",style:{background:this.state.selectedPal?"white":"transparent"},onClick:this.handleSelectPal},l.a.createElement(fe.g,{className:"icon"}))),this.state.selectedCard?l.a.createElement("div",{className:"mainBillDiv"},l.a.createElement("div",{className:"billingInfo"},l.a.createElement("h1",null,"Billing Info"),l.a.createElement("label",{htmlFor:"fullName"},"Full Name",l.a.createElement("br",null),l.a.createElement("input",{style:{background:!this.state.name&&this.state.color&&"rgb(245, 192, 192)"},id:"fullName",onChange:this.handleName,placeholder:"Full Name",type:"text"})),l.a.createElement("h1",{className:"totalPrice"},"Total:"," ",void 0===this.props.location.state?0:this.props.location.state.price?this.props.location.state.price:0," ",this.props.location.state.currency)),l.a.createElement("div",{className:"creditCardInfo"},l.a.createElement("h1",null,"Credit Card Info"),l.a.createElement("form",{onSubmit:this.handleSubmit},l.a.createElement("label",null,"Card Number",l.a.createElement(b.CardNumberElement,Object.assign({className:"CardElement",id:"CardElement",onChange:this.handleChange,onReady:this.handleReady},e(this.props.fontSize)))),l.a.createElement("label",null,"Expiration Date",l.a.createElement(b.CardExpiryElement,Object.assign({className:"CardElement",id:"Expire",onChange:this.handleChange,onReady:this.handleReady},e(this.props.fontSize)))),l.a.createElement("label",null,"CVC",l.a.createElement(b.CardCVCElement,Object.assign({className:"CardElement cvc",id:"elementCvc",onChange:this.handleChange,onReady:this.handleReady},e(this.props.fontSize)))),l.a.createElement("button",{className:"btn-checkout"}," Submit ")))):this.state.selectedPal?l.a.createElement("div",null,l.a.createElement(Yt,{amount:this.props.location.state?this.props.location.state.price:0})):null))}}]),t}(n.Component),Jt=Object(p.compose)(Object(h.b)((function(e){var t=e.getIn(["doctorReducer","doctor"]);return console.log(t),{doctor:t}})),b.injectStripe)(qt),Qt=(a(348),a(349),a(132)),Gt=a.n(Qt),Kt=a(259),Zt=a.n(Kt),Xt=function(e){var t=e.doctor,a=e.days,n=e.handleSubmit,s=e.handleSelect,c=e.handleSelect2,r=e.handleSelect3,i=e.handleSelect4,o=e.status,d=e.selectValue,m=e.props,u=e.handleChange,p=e.addAttach,h=e.handleSpeciality,g=(e.handleChangeBiography,e.deletePicture),f=e.handleDeleteImageShow,E=e.handlePage,v=e.handleServiceRadio,y={control:function(){return{width:"85px",border:"1.7px solid #fa9551",borderRadius:"10px",height:"33px",fontWeight:500,display:"flex",background:"white",marginLeft:"10px",marginRight:"20px",div:{display:"flex",alignSelf:"center"}}},option:function(){return{height:"30px",alignSelf:"center",padding:"5px 0 0 0","&:hover":{background:"#fa9551"}}},placeholder:function(e,t){return Object(Ct.a)({},e,{display:t.isFocused||t.isSelected||t.selectProps.inputValue||t.value?"none":"block"})}},b={control:function(){return{width:"100%",border:"1.7px solid #fa9551",borderRadius:"10px",height:"33px",fontWeight:700,display:"flex",background:"white",margin:"2px 0 20px 0",div:{display:"flex",alignSelf:"center"}}},option:function(){return{height:"30px",alignSelf:"center",padding:"5px 0 0 0","&:hover":{background:"#fa9551"}}},placeholder:function(e,t){return Object(Ct.a)({},e,{color:"#969696",display:t.isFocused||t.isSelected||t.selectProps.inputValue||t.value?"none":"block"})}},x={control:function(){return{width:"185px",border:"1.7px solid #fa9551",borderRadius:"10px",height:"33px",fontWeight:500,display:"flex",background:"white",marginRight:"40px",fontSize:"14px",div:{display:"flex",alignSelf:"center"}}},option:function(){return{height:"30px",alignSelf:"center",padding:"5px 0 0 0","&:hover":{background:"#fa9551"}}},placeholder:function(e,t){return Object(Ct.a)({},e,{display:t.isFocused||t.isSelected||t.selectProps.inputValue||t.value?"none":"block"})}};return l.a.createElement(l.a.Fragment,null,t&&t.map((function(e){return console.log(e),l.a.createElement("div",{key:e.id,className:"mainDoctor"},l.a.createElement("div",{className:"newVideo"},l.a.createElement("div",{className:"profileDoc",style:{borderBottom:"DocProfile"===m.page&&"4px solid #fa9551"},onClick:function(){E("DocProfile")}},l.a.createElement("h4",{style:{fontWeight:"DocProfile"===m.page&&"bold"}},"Doctor profile")),l.a.createElement("div",{className:"profileDoc",style:{borderBottom:"Services"===m.page&&"4px solid #fa9551"},onClick:function(){E("Services")}},l.a.createElement("h4",{style:{fontWeight:"Services"===m.page&&"bold"}},"Services")),l.a.createElement("div",{className:"profileDoc",style:{borderBottom:"WorkHours"===m.page&&"4px solid #fa9551"},onClick:function(){E("WorkHours")}},l.a.createElement("h4",{style:{fontWeight:"WorkHours"===m.page&&"bold"}},"Working Hours"))),l.a.createElement("div",{style:{display:"DocProfile"!==m.page?"none":"flex",width:"100%"}},l.a.createElement("div",{className:"doctor"},l.a.createElement("div",{className:"doctor-p"},l.a.createElement("label",{htmlFor:"firstName"},"First Name"),l.a.createElement("input",{onFocus:function(t){t.target.value=e.user.first_name},onBlur:function(e){e.target.value=""},placeholder:e.user.first_name,id:"FirstName",onChange:u,type:"text"}),l.a.createElement("label",{htmlFor:"lastName"},"Last Name"),l.a.createElement("input",{placeholder:e.user.last_name,onFocus:function(t){t.target.value=e.user.last_name},onBlur:function(e){e.target.value=""},id:"LastName",onChange:u,type:"text"}),l.a.createElement("label",{htmlFor:"Phone"},"Phone number"),l.a.createElement("input",{onFocus:function(t){t.target.value=e.user.phone},onBlur:function(e){e.target.value=""},placeholder:e.user.phone?e.user.phone:"11 22 33 44",autoComplete:"nope",onChange:u,id:"PhoneNum",type:"number"}),l.a.createElement("label",{htmlFor:"lastName"},"E-mail"),l.a.createElement("input",{placeholder:e.user.email,disabled:!0,id:"Email",onChange:u,type:"text"}),l.a.createElement("label",{htmlFor:"Phone"},"Organization"),l.a.createElement("input",{onFocus:function(t){t.target.value=e.organization},onBlur:function(e){e.target.value=""},placeholder:e.organization?e.organization:"",autoComplete:"nope",onChange:u,id:"Organization",type:"text"}),l.a.createElement("button",{onClick:n,className:"saveChanges"},"Save"))),l.a.createElement("div",{className:"form"},l.a.createElement("label",{htmlFor:"picture"},"Picture"),l.a.createElement("div",{className:"imageAndGender"},l.a.createElement("div",{className:"profilePic"},l.a.createElement("div",{className:"upload-btn-wrapper",onMouseEnter:f,onMouseLeave:f},l.a.createElement("button",{className:"btn"},l.a.createElement("img",{className:"docImage",src:e.image.includes("default")?Gt.a:"https://healthcarebackend.xyz".concat(e.image),alt:"profile"})),l.a.createElement("input",{type:"file",name:"myfile",onChange:p}),l.a.createElement("button",{className:"deleteImage",style:{display:m.showDeleteImage&&!e.image.includes("default")?"block":"none"},onClick:g}," X")))),l.a.createElement("div",{className:"allergies"},l.a.createElement("div",{className:"Nameing"},l.a.createElement("p",null," Biography"," ")),l.a.createElement("div",{className:"textAndProfile"},l.a.createElement("textarea",{type:"text",className:"address-input",onChange:u,onFocus:function(t){t.target.defaultValue=e.biography},onBlur:function(e){e.target.defaultValue=""},id:"Biography",placeholder:e.biography}))),l.a.createElement("label",{style:{marginTop:"15px"},htmlFor:"speciality"},"Speciality"),l.a.createElement("div",{className:"exam-spec"},l.a.createElement(gt.a,{type:"text",styles:b,isSearchable:!1,id:"speciality",placeholder:e.spec_name,options:m.specialities,onChange:h})))),l.a.createElement("div",{className:"Services",style:{display:"Services"!==m.page&&"none"}},l.a.createElement("div",{className:"mainEmailVisit",style:{opacity:"True"===m.EmailVisitChecked&&1}},l.a.createElement("div",{className:"emailVisit"},l.a.createElement("label",{htmlFor:"EmailVisit"},"Email consultation"),l.a.createElement("input",{type:"number",onFocus:function(t){t.target.value=e.email_exam_price},onBlur:function(e){e.target.value=""},disabled:"True"!==m.EmailVisitChecked&&!0,onChange:u,id:"EmailVisit",value:m.EmailVisit,placeholder:e.email_exam_price}),l.a.createElement(gt.a,{type:"text",className:"select-option",styles:y,value:d,isDisabled:"True"!==m.EmailVisitChecked&&!0,options:o,placeholder:e.email_currency?e.email_currency:"USD",onChange:s})),l.a.createElement("input",{type:"checkbox",checked:"True"===m.EmailVisitChecked&&!0,name:"EmailVisitChecked",id:"EmailVisitChecked",onChange:function(e){return v(e)}}),l.a.createElement("label",{htmlFor:"EmailVisitChecked"})),l.a.createElement("div",{className:"mainVideoVisit",style:{opacity:"True"===m.VideoVisitChecked&&1}},l.a.createElement("div",{className:"videoVisit"},l.a.createElement("label",{htmlFor:"videoVisit"},"Video consultation"),l.a.createElement("input",{type:"number",onFocus:function(t){t.target.value=e.web_exam_price},onBlur:function(e){e.target.value=""},disabled:"True"!==m.VideoVisitChecked&&!0,onChange:u,id:"VideoVisit",value:m.VideoVisit,placeholder:e.web_exam_price}),l.a.createElement(gt.a,{type:"text",className:"select-option",styles:y,value:d,isDisabled:"True"!==m.VideoVisitChecked&&!0,options:o,placeholder:e.web_currency?e.web_currency:"USD",onChange:c})),l.a.createElement("input",{type:"checkbox",checked:"True"===m.VideoVisitChecked&&!0,name:"VideoVisitChecked",id:"VideoVisitChecked",onChange:function(e){return v(e)}}),l.a.createElement("label",{htmlFor:"VideoVisitChecked"})),l.a.createElement("div",{className:"mainVideoFollowUp",style:{opacity:"True"===m.VideoVisitFollowUp&&1}},l.a.createElement("div",{className:"videoFollowUp"},l.a.createElement("label",{htmlFor:"videoFollowUp"},"Video follow up"),l.a.createElement("input",{type:"number",onFocus:function(t){t.target.value=e.web_exam_follow_price},onBlur:function(e){e.target.value=""},disabled:"True"!==m.VideoVisitFollowUp&&!0,onChange:u,id:"VideoFollowUp",value:m.VideoFollowUp,placeholder:e.web_exam_follow_price}),l.a.createElement(gt.a,{type:"text",className:"select-option",styles:y,value:d,options:o,isDisabled:"True"!==m.VideoVisitFollowUp&&!0,placeholder:e.web_follow_up_currency?e.web_follow_up_currency:"USD",onChange:r})),l.a.createElement("input",{type:"checkbox",checked:"True"===m.VideoVisitFollowUp&&!0,name:"VideoVisitFollowUp",id:"VideoVisitFollowUp",onChange:function(e){return v(e)}}),l.a.createElement("label",{htmlFor:"VideoVisitFollowUp"})),l.a.createElement("div",{className:"mainWaitingRoomVisit",style:{opacity:"True"===m.WaitingRoomVisit&&1}},l.a.createElement("div",{className:"WaitingRoomVisit"},l.a.createElement("label",{htmlFor:"WaitingRoomVisit"},"Waiting room"),l.a.createElement("input",{type:"number",onFocus:function(t){t.target.value=e.waiting_room_price},onBlur:function(e){e.target.value=""},disabled:"True"!==m.WaitingRoomVisit&&!0,onChange:u,id:"WaitingRoom",value:m.WaitingRoom,placeholder:e.waiting_room_price}),l.a.createElement(gt.a,{type:"text",className:"select-option",styles:y,value:d,options:o,isDisabled:"True"!==e.waiting_room_status&&!0,placeholder:m.WaitingRoomVisit?e.waiting_room_currency:"USD",onChange:i})),l.a.createElement("input",{type:"checkbox",checked:"True"===m.WaitingRoomVisit&&!0,name:"WaitingRoomVisit",id:"WaitingRoomVisit",onChange:function(e){return v(e)}}),l.a.createElement("label",{htmlFor:"WaitingRoomVisit"})),l.a.createElement("button",{onClick:n,className:"saveChanges"},"Save")),l.a.createElement("div",{className:"mainWorkHours",style:{display:"WorkHours"!==m.page&&"none"}},l.a.createElement("div",{className:"workHoursDiv"},l.a.createElement(gt.a,{type:"text",className:"select-option",styles:x,value:d,options:a,onChange:r}),l.a.createElement("input",{type:"time",id:"TimeStart",value:m.TimeStart,onChange:u}),l.a.createElement("p",null,"-"),l.a.createElement("input",{type:"time",id:"TimeEnd",value:m.TimeEnd,onChange:u})),l.a.createElement("img",{src:Zt.a,alt:"plus"}),l.a.createElement("button",{onClick:n,className:"saveChanges"},"Save")))})))},$t=[{value:"RSD",label:"RSD"},{value:"EUR",label:"EUR"},{value:"USD",label:"USD"}],ea=[{value:"Monday",label:"Monday"},{value:"Tuesday",label:"Tuesday"},{value:"Wednesday",label:"Wednesday"},{value:"Thursday",label:"Thursday"},{value:"Friday",label:"Friday"},{value:"Saturday",label:"Saturday"},{value:"Sunday",label:"Sunday"}],ta=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(d.a)(t).call(this,e))).handleSelect=function(e){var t=e.value;a.setState({selectEmail:t})},a.handleSelect2=function(e){var t=e.value;a.setState({selectVideo:t})},a.handleSelect3=function(e){var t=e.value;a.setState({selectVideoFollow:t})},a.handleSelect4=function(e){var t=e.value;a.setState({selectWaitingRoom:t})},a.handleSubmit=function(e){var t,n,l,s;return se.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:if(e.preventDefault(),!(a.state.EmailVisit&&!a.state.selectEmail||a.state.VideoVisit&&!a.state.selectVideo||a.state.VideoFollowUp&&!a.state.selectVideoFollow)){c.next=5;break}ce.NotificationManager.error("Please enter currency","Failed!",2e3),c.next=37;break;case 5:return(t=new FormData).append("user.first_name",a.state.FirstName),t.append("user.last_name",a.state.LastName),t.append("user.phone",a.state.PhoneNum),t.append("biography",a.state.Biography),t.append("email_exam_price",a.state.EmailVisit),t.append("web_exam_price",a.state.VideoVisit),t.append("web_exam_follow_price",a.state.VideoFollowUp),t.append("waiting_room_price",a.state.WaitingRoom),t.append("image",a.state.attach),t.append("status",""),t.append("start_hour",a.state.TimeStart),t.append("end_hour",a.state.TimeEnd),t.append("email_currency",a.state.selectEmail),t.append("web_currency",a.state.selectVideo),t.append("web_follow_up_currency",a.state.selectVideoFollow),t.append("waiting_room_currency",a.state.selectWaitingRoom),t.append("organization",a.state.Organization),t.append("speciality",a.state.specialSP),t.append("email_exam_status",a.state.EmailVisitChecked),t.append("web_exam_status",a.state.VideoVisitChecked),t.append("waiting_room_status",a.state.WaitingRoomVisit),t.append("web_exam_follow_status",a.state.VideoVisitFollowUp),n="Bearer ".concat(a.state.token),"https://healthcarebackend.xyz/api/doctor/profile/",l=he.a.put("https://healthcarebackend.xyz/api/doctor/profile/",t,{headers:{"content-type":"multipart/form-data",Authorization:n}}),console.log("submiting"),c.next=34,se.a.awrap(l);case 34:s=c.sent,console.log(s,"profile changed"),s.data.success&&(ce.NotificationManager.success("Profile Updated!","Successful!",2e3),window.location.reload());case 37:case"end":return c.stop()}}))},a.handleDoctorProfile=function(){var e;return se.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:e="Bearer ".concat(a.state.token),he.a.get("https://healthcarebackend.xyz/api/doctor/profile/",{headers:{Authorization:e}}).then((function(e){console.log(e,"doc profileee");var t=e.data.data.email_currency?e.data.data.email_currency:"USD",n=e.data.data.web_currency?e.data.data.web_currency:"USD",l=e.data.data.web_follow_up_currency?e.data.data.web_follow_up_currency:"USD",s=e.data.data.start_hour?e.data.data.start_hour.slice(0,-3):"",c=e.data.data.end_hour?e.data.data.end_hour.slice(0,-3):"";a.setState({doctor:[e.data.data],currentStatus:e.data.data.status,TimeStart:s,TimeEnd:c,selectEmail:t,selectVideo:n,selectVideoFollow:l,specialSP:e.data.data.speciality,EmailVisitChecked:e.data.data.email_exam_status,VideoVisitChecked:e.data.data.web_exam_status,VideoVisitFollowUp:e.data.data.web_exam_follow_status,WaitingRoomVisit:e.data.data.waiting_room_status})}));case 2:case"end":return t.stop()}}))},a.handleSpeciality=function(e){console.log(e),a.setState({specialSP:e.value,selectedSpec:e.label,resetDoctorSelect:null})},a.handleChange=function(e){a.setState(Object(It.a)({},e.target.id,e.target.value))},a.handleChangeBiography=function(e){a.setState({Biography:e.target.innerHTML})},a.addAttach=function(e){a.setState({attach:e.target.files[0]}),document.querySelector(".docImage").src=URL.createObjectURL(e.target.files[0])},a.deletePicture=function(){var e,t,n;return se.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:return e="Bearer ".concat(a.state.token),t=he.a.delete("https://healthcarebackend.xyz/api/doctor/image/",{headers:{Authorization:e},data:{}}),l.next=4,se.a.awrap(t);case 4:n=l.sent,console.log(n),n.data&&window.location.reload();case 7:case"end":return l.stop()}}))},a.handleDeleteImageShow=function(){a.setState({showDeleteImage:!a.state.showDeleteImage})},a.handlePage=function(e){a.setState({page:e})},a.handleServiceRadio=function(e){console.log(e.target.checked),e.target.checked?a.setState(Object(It.a)({},e.target.id,"True")):e.target.checked||a.setState(Object(It.a)({},e.target.id,"False"))},a.state={doctor:[],selectEmail:"",selectVideo:"",selectVideoFollow:"",selectWaitingRoom:"",token:sessionStorage.getItem("accessToken"),FirstName:"",LastName:"",PhoneNum:"",TimeStart:"",TimeEnd:"",EmailVisit:"",VideoVisit:"",VideoFollowUp:"",Biography:"",attach:"",currentStatus:"",Email:"",Organization:"",specialities:[],specialSP:"",showDeleteImage:!1,page:"",WaitingRoom:"",EmailVisitChecked:"",VideoVisitChecked:"",VideoVisitFollowUp:"",WaitingRoomVisit:""},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.handleDoctorProfile(),he.a.get("https://healthcarebackend.xyz/api/specialities/").then((function(t){console.log(t,"examform");var a=t.data.data.map((function(e){return{value:e.id,iD:e.speciality_id,label:e.name}}));e.setState({specialities:a,page:"DocProfile"})}))}},{key:"render",value:function(){return console.log(this.state.WaitingRoom),l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"header"},l.a.createElement("div",null,l.a.createElement(ne,null),l.a.createElement(ge,null))),l.a.createElement(rt,null),l.a.createElement(Xt,{status:$t,doctor:this.state.doctor,handleSubmit:this.handleSubmit,handleSelect:this.handleSelect,handleSelect2:this.handleSelect2,handleSelect3:this.handleSelect3,handleSelect4:this.handleSelect4,props:this.state,handleChange:this.handleChange,addAttach:this.addAttach,handleSpeciality:this.handleSpeciality,handleChangeBiography:this.handleChangeBiography,deletePicture:this.deletePicture,handleDeleteImageShow:this.handleDeleteImageShow,handlePage:this.handlePage,handleServiceRadio:this.handleServiceRadio,days:ea}))}}]),t}(n.Component),aa=function(e){var t=e.doctor;return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"header"},l.a.createElement("div",null,l.a.createElement(ne,null),l.a.createElement(ge,null))),t&&t.map((function(e){return l.a.createElement("div",{key:e.id,className:"doctor",style:{height:"180px",margin:"30px 0 0 0"}},l.a.createElement("div",{className:"rounded-pill"},l.a.createElement("div",null,l.a.createElement("p",null,"Doctor: ",e.doctor),l.a.createElement("p",null,"Speciality: ",e.speciality),l.a.createElement("p",null,"NPI: ",e.npi_number),l.a.createElement("p",null,"Prefix: ",e.prefix),l.a.createElement("p",null,"Description: ",e.description),l.a.createElement("p",null,"Price: ",e.email_exam_price))))})))},na=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(d.a)(t).call(this,e))).hanldeDoctorsProfile=function(){var e="Bearer ".concat(a.state.token);he.a.get("https://healthcarebackend.xyz/api/client/doc/".concat(a.state.id,"/"),{headers:{Authorization:e}}).then((function(e){return console.log(e,"doc profile"),a.setState({doctor:[e.data.data]})}))},a.state={doctor:[],token:sessionStorage.getItem("accessToken"),id:a.props.match.params.id},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.hanldeDoctorsProfile()}},{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(aa,{doctor:this.state.doctor}))}}]),t}(n.Component),la=(a(350),a(351),function(e){var t=e.client,a=e.handleSubmit,n=e.handleGenderRadio,s=e.props,c=e.attachInput,r=e.handleChange,i=(e.handleImage,e.handleRemoveImage,e.handleDeleteImageShow),o=e.deletePicture;return l.a.createElement(l.a.Fragment,null,t&&t.map((function(e){return console.log(e),l.a.createElement("div",{key:e.id,className:"mainClientic"},l.a.createElement("div",{className:"newVideo"},l.a.createElement("h4",null,"My profile")),l.a.createElement("div",{className:"client"},l.a.createElement("div",{className:"client-p"},l.a.createElement("label",{htmlFor:"firstName"},"First Name"),l.a.createElement("input",{onFocus:function(t){t.target.value=e.user.first_name},onBlur:function(e){e.target.value=""},placeholder:e.user.first_name,id:"FirstName",onChange:r,type:"text"}),l.a.createElement("label",{htmlFor:"lastName"},"Last Name"),l.a.createElement("input",{onFocus:function(t){t.target.value=e.user.last_name},onBlur:function(e){e.target.value=""},placeholder:e.user.last_name,id:"LastName",onChange:r,type:"text"}),l.a.createElement("label",{htmlFor:"address"},"Address"),l.a.createElement("input",{onFocus:function(t){t.target.value=e.address},onBlur:function(e){e.target.value=""},placeholder:e.address,onChange:r,id:"Address",type:"text"}),l.a.createElement("label",{htmlFor:"address"},"E-mail"),l.a.createElement("input",{placeholder:e.user.email,disabled:!0,onChange:r,id:"Email",type:"text"}),l.a.createElement("label",{htmlFor:"Phone"},"Phone number"),l.a.createElement("input",{onFocus:function(t){t.target.value=e.user.phone},onBlur:function(e){e.target.value=""},autoComplete:"nope",placeholder:e.user.phone?e.user.phone:"11 22 33 44",onChange:r,id:"PhoneNum",type:"number"}),l.a.createElement("label",{htmlFor:"birth"},"Date of birth"),l.a.createElement("input",{onFocus:function(t){t.target.value=e.birth_date},onBlur:function(e){e.target.value=""},placeholder:e.birth_date,onChange:r,id:"BirthDate",type:"text"}),l.a.createElement("button",{onClick:a,className:"saveChanges"},"Save"))),l.a.createElement("div",{className:"form"},l.a.createElement("p",{className:"picturelabel",htmlFor:"picture"},"Picture"),l.a.createElement("div",{className:"checkboxDiv"},l.a.createElement("div",{className:"profilePic"},l.a.createElement("div",{className:"upload-btn-wrapper",onMouseEnter:i,onMouseLeave:i},l.a.createElement("button",{className:"btn"},l.a.createElement("img",{className:"cliImage",src:e.image.includes("default")?Gt.a:"https://healthcarebackend.xyz".concat(e.image),alt:"#"})),l.a.createElement("input",{type:"file",name:"myfile",onChange:c}),l.a.createElement("button",{className:"deleteImage",style:{display:s.showDeleteImage&&!e.image.includes("default")?"block":"none"},onClick:o}," X"))),l.a.createElement("div",{className:"check"},l.a.createElement("input",{type:"checkbox",name:"Male",id:"Male",checked:"M"===s.gender&&!0,onChange:function(){return n("M")}}),l.a.createElement("label",{className:"Male",value:"Male",htmlFor:"Male"},"Male"),l.a.createElement("input",{type:"checkbox",value:"Female",checked:"F"===s.gender&&!0,name:"Female",id:"Female",onChange:function(){return n("F")}}),l.a.createElement("label",{htmlFor:"Female"},"Female"))),l.a.createElement("div",{className:"conditions"},"Chronical conditions:"," ",l.a.createElement("textarea",{type:"text",onFocus:function(t){t.target.defaultValue=e.chronical_conditions},onBlur:function(e){e.target.defaultValue=""},className:"address-input",placeholder:e.chronical_conditions,onChange:r,id:"ChronicalConditions"})),l.a.createElement("div",{className:"allergies"},"Allergies:"," ",l.a.createElement("textarea",{style:{height:e.image?"138px":"178px"},type:"text",onFocus:function(t){t.target.defaultValue=e.allergies},onBlur:function(e){e.target.defaultValue=""},className:"address-input",placeholder:e.allergies,onChange:r,id:"Allergies"}))))})))}),sa=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(d.a)(t).call(this,e))).handleSubmit=function(e){var t,n,l,s;return se.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return e.preventDefault(),(t=new FormData).append("user.first_name",a.state.FirstName),t.append("user.last_name",a.state.LastName),t.append("gender",a.state.gender),t.append("address",a.state.Address),t.append("birth_date",a.state.BirthDate),t.append("chronical_conditions",a.state.ChronicalConditions),t.append("allergies",a.state.Allergies),t.append("image",a.state.attach),t.append("user.phone",a.state.PhoneNum),n="Bearer ".concat(a.state.token),"https://healthcarebackend.xyz/api/client/profile/",l=he.a.put("https://healthcarebackend.xyz/api/client/profile/",t,{headers:{"content-type":"multipart/form-data",Authorization:n}}),console.log("submiting"),c.next=17,se.a.awrap(l);case 17:s=c.sent,console.log(s,"profile changed"),s.data.success&&(ce.NotificationManager.success("Profile Updated!","Successful!",2e3),window.location.reload());case 20:case"end":return c.stop()}}))},a.handleClientProfile=function(){var e;return se.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:e="Bearer ".concat(a.state.token),he.a.get("https://healthcarebackend.xyz/api/client/profile/",{headers:{Authorization:e}}).then((function(e){return console.log(e.data.data,"profile"),a.setState({client:[e.data.data],gender:e.data.data.gender,BirthDate:e.data.data.birth_date})}));case 2:case"end":return t.stop()}}))},a.handleGenderRadio=function(e){a.setState({gender:e})},a.handleChange=function(e){a.setState(Object(It.a)({},e.target.id,e.target.value))},a.attachInput=function(e){a.setState({attach:e.target.files[0]}),document.querySelector(".cliImage").src=URL.createObjectURL(e.target.files[0])},a.handleRemoveImage=function(e){var t,n,l;return se.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return t="Bearer ".concat(a.state.token),n=he.a.delete("https://healthcarebackend.xyz/api/client/image/",{headers:{Authorization:t},data:{}}),e.next=4,se.a.awrap(n);case 4:l=e.sent,console.log(l),l.data&&window.location.reload();case 7:case"end":return e.stop()}}))},a.handleDeleteImageShow=function(){a.setState({showDeleteImage:!a.state.showDeleteImage})},a.deletePicture=function(){var e,t,n;return se.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:return e="Bearer ".concat(a.state.token),t=he.a.delete("https://healthcarebackend.xyz/api/client/image/",{headers:{Authorization:e},data:{}}),l.next=4,se.a.awrap(t);case 4:n=l.sent,console.log(n),n.data&&window.location.reload();case 7:case"end":return l.stop()}}))},a.state={client:[],records:[],token:sessionStorage.getItem("accessToken"),gender:"",FirstName:"",LastName:"",Address:"",PhoneNum:"",BirthDate:"",ChronicalConditions:"",Allergies:"",attach:"",Email:"",showDeleteImage:!1},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.handleClientProfile()}},{key:"render",value:function(){return console.log(this.state.attach.name),l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"header"},l.a.createElement("div",null,l.a.createElement(ne,null),l.a.createElement(ge,null))),l.a.createElement(rt,null),l.a.createElement(la,{client:this.state.client,handleSubmit:this.handleSubmit,handleGenderRadio:this.handleGenderRadio,props:this.state,handleChange:this.handleChange,attachInput:this.attachInput,handleImage:this.handleImage,handleRemoveImage:this.handleRemoveImage,handleDeleteImageShow:this.handleDeleteImageShow,deletePicture:this.deletePicture}))}}]),t}(n.Component),ca=a(90),ra=a.n(ca),ia=function(e){var t=e.exam,a=e.handleStatus,s=e.statusValue,c=e.props,r=e.declineReason,i=e.saveReason,o=e.saveReport,d=e.report,m=e.handleJoinRoom,u=e.handleshowSave,p=e.onChangeHandler,h=e.handlePage,g=e.handleClick,f=e.loading,E=e.searchByType,v=e.ResetonSelectChange,y=e.handlePageChange,b=0!==c.exam.length?new Date(c.exam[0].appointed_date):null,x=(ze()(new Date).format("YYYY-MM-DD HH:mm")>ze()(b).subtract(15,"minutes").format("YYYY-MM-DD HH:mm")&&(ze()(new Date).format("YYYY-MM-DD HH:mm"),ze()(b).add(30,"minutes").format("YYYY-MM-DD HH:mm")),{control:function(){return{width:160,border:"2px solid #fa9551",borderRadius:"10px",height:"33px",fontWeight:600,display:"flex"}}});return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"header"},l.a.createElement("div",null,l.a.createElement(ne,null),l.a.createElement(ge,null))),l.a.createElement(rt,null),t.map((function(e){var t="Appointed"===e.status?"Accepted":e.status,b="Appointed"!==e.status?[{value:"Accept",label:"Accept"},{value:"Decline",label:"Decline"}]:[{value:"Finish",label:"Finish"}];return l.a.createElement(n.Fragment,{key:e.id},"consultDetail"===c.PageonNav&&l.a.createElement("div",{className:"detail_exam"},l.a.createElement("div",{className:"iconVideo"},l.a.createElement("div",{className:"ConsulDetails",style:{borderBottom:"consultDetail"===c.PageonNav&&"4px solid #fa9551"},onClick:function(){h("consultDetail")}},l.a.createElement("h4",{style:{fontWeight:"consultDetail"===c.PageonNav&&"bold"}},"Consultations details")," "),l.a.createElement("div",{className:"ConsulDetails",style:{borderBottom:"clientDetail"===c.PageonNav&&"4px solid #fa9551"},onClick:function(){h("clientDetail")}},l.a.createElement("h4",{style:{fontWeight:"clientDetail"===c.PageonNav&&"bold"}},"Client details")," ")),l.a.createElement("div",{className:"detail"},l.a.createElement("p",null,l.a.createElement("span",null,"Client:")," ",e.client),l.a.createElement("p",null,l.a.createElement("span",null,"Created:")," ",ze()(e.created).format("MM/DD/YY HH:mm")),l.a.createElement("p",null,l.a.createElement("span",null,"Appointed"===e.status?"Appointed date:":"Appoint date")," ",ze()(e.appointed_date).format("MM/DD/YY HH:mm")),l.a.createElement("p",null,l.a.createElement("span",null,"Type:")," ",e.exam_type),"Canceled"===e.status||"Finished"===e.status||"Declined"===e.status?l.a.createElement("p",null,l.a.createElement("span",null,"Status:")," ",e.status):l.a.createElement("div",{className:"divSelectButton",style:{display:"flex"}},l.a.createElement(gt.a,{type:"text",placeholder:t,styles:x,className:"select-option",value:s,options:b,onChange:a})),"Appointed"===e.status?l.a.createElement("div",{className:"message-btn"},l.a.createElement("button",{className:"message-link",onClick:m},"Join now")):null),l.a.createElement("div",{className:"mainMessageDiv"},l.a.createElement("div",{className:"subjectDiv"},l.a.createElement("p",null,l.a.createElement("span",{style:{fontWeight:"bold"}},"Subject:")," ",e.subject),l.a.createElement("p",null,l.a.createElement("span",null,ze()(e.appointed_date).format("MM/DD/YY"))," ",ze()(e.appointed_date).format(" HH:mm"))),l.a.createElement("div",{className:"messageDiv"},l.a.createElement("textarea",{defaultValue:e.notes,id:"messageMainText",disabled:!0}),l.a.createElement("div",{className:"mainFileDiv"},l.a.createElement("div",{className:"FileDiv"},l.a.createElement("p",null,"Files")),e.attachments&&l.a.createElement("div",{onClick:function(){window.location.href="https://healthcarebackend.xyz".concat(e.attachments)},className:"fileForDownload"},l.a.createElement(fe.c,null),l.a.createElement("p",null,e.attachments.substring(e.attachments.lastIndexOf("/")+1))))),l.a.createElement("div",{className:"reportIfDeclined",style:{display:"Declined"===e.status?"block":"Decline"!==c.selectedStatus?"none":"block"}},l.a.createElement("div",{className:"subjectDiv"},l.a.createElement("p",null,l.a.createElement("span",null,"Decline reason:"))),l.a.createElement("div",{className:"messageDivReport"},l.a.createElement("textarea",{name:"text",disabled:"Declined"===e.status&&!0,placeholder:e.decline_notes?e.decline_notes:"text",value:c.declineReason,onChange:r,id:"textarea"})),l.a.createElement("button",{style:{display:"Declined"===e.status&&"none"},onClick:i},"Save")),l.a.createElement("div",{className:"reportIfFinished",style:{display:"Finished"!==e.status&&"none"}},l.a.createElement("div",{className:"subjectDiv"},l.a.createElement("p",null,l.a.createElement("span",{style:{fontWeight:"bold"}},"Report:"))),l.a.createElement("div",{className:"messageDivReport"},l.a.createElement("textarea",{name:"text",placeholder:e.report?e.report:"Add report",onFocus:function(t){return u(t,e.report)},onBlur:function(e){e.target.value=""},onChange:d,id:"textarea"})),l.a.createElement("div",{className:"sendbuttonAndAtt"},l.a.createElement("button",{onClick:o,style:{display:!c.showSaveButton&&"none"},type:"submit"},"Save"),l.a.createElement("div",{className:"upload-btn-wrapper",style:{display:!c.showSaveButton&&"none"}},l.a.createElement("button",{className:"btn"},l.a.createElement("img",{src:yt.a,alt:""})),l.a.createElement("input",{type:"file",name:"myfile",onChange:p})))))),c.record&&"clientDetail"===c.PageonNav&&c.record.map((function(e){console.log(e);var t=e.client.split(" ");return l.a.createElement("div",{key:e.id,className:"mainClien"},l.a.createElement("div",{className:"iconVideoo"},l.a.createElement("div",{className:"ConsulDetails",style:{borderBottom:"consultDetail"===c.PageonNav&&"4px solid #fa9551"},onClick:function(){h("consultDetail")}},l.a.createElement("h4",{style:{fontWeight:"consultDetail"===c.PageonNav&&"bold"}},"Consultations details")," "),l.a.createElement("div",{className:"ConsulDetails",style:{borderBottom:"clientDetail"===c.PageonNav&&"4px solid #fa9551"},onClick:function(){h("clientDetail")}},l.a.createElement("h4",{style:{fontWeight:"clientDetail"===c.PageonNav&&"bold"}},"Client details")," ")),l.a.createElement("div",{className:"client"},l.a.createElement("img",{src:e.image.includes("default")?xt.a:"https://healthcarebackend.xyz/media/".concat(e.image),alt:"cliet profile"}),l.a.createElement("div",{className:"client-p"},l.a.createElement("p",null,l.a.createElement("span",null,"First Name:")," ",t[0]),l.a.createElement("p",null,l.a.createElement("span",null,"Last Name:")," ",t[1]),l.a.createElement("p",null,l.a.createElement("span",null,"Address:")," ",e.address),l.a.createElement("p",null,l.a.createElement("span",null,"E-mail:")," ",e.email),l.a.createElement("p",null,l.a.createElement("span",null,"Phone number:")," ",e.phone),l.a.createElement("p",null,l.a.createElement("span",null,"Date of birth:")," ",e.birth_date),l.a.createElement("p",null,l.a.createElement("span",null,"M"===e.gender?"Male":"Female")))),l.a.createElement("div",{className:"form"},l.a.createElement("div",{className:"conditionss"},"Chronical conditions:"," "," ",l.a.createElement("br",null),l.a.createElement("textarea",{type:"text",readOnly:!0,className:"address-input",placeholder:e.chronical_conditions,id:"ChronicalConditions"})),l.a.createElement("div",{className:"allergiess"},"Allergies:"," ",l.a.createElement("textarea",{type:"text",readOnly:!0,className:"address-input",placeholder:e.allergies,id:"Allergies"}))))})),"clientDetail"===c.PageonNav&&f?l.a.createElement("img",{src:T.a,className:"loading",alt:"loading...",style:{width:"150px"}}):"clientDetail"!==c.PageonNav||f?null:l.a.createElement("div",{className:"mainTabelRecord"},l.a.createElement("div",{className:"mainConsultation"},l.a.createElement("div",{className:"icon_left"},l.a.createElement("p",null,"Consultations"))),l.a.createElement("table",{className:"table2"},l.a.createElement("thead",{className:"client-head"},l.a.createElement("tr",{className:"client-row"},l.a.createElement("th",{className:"client-subject"},"Subject"),l.a.createElement("th",{className:"client-type",style:{padding:c.searchClient&&"0 0 30px 0"}},l.a.createElement("div",{className:"mainExamDiv"},l.a.createElement("select",{type:"text",placeholder:"",onClick:v,onChange:E,defaultValue:c.searchType},l.a.createElement("option",{value:""},"Type"),l.a.createElement("option",{value:"mail"},"Email"),l.a.createElement("option",{value:"video"},"Video"),l.a.createElement("option",{value:"queue"},"Waiting room")))),l.a.createElement("th",{className:"client-date"},"Date"),l.a.createElement("th",{className:"client-status",style:{padding:c.searchClient&&"0 0 30px 0"}},"Status"))),""===c.messageIfEmpty&&c.paginatedExams.map((function(e,t){return console.log(e),l.a.createElement("tbody",{key:t,className:"client-body"},l.a.createElement("tr",{className:"list-group",style:{fontWeight:e.isRead&&700},onClick:function(){return g(e.id,e.exam_type)}},l.a.createElement("td",{className:"client-subject"},e.subject),l.a.createElement("td",{className:"client-subject"},e.exam_type),l.a.createElement("td",{className:"created"},e.created&&!e.appointed_date?l.a.createElement("p",null," ",ze()(e.created).format("MM/DD/YY")):e.appointed_date?l.a.createElement("p",null," ",ze()(e.appointed_date).format("MM/DD/YY HH:mm")):null),l.a.createElement("td",{className:"client-status"},"Pending"===e.status||"In the queue"===e.status?l.a.createElement("img",{src:we.a,alt:"clockIcon",className:"pendi"}):"Declined"===e.status||"Canceled"===e.status?l.a.createElement("img",{src:Oe.a,alt:"declined",className:"declined"}):"Finished"===e.status?l.a.createElement(Ne.a,{className:"finished"}):l.a.createElement("img",{src:Ce.a,alt:"ckeck",className:"check"}),l.a.createElement("h5",{className:"status"},e.status))))}))),""!==c.messageIfEmpty&&l.a.createElement("div",{className:"NoResultDiv"},c.messageIfEmpty)),"clientDetail"===c.PageonNav&&l.a.createElement("div",{className:"pagi"},l.a.createElement(He.a,{activePage:c.page,itemsCountPerPage:10,totalItemsCount:0===c.searchedUpcomingOrPast.length?c.exams.length:c.searchedUpcomingOrPast.length,pageRangeDisplayed:10,onChange:y})))})))},oa=(a(352),function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(d.a)(t).call(this,e))).detail=function(e){var t;return se.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t="Bearer ".concat(a.state.token),n.next=3,se.a.awrap(he.a.get("https://healthcarebackend.xyz/api/web/doctor/".concat(e,"/"),{headers:{Authorization:t}}).then((function(e){console.log(e,"test"),a.setState({exam:a.state.exam.concat(e.data.data),clientID:e.data.data.client_id}),a.record(e.data.data.client_id),a.clientsExams(e.data.data.client_id);var t=document.getElementById("messageMainText"),n=document.querySelector(".messageDiv");console.log(t),t.scrollHeight<300?(t.style.height="".concat(t.scrollHeight,"px"),n.style.height="".concat(t.scrollHeight+60,"px")):t.style.height="300px"})));case 3:case"end":return n.stop()}}))},a.handleSubmit=function(e){"Decline"!==e&&a.doctorExam(e)},a.handleStatus=function(e){a.setState({statusValue:e});var t=e.value;console.log(t),a.setState({selectedStatus:t}),a.handleSubmit(t)},a.doctorExam=function(e){var t,n,l;return se.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return t="Bearer ".concat(a.state.token),console.log(e),s.next=4,se.a.awrap(fetch("https://healthcarebackend.xyz/api/web/doctor/".concat(a.state.id,"/"),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:t},body:JSON.stringify({status:e,decline_notes:a.state.declineReason,report:a.state.report})}));case 4:return n=s.sent,s.next=7,se.a.awrap(n.json());case 7:return l=s.sent,console.log(l),!0===l.success&&("Declined"!==l.data.status&&"Finished"!==l.data.status?a.props.history.push("/dashboard-doctor"):(ce.NotificationManager.success("Decline reason sent","Successful!",2e3),window.location.reload())),s.abrupt("return",l);case 11:case"end":return s.stop()}}))},a.declineReason=function(e){a.setState({declineReason:e.target.value}),e.target.scrollHeight<300?e.target.style.height="".concat(e.target.scrollHeight,"px"):e.target.style.height="300px"},a.saveReason=function(){a.doctorExam(a.state.selectedStatus)},a.saveReport=function(){a.doctorExam("Finish")},a.report=function(e){a.setState({report:e.target.value}),e.target.scrollHeight<300?e.target.style.height="".concat(e.target.scrollHeight,"px"):e.target.style.height="300px"},a.handleJoinRoom=function(){window.open("/room/".concat(a.props.match.params.id))},a.handleshowSave=function(e,t){e.target.value=t,a.setState({showSaveButton:!0})},a.onChangeHandler=function(e){a.setState({selectedFile:e.target.files[0]})},a.handlePage=function(e){a.setState({PageonNav:e});var t=setInterval((function(){if("clientDetail"===e){var a=document.getElementById("ChronicalConditions");a.style.height="".concat(a.scrollHeight,"px"),console.log(a);var n=document.getElementById("Allergies");n.style.height="".concat(n.scrollHeight,"px")}clearInterval(t)}),200)},a.record=function(e){var t="Bearer ".concat(a.state.token);he.a.get("https://healthcarebackend.xyz/api/doctor/record/".concat(e,"/"),{headers:{Authorization:t}}).then((function(e){return console.log(e,"nzm ni ja sta"),a.handleAll(),a.setState({record:[e.data.data]})}))},a.clientsExams=function(e){var t="Bearer ".concat(a.state.token);he.a.get("https://healthcarebackend.xyz/api/exams/client/".concat(e,"/list/"),{headers:{Authorization:t}}).then((function(e){console.log(e,"podaciiii");var t=e.data.data.mail.concat(e.data.data.queue,e.data.data.video);return a.setState({exams:t})})).then((function(){a.handleAll()}))},a.handleAll=function(){var e=setInterval((function(){var t=a.state.exams,n=t.sort((function(e,t){return Date.parse(t.created)-Date.parse(e.created)})),l=0===t.length?"No consultations":"";a.setState({upcomingOrPast:n,page:1,messageIfEmpty:l,currentFilterClicked:"all",searchedUpcomingOrPast:[],filterFiltered:[],searchType:"",searchName:""}),a.paginate(1),clearInterval(e)}),10)},a.paginate=function(e){if(0===a.state.searchedUpcomingOrPast.length){var t=Math.ceil(a.state.upcomingOrPast.length/10),n=10*(e-1),l=a.state.upcomingOrPast.slice(n,n+10);a.setState({paginatedExams:l,loading:!1,maxPages:t})}else{var s=Math.ceil(a.state.searchedUpcomingOrPast.length/10),c=10*(e-1),r=a.state.searchedUpcomingOrPast.slice(c,c+10);a.setState({paginatedExams:r,loading:!1,maxPages:s})}},a.searchByType=function(e){""===e.target.value&&""===a.state.searchName?a.setState({filterFiltered:[]}):""===e.target.value&&""!==a.state.searchName&&a.setState({filterFiltered:[]});var t=e.target.value.toLowerCase();a.setState({searchType:t});var n=setInterval((function(){a.handlingSearchByType(),clearInterval(n)}),10)},a.handlingSearchByType=function(){var e=0===a.state.filterFiltered.length?a.state.upcomingOrPast.filter((function(e){return e.exam_type.toLowerCase().indexOf(a.state.searchType)===a.state.searchType.indexOf(a.state.searchType)?e:null})):a.state.filterFiltered.filter((function(e){return e.exam_type.toLowerCase().indexOf(a.state.searchType)===a.state.searchType.indexOf(a.state.searchType)?e:null})),t=0===e.length?"No Such Type":0!==e.length&&"No Such Type"!==a.state.messageIfEmpty?a.state.messageIfEmpty:"";0===a.state.filterFiltered.length&&a.setState({filterFiltered:e}),a.setState({searchedUpcomingOrPast:e,page:1,messageIfEmpty:t}),a.paginate(1)},a.handleClick=function(e,t){"mail"===t?a.props.history.push("/doctor/exam/detail/".concat(e)):"video"===t?a.props.history.push("/doctor/video/exam/detail/".concat(e,"/#init")):"queue"===t&&a.props.history.push("/doctor/processing/video/exam/".concat(e,"/#init"))},a.ResetonSelectChange=function(){a.setState({filterFiltered:[]})},a.handlePageChange=function(e){a.setState({page:e}),a.paginate(e)},a.state={exam:[],statusValue:"",selectedStatus:"",token:sessionStorage.getItem("accessToken"),id:"",value:"",declineReason:"",report:"",displayReport:!1,showSaveButton:!1,page:1,PageonNav:"",clientID:"",currentFilterClicked:"",searchName:"",searchType:"",messageIfEmpty:"",paginatedExams:[],searchedUpcomingOrPast:[],exams:[]},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"UNSAFE_componentWillMount",value:function(){}},{key:"componentWillUnmount",value:function(){}},{key:"componentDidMount",value:function(){var e=this.props.match.params.id;this.setState({id:e,PageonNav:"consultDetail"}),this.detail(e)}},{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(ia,{exam:this.state.exam,handleStatus:this.handleStatus,submitValue:this.state.submitValue,handleSubmit:this.handleSubmit,props:this.state,declineReason:this.declineReason,saveReason:this.saveReason,saveReport:this.saveReport,report:this.report,handleJoinRoom:this.handleJoinRoom,handleshowSave:this.handleshowSave,onChangeHandler:this.onChangeHandler,handlePage:this.handlePage,handleClick:this.handleClick,loading:this.state.loading,searchByType:this.searchByType,ResetonSelectChange:this.ResetonSelectChange,handlePageChange:this.handlePageChange}))}}]),t}(n.Component)),da=(a(362),a(133)),ma=a.n(da),ua=a(134),pa=a.n(ua),ha=a(135),ga=a.n(ha),fa=a(136),Ea=a.n(fa),va=a(137),ya=a.n(va),ba=(a(209),a(138)),xa=a.n(ba),Na=function(e){e.handleConnect;var t=e.handleVideoStart,a=e.props,s=e.handleChange,c=e.handleStatus,r=e.enableTipeing,i=(e.iconsMouseOut,e.iconsMouseOver,e.handleDragDrop,e.handleResize,e.showAndHideChat,e.handleDivSize,e.resetValue),o=e.cutVideo,d=e.cutMic,m=(e.showExtendScreenIcon,e.extendScr,e.declineReason),u=e.saveReason,p=e.report,h=e.saveReport,g=e.handleKeyPress,f=e.handleshowSave,E=e.onChangeHandler,v=e.handlePage,y=(e.record,e.handleClick),b=e.loading,x=e.searchByType,N=e.ResetonSelectChange,S=e.handlePageChange,C=(e.redirectThis,{control:function(){return{width:160,border:"2px solid #fa9551",borderRadius:"10px",height:"33px",fontWeight:600,display:"flex"}}});return l.a.createElement(l.a.Fragment,null,a.exam.map((function(e){console.log(e);var k=!a.connected||"Accepted"!==e.exam.status,w="In the queue"===e.exam.status?"Pending":a.clientStatus,D="Accepted"!==e.exam.status?[{value:"Accept",label:"Accept"},{value:"Decline",label:"Decline"}]:[{value:"Finish",label:"Finish"}];return l.a.createElement(n.Fragment,{key:e.exam.id},"consultDetail"===a.PageonNav&&l.a.createElement("div",{className:"detailExam",style:{display:a.startVideo?"none":"block",padding:"40px 15px"}},l.a.createElement("div",{className:"iconVideoo"},l.a.createElement("div",{className:"ConsulDetails",style:{borderBottom:"consultDetail"===a.PageonNav&&"4px solid #fa9551"},onClick:function(){v("consultDetail")}},l.a.createElement("h4",{style:{fontWeight:"consultDetail"===a.PageonNav&&"bold"}},"Consultations details")," "),l.a.createElement("div",{className:"ConsulDetails",style:{borderBottom:"clientDetail"===a.PageonNav&&"4px solid #fa9551"},onClick:function(){v("clientDetail")}},l.a.createElement("h4",{style:{fontWeight:"clientDetail"===a.PageonNav&&"bold"}},"Client details")," ")),l.a.createElement("div",{className:"detail"},l.a.createElement("div",{className:"detailInfo"},l.a.createElement("p",{className:"ClientP"},l.a.createElement("span",null,"Client:")," ",e.exam.client),l.a.createElement("p",null,l.a.createElement("span",null,"Created: "," "),ze()(e.exam.appointed_date).format("MM/DD/YY ")),l.a.createElement("p",{className:"TypeP"},l.a.createElement("span",null,"Type:")," ",e.exam.exam_type),"Canceled"===e.exam.status||"Finished"===e.exam.status||"Declined"===e.exam.status?l.a.createElement("p",null,l.a.createElement("span",null,"Status:")," ",e.exam.status):l.a.createElement("div",{className:"divSelectButton"},l.a.createElement(gt.a,{type:"text",placeholder:w,className:"select-option",value:a.statusValue,styles:C,options:D,onChange:c,isDisabled:"Accepted"!==e.exam.status&&"In the queue"!==e.exam.status}))),l.a.createElement("div",{className:"mainMessageDiv"},l.a.createElement("div",{className:"subjectDiv"},l.a.createElement("p",null,l.a.createElement("span",{style:{fontWeight:"bold"}},"Subject:")," ",e.exam.subject),l.a.createElement("p",null,l.a.createElement("span",null,ze()(e.exam.created).format("MM/DD/YY"))," ")),l.a.createElement("div",{className:"messageDiv"},l.a.createElement("textarea",{defaultValue:e.exam.notes,id:"messageMainText",disabled:!0}),l.a.createElement("div",{className:"mainFileDiv"},l.a.createElement("div",{className:"FileDiv"},l.a.createElement("p",null,"Files")),e.exam.attachments&&l.a.createElement("div",{onClick:function(){window.location.href="https://healthcarebackend.xyz".concat(e.exam.attachments)},className:"fileForDownload"},l.a.createElement(fe.c,null),l.a.createElement("p",null,e.exam.attachments.substring(e.exam.attachments.lastIndexOf("/")+1))))),l.a.createElement("div",{className:"reportIfDeclined",style:{display:"Declined"===e.exam.status?"block":"Decline"!==a.selectedStatus?"none":"block"}},l.a.createElement("div",{className:"subjectDiv"},l.a.createElement("p",null,l.a.createElement("span",null,"Decline reason:"))),l.a.createElement("div",{className:"messageDivReport"},l.a.createElement("textarea",{name:"text",disabled:"Declined"===e.exam.status&&!0,placeholder:e.exam.decline_notes?e.exam.decline_notes:"text",value:a.declineReason,onChange:m,id:"textarea"}),l.a.createElement("button",{style:{display:"Declined"===e.exam.status&&"none"},onClick:u},"Save"))),l.a.createElement("div",{className:"reportIfFinished",style:{display:"Finished"!==e.exam.status&&"none"}},l.a.createElement("div",{className:"subjectDiv"},l.a.createElement("p",null,l.a.createElement("span",{style:{fontWeight:"bold"}},"Report:"))),l.a.createElement("div",{className:"messageDivReport"},l.a.createElement("textarea",{name:"text",placeholder:e.exam.report?e.exam.report:"Add report",onFocus:function(t){return f(t,e.exam.report)},onBlur:function(e){e.target.value=""},onChange:p,id:"textarea"}),l.a.createElement("div",{className:"sendbuttonAndAtt"},l.a.createElement("button",{onClick:h,style:{display:!a.showSaveButton&&"none"},type:"submit"},"Save"),l.a.createElement("div",{className:"upload-btn-wrapper",style:{display:!a.showSaveButton&&"none"}},l.a.createElement("button",{className:"btn"},l.a.createElement("img",{src:yt.a,alt:""})),l.a.createElement("input",{type:"file",name:"myfile",onChange:E}))))))),l.a.createElement("div",{className:"message-btn"},"Accepted"!==e.exam.status||a.connectedall||a.connected?"Canceled"===e.exam.status&&l.a.createElement("h4",{style:{color:"#666666"}},"Reject-Connection"):l.a.createElement("h4",{style:{color:"#666666"}},"Connecting..."),"Accepted"===e.exam.status&&l.a.createElement("button",{id:"DoctorStartVideo",type:"submit",className:"btn",onClick:t,disabled:k},"Start Video"))),l.a.createElement("div",{className:"detailExam",style:{display:a.startVideo?"block":"none",padding:"0px 15px",height:"550px",marginBottom:"20px"}},l.a.createElement("div",{className:"iconVideooCall"},l.a.createElement("h4",null,"Video call")," "),l.a.createElement("div",{className:"detail2"},l.a.createElement("div",{id:"videoChat"}),l.a.createElement("div",{className:"detailInfo2",id:"detailInfo2"},l.a.createElement("div",{className:"MainDivForChat"},l.a.createElement("p",null,"Chat"),l.a.createElement("form",{autoComplete:"off",action:"",id:"form"},l.a.createElement("pre",{id:"messages"}),l.a.createElement("div",{className:"inputMessage"},l.a.createElement("textarea",{type:"text",placeholder:"Type a message",id:"yourMessage",value:a.value,onChange:s,onMouseDown:r,onKeyPress:function(e){g(e)}})))),l.a.createElement("button",{id:"send",onClick:i},l.a.createElement("img",{src:xa.a,alt:"sendimg"})))),l.a.createElement("div",{className:"MainIconsDiv"},l.a.createElement("img",{src:ma.a,className:"iconMic",alt:"img",style:{display:a.audio?"none":"block"},onClick:d}),l.a.createElement("img",{src:pa.a,className:"iconMicUnmute",alt:"img",style:{display:a.audio?"block":"none"},onClick:d}),l.a.createElement("img",{src:ga.a,alt:"img",className:"iconPhone"}),l.a.createElement("img",{src:Ea.a,className:"iconVideo",alt:"img",style:{display:a.video?"none":"block"},onClick:o}),l.a.createElement("img",{src:ya.a,alt:"img",className:"iconVideoShow",style:{display:a.video?"block":"none"},onClick:o}))),a.record&&"clientDetail"===a.PageonNav&&a.record.map((function(e){console.log(e);var t=e.client.split(" ");return l.a.createElement("div",{key:e.id,className:"mainClien"},l.a.createElement("div",{className:"iconVideoo"},l.a.createElement("div",{className:"ConsulDetails",style:{borderBottom:"consultDetail"===a.PageonNav&&"4px solid #fa9551"},onClick:function(){v("consultDetail")}},l.a.createElement("h4",{style:{fontWeight:"consultDetail"===a.PageonNav&&"bold"}},"Consultations details")," "),l.a.createElement("div",{className:"ConsulDetails",style:{borderBottom:"clientDetail"===a.PageonNav&&"4px solid #fa9551"},onClick:function(){v("clientDetail")}},l.a.createElement("h4",{style:{fontWeight:"clientDetail"===a.PageonNav&&"bold"}},"Client details")," ")),l.a.createElement("div",{className:"client"},l.a.createElement("img",{src:e.image.includes("default")?xt.a:"https://healthcarebackend.xyz/media/".concat(e.image),alt:"cliet profile"}),l.a.createElement("div",{className:"client-p"},l.a.createElement("p",null,l.a.createElement("span",null,"First Name:")," ",t[0]),l.a.createElement("p",null,l.a.createElement("span",null,"Last Name:")," ",t[1]),l.a.createElement("p",null,l.a.createElement("span",null,"Address:")," ",e.address),l.a.createElement("p",null,l.a.createElement("span",null,"E-mail:")," ",e.email),l.a.createElement("p",null,l.a.createElement("span",null,"Phone number:")," ",e.phone),l.a.createElement("p",null,l.a.createElement("span",null,"Date of birth:")," ",e.birth_date),l.a.createElement("p",null,l.a.createElement("span",null,"M"===e.gender?"Male":"Female")))),l.a.createElement("div",{className:"form"},l.a.createElement("div",{className:"conditionss"},"Chronical conditions:"," "," ",l.a.createElement("br",null),l.a.createElement("textarea",{type:"text",readOnly:!0,className:"address-input",placeholder:e.chronical_conditions,id:"ChronicalConditions"})),l.a.createElement("div",{className:"allergiess"},"Allergies:"," ",l.a.createElement("textarea",{type:"text",readOnly:!0,className:"address-input",placeholder:e.allergies,id:"Allergies"}))))})),"clientDetail"===a.PageonNav&&b?l.a.createElement("img",{src:T.a,className:"loading",alt:"loading...",style:{width:"150px"}}):"clientDetail"!==a.PageonNav||b?null:l.a.createElement("div",{className:"mainTabelRecord"},l.a.createElement("div",{className:"mainConsultation"},l.a.createElement("div",{className:"icon_left"},l.a.createElement("p",null,"Consultations"))),l.a.createElement("table",{className:"table2"},l.a.createElement("thead",{className:"client-head"},l.a.createElement("tr",{className:"client-row"},l.a.createElement("th",{className:"client-subject"},"Subject"),l.a.createElement("th",{className:"client-type",style:{padding:a.searchClient&&"0 0 30px 0"}},l.a.createElement("div",{className:"mainExamDiv"},l.a.createElement("select",{type:"text",placeholder:"",onClick:N,onChange:x,defaultValue:a.searchType},l.a.createElement("option",{value:""},"Type"),l.a.createElement("option",{value:"mail"},"Email"),l.a.createElement("option",{value:"video"},"Video"),l.a.createElement("option",{value:"queue"},"Waiting room")))),l.a.createElement("th",{className:"client-date"},"Date"),l.a.createElement("th",{className:"client-status",style:{padding:a.searchClient&&"0 0 30px 0"}},"Status"))),""===a.messageIfEmpty&&a.paginatedExams.map((function(e,t){return console.log(e),l.a.createElement("tbody",{key:t,className:"client-body"},l.a.createElement("tr",{className:"list-group",style:{fontWeight:e.isRead&&700},onClick:function(){return y(e.id,e.exam_type)}},l.a.createElement("td",{className:"client-subject"},e.subject),l.a.createElement("td",{className:"client-subject"},e.exam_type),l.a.createElement("td",{className:"created"},e.created&&!e.appointed_date?l.a.createElement("p",null," ",ze()(e.created).format("MM/DD/YY")):e.appointed_date?l.a.createElement("p",null," ",ze()(e.appointed_date).format("MM/DD/YY HH:mm")):null),l.a.createElement("td",{className:"client-status"},"Pending"===e.status||"In the queue"===e.status?l.a.createElement("img",{src:we.a,alt:"clockIcon",className:"pendi"}):"Declined"===e.status||"Canceled"===e.status?l.a.createElement("img",{src:Oe.a,alt:"declined",className:"declined"}):"Finished"===e.status?l.a.createElement(Ne.a,{className:"finished"}):l.a.createElement("img",{src:Ce.a,alt:"ckeck",className:"check"}),l.a.createElement("h5",{className:"status"},e.status))))}))),""!==a.messageIfEmpty&&l.a.createElement("div",{className:"NoResultDiv"},a.messageIfEmpty)),"clientDetail"===a.PageonNav&&l.a.createElement("div",{className:"pagi"},l.a.createElement(He.a,{activePage:a.page,itemsCountPerPage:10,totalItemsCount:0===a.searchedUpcomingOrPast.length?a.exams.length:a.searchedUpcomingOrPast.length,pageRangeDisplayed:10,onChange:S})))})))},Sa=new WebSocket("wss://healthcarebackend.xyz/ws/video/"),Ca=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(o.a)(this,Object(d.a)(t).call(this,e))).detail=function(e){var t="Bearer ".concat(n.state.token);he.a.get("https://healthcarebackend.xyz/api/queue/detail/".concat(e,"/"),{headers:{Authorization:t}}).then((function(e){console.log(e),n.setState({exam:[e.data.data],clientID:e.data.data.record.id,clientStatus:e.data.data.exam.status});var t=document.getElementById("messageMainText"),a=document.querySelector(".messageDiv");console.log(t),t.scrollHeight<300?(t.style.height="".concat(t.scrollHeight,"px"),a.style.height="".concat(t.scrollHeight+60,"px")):t.style.height="300px",n.record(),n.clientsExams()})).catch((function(e){e.response&&"Bad request"===e.response.data.message?n.props.history.push("/dashboard-doctor"):console.log(e.response)}))},n.handleConnect=function(){n.testwebsocket(),navigator.mediaDevices.getUserMedia({video:!0,audio:!1}).then((function(e){var t=document.createElement("video"),a=e.getVideoTracks()[0];document.querySelector(".iconVideoShow").addEventListener("click",(function(){a.enabled=!a.enabled})),document.querySelector(".iconVideo").addEventListener("click",(function(){a.enabled=!a.enabled})),t.id="myVid",document.getElementById("videoChat").appendChild(t),t.srcObject=e,t.play()}))},n.handleVideoStart=function(e){e.preventDefault(),n.setState({startVideo:!0}),Sa.send(JSON.stringify("doctor is started video"))},n.testwebsocket=function(){navigator.mediaDevices.getUserMedia({video:n.state.video,audio:n.state.audio}).then((function(e){var t=new(a(99))({initiator:"#init"===window.location.hash,trickle:!1,stream:e});t.on("signal",(function(e){var t=JSON.stringify(e);n.setState({doctorsVideoId:t}),Sa.send(n.state.doctorsVideoId),Sa.send(null)})),document.getElementById("DoctorStartVideo")&&document.getElementById("DoctorStartVideo").addEventListener("click",(function(){null!==n.state.clientsVideoId&&(t.signal(n.state.clientsVideoId),document.getElementById("myVid").style.cssText="position: absolute; left: 45px; top: 40px; height: 140px; width: 170px; z-index: 20")})),document.getElementById("send").addEventListener("click",(function(){var e=document.getElementById("yourMessage").value;t.send(e);var a=document.querySelector("#yourMessage").value;Sa.send(a),document.getElementById("messages").innerHTML+="<p style='color: #666666  ;margin: 20px 0 5px auto;display: table; padding: 8px 5px; white-space: initial ; background: #e6e6e6; border-radius: 10px'><span>Doctor:</span>".concat(a,"</p>");var n=document.getElementById("messages");n.scrollTop=n.scrollHeight})),Sa.onclose=function(){console.error("disconnected"),window.location.reload()},Sa.onerror=function(e){console.error("failed to connect",e)},t.on("data",(function(e){document.getElementById("messages").innerHTML+="<p style='color: #666666 ; margin: 20px auto 5px 0; background: #e6e6e6 ;display: table; padding: 8px 5px; white-space: initial; border-radius: 10px'><span>Client:</span>".concat(e,"</p>");var t=document.getElementById("messages");t.scrollTop=t.scrollHeight})),t._pc.onconnectionstatechange=function(e){console.log("status je promenje",e),"disconnected"!==e.currentTarget.connectionState&&"failed"!==e.currentTarget.connectionState||window.location.reload()};var l=e.getAudioTracks()[0],s=e.getVideoTracks()[0];document.querySelector(".iconMic").addEventListener("click",(function(){l.enabled=!l.enabled})),document.querySelector(".iconVideo").addEventListener("click",(function(){s.enabled=!s.enabled})),document.querySelector(".iconMicUnmute").addEventListener("click",(function(){l.enabled=!l.enabled})),document.querySelector(".iconVideoShow").addEventListener("click",(function(){s.enabled=!s.enabled})),t.on("stream",(function(e){var t=new MediaStream(e),a=document.createElement("video");a.classList.add("vid"),document.getElementById("videoChat").appendChild(a),a.srcObject=t,a.play()})),t.on("close",(function(){n.handleDivClose(),window.location.reload()})),document.querySelector(".iconPhone").addEventListener("click",(function(){Sa.send(JSON.stringify("Cancel Video From Doctor")),window.location.reload(),n.handleDivClose()}))}),(function(e){console.error(e)}))},n.handleChange=function(e){n.setState({value:e.target.value});var t=document.querySelector(".inputMessage");""===e.target.value?(e.target.style.height="30px",t.style.height="30px"):(e.target.style.height="30px",t.style.height="30px",e.target.clientHeight<e.target.scrollHeight&&(e.target.style.height=5+e.target.scrollHeight+"px"),e.target.clientHeight<e.target.scrollHeight&&(t.style.height=5+e.target.scrollHeight+"px"))},n.enableTipeing=function(e){e.stopPropagation()},n.iconsMouseOver=function(){n.setState({hover:!0})},n.iconsMouseOut=function(){n.setState({hover:!1})},n.handleDragDrop=function(e){n.setState({x:e.x,y:e.y})},n.handleResize=function(e,t){var a=document.getElementById("videoo");n.setState(Object(Ct.a)({width:a.style.width,height:a.style.height},e))},n.showAndHideChat=function(){n.setState({showChat:!n.state.showChat})},n.handleDivSize=function(){n.setState({width:window.screen.width,height:window.screen.height,x:0,y:0}),document.fullscreenElement?document.exitFullscreen&&(document.exitFullscreen(),n.setState({width:700,height:500})):document.documentElement.requestFullscreen()},n.handleDivClose=function(){n.setState({startVideo:!1})},n.cutMic=function(){n.setState({audio:!n.state.audio})},n.cutVideo=function(){n.setState({video:!n.state.video})},n.statusSelecting=function(e){var t,a,l;return se.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return t="Bearer ".concat(n.state.token),s.next=3,se.a.awrap(fetch("https://healthcarebackend.xyz/api/queue/detail/".concat(n.props.match.params.id,"/"),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:t},body:JSON.stringify({status:e,decline_notes:n.state.declineReason,report:n.state.report})}));case 3:return a=s.sent,s.next=6,se.a.awrap(a.json());case 6:return l=s.sent,console.log(l),!0===l.success&&(n.detail(n.props.match.params.id),"Accepted"===l.data.exam.status&&n.state.connectedall&&n.handleConnect(),"Finished"===l.data.exam.status&&window.location.reload(),Sa.send(JSON.stringify({id:n.props.match.params.id,status:l.data.exam.status}))),s.abrupt("return",l);case 10:case"end":return s.stop()}}))},n.connectedAll=function(){n.setState({connectedall:!0}),"Accepted"===n.state.clientStatus&&n.handleConnect()},n.handleStatus=function(e){n.setState({statusValue:e});var t=e.value,a=e.label;console.log(t,a),n.setState({selectedStatus:t}),"Decline"!==t&&n.statusSelecting(t)},n.extendScr=function(){n.setState({extended:!n.state.extended})},n.declineReason=function(e){n.setState({declineReason:e.target.value}),e.target.scrollHeight<300?e.target.style.height="".concat(e.target.scrollHeight,"px"):e.target.style.height="300px"},n.saveReason=function(){n.statusSelecting(n.state.selectedStatus)},n.report=function(e){n.setState({report:e.target.value}),e.target.scrollHeight<300?e.target.style.height="".concat(e.target.scrollHeight,"px"):e.target.style.height="300px"},n.saveReport=function(){n.statusSelecting("Finish")},n.resetValue=function(){n.setState({value:""});var e=document.querySelector(".inputMessage");document.getElementById("yourMessage").style.height="30px",e.style.height="30px",console.log("jel radi ovo")},n.handleKeyPress=function(e){"Enter"===e.key&&(e.preventDefault(),document.getElementById("send").click(),n.resetValue())},n.handleshowSave=function(e,t){e.target.value=t,n.setState({showSaveButton:!0})},n.onChangeHandler=function(e){n.setState({selectedFile:e.target.files[0]})},n.handlePage=function(e){n.setState({PageonNav:e});var t=setInterval((function(){if("clientDetail"===e){var a=document.getElementById("ChronicalConditions");a.style.height="".concat(a.scrollHeight,"px"),console.log(a);var n=document.getElementById("Allergies");n.style.height="".concat(n.scrollHeight,"px")}clearInterval(t)}),100)},n.record=function(){var e="Bearer ".concat(n.state.token);he.a.get("https://healthcarebackend.xyz/api/doctor/record/".concat(n.state.clientID,"/"),{headers:{Authorization:e}}).then((function(e){return console.log(e,"nzm ni ja sta"),n.handleAll(),n.setState({record:[e.data.data]})}))},n.clientsExams=function(){var e="Bearer ".concat(n.state.token);he.a.get("https://healthcarebackend.xyz/api/exams/client/".concat(n.state.clientID,"/list/"),{headers:{Authorization:e}}).then((function(e){console.log(e,"podaciiii");var t=e.data.data.mail.concat(e.data.data.queue,e.data.data.video);return n.setState({exams:t})})).then((function(){n.handleAll()}))},n.handleAll=function(){var e=setInterval((function(){var t=n.state.exams,a=t.sort((function(e,t){return Date.parse(t.created)-Date.parse(e.created)})),l=0===t.length?"No consultations":"";n.setState({upcomingOrPast:a,page:1,messageIfEmpty:l,currentFilterClicked:"all",searchedUpcomingOrPast:[],filterFiltered:[],searchType:"",searchName:""}),n.paginate(1),clearInterval(e)}),10)},n.paginate=function(e){if(0===n.state.searchedUpcomingOrPast.length){var t=Math.ceil(n.state.upcomingOrPast.length/10),a=10*(e-1),l=n.state.upcomingOrPast.slice(a,a+10);n.setState({paginatedExams:l,loading:!1,maxPages:t})}else{var s=Math.ceil(n.state.searchedUpcomingOrPast.length/10),c=10*(e-1),r=n.state.searchedUpcomingOrPast.slice(c,c+10);n.setState({paginatedExams:r,loading:!1,maxPages:s})}},n.searchByType=function(e){""===e.target.value&&""===n.state.searchName?n.setState({filterFiltered:[]}):""===e.target.value&&""!==n.state.searchName&&n.setState({filterFiltered:[]});var t=e.target.value.toLowerCase();n.setState({searchType:t});var a=setInterval((function(){n.handlingSearchByType(),clearInterval(a)}),10)},n.handlingSearchByType=function(){var e=0===n.state.filterFiltered.length?n.state.upcomingOrPast.filter((function(e){return e.exam_type.toLowerCase().indexOf(n.state.searchType)===n.state.searchType.indexOf(n.state.searchType)?e:null})):n.state.filterFiltered.filter((function(e){return e.exam_type.toLowerCase().indexOf(n.state.searchType)===n.state.searchType.indexOf(n.state.searchType)?e:null})),t=0===e.length?"No Such Type":0!==e.length&&"No Such Type"!==n.state.messageIfEmpty?n.state.messageIfEmpty:"";0===n.state.filterFiltered.length&&n.setState({filterFiltered:e}),n.setState({searchedUpcomingOrPast:e,page:1,messageIfEmpty:t}),n.paginate(1)},n.handleClick=function(e,t){"mail"===t?n.props.history.push("/doctor/exam/detail/".concat(e)):"video"===t?n.props.history.push("/doctor/video/exam/detail/".concat(e,"/#init")):"queue"===t&&n.props.history.push("/doctor/processing/video/exam/".concat(e,"/#init"))},n.ResetonSelectChange=function(){n.setState({filterFiltered:[]})},n.handlePageChange=function(e){n.setState({page:e}),n.paginate(e)},n.state={exam:[],token:sessionStorage.getItem("accessToken"),connected:!1,doctorsVideoId:"",clientsVideoId:"null",startVideo:!1,value:"",width:700,height:500,x:0,y:0,hover:!1,showChat:!1,video:!0,audio:!0,connectedall:!1,selectedStatus:"",connection:"",clientStatus:"",extended:!1,displayReport:!1,declineReason:"",report:"",showSaveButton:!1,PageonNav:"",page:1,exams:[],record:null,id:n.props.match.params.id,currentFilterClicked:"",searchName:"",searchType:"",messageIfEmpty:"",paginatedExams:[],searchedUpcomingOrPast:[],clientID:""},n}return Object(m.a)(t,e),Object(i.a)(t,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.statusChanged===parseInt(this.props.match.params.id)&&this.detail(this.props.match.params.id)}},{key:"componentWillUnmount",value:function(){window.location.reload()}},{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.id;this.setState({PageonNav:"consultDetail"}),console.log(Sa.readyState,"connection status"),1===Sa.readyState&&Sa.send(JSON.stringify({id:t,connectedDoctor:!0})),Sa.onopen=function(){console.log("connected"),e.setState({connection:Sa}),Sa.send(JSON.stringify({id:t,connectedDoctor:!0}))},this.detail(t),Sa.onmessage=function(a){var n=JSON.parse(a.data);console.log(n,"testonja"),console.log("received doctor",a.data),null!==JSON.parse(n.text)&&JSON.parse(n.text).startingVideo?e.setState({connected:!0}):JSON.parse(n.text)&&(JSON.parse(n.text).id===parseInt(t)&&JSON.parse(n.text).connectedClient?e.connectedAll():"Cancel Video From Client"===JSON.parse(n.text)&&(e.handleDivClose(),window.location.reload())),e.setState({clientsVideoId:n.text})}}},{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"header"},l.a.createElement("div",null,l.a.createElement(ne,null),l.a.createElement(ge,null))),l.a.createElement(it,null),l.a.createElement(Na,{handleStatus:this.handleStatus,handleConnect:this.handleConnect,handleVideoStart:this.handleVideoStart,handleChange:this.handleChange,enableTipeing:this.enableTipeing,iconsMouseOut:this.iconsMouseOut,iconsMouseOver:this.iconsMouseOver,handleDragDrop:this.handleDragDrop,handleResize:this.handleResize,showAndHideChat:this.showAndHideChat,handleDivSize:this.handleDivSize,cutMic:this.cutMic,cutVideo:this.cutVideo,props:this.state,redirectThis:this,extendScr:this.extendScr,declineReason:this.declineReason,saveReason:this.saveReason,report:this.report,saveReport:this.saveReport,resetValue:this.resetValue,handleKeyPress:this.handleKeyPress,handleshowSave:this.handleshowSave,onChangeHandler:this.onChangeHandler,handlePage:this.handlePage,handleClick:this.handleClick,loading:this.state.loading,searchByType:this.searchByType,ResetonSelectChange:this.ResetonSelectChange,handlePageChange:this.handlePageChange}))}}]),t}(n.Component),ka=Object(h.b)((function(e){return{statusChanged:e.getIn(["doctorStatusWRReducer","statusChanged"])}}))(Ca),wa=(a(385),function(e){var t=e.props,a=e.record,n=e.handleClick,s=e.loading,c=e.searchByType,r=e.ResetonSelectChange,i=e.handlePageChange;return l.a.createElement(l.a.Fragment,null,a&&a.map((function(e){console.log(e);var t=e.client.split(" ");return l.a.createElement("div",{key:e.id,className:"mainClien"},l.a.createElement("div",{className:"clDetails"},l.a.createElement("h4",null,"Client details ")),l.a.createElement("div",{className:"client"},l.a.createElement("img",{src:e.image.includes("default")?xt.a:"https://healthcarebackend.xyz/media/".concat(e.image),alt:"cliet profile"}),l.a.createElement("div",{className:"client-p"},l.a.createElement("p",null,l.a.createElement("span",null,"First Name:")," ",t[0]),l.a.createElement("p",null,l.a.createElement("span",null,"Last Name:")," ",t[1]),l.a.createElement("p",null,l.a.createElement("span",null,"Address:")," ",e.address),l.a.createElement("p",null,l.a.createElement("span",null,"E-mail:")," ",e.email),l.a.createElement("p",null,l.a.createElement("span",null,"Phone number:")," ",e.phone),l.a.createElement("p",null,l.a.createElement("span",null,"Date of birth:")," ",e.birth_date),l.a.createElement("p",null,l.a.createElement("span",null,"M"===e.gender?"Male":"Female")))),l.a.createElement("div",{className:"form"},l.a.createElement("div",{className:"conditionss"},"Chronical conditions:"," "," ",l.a.createElement("br",null),l.a.createElement("textarea",{type:"text",readOnly:!0,className:"address-input",placeholder:e.chronical_conditions,id:"ChronicalConditions"})),l.a.createElement("div",{className:"allergiess"},"Allergies:"," ",l.a.createElement("textarea",{type:"text",readOnly:!0,className:"address-input",placeholder:e.allergies,id:"Allergies"}))))})),s?l.a.createElement("img",{src:T.a,className:"loading",alt:"loading...",style:{width:"150px"}}):l.a.createElement("div",{className:"mainTabelRecord"},l.a.createElement("div",{className:"mainConsultation"},l.a.createElement("div",{className:"icon_left"},l.a.createElement("p",null,"Consultations"))),l.a.createElement("table",{className:"table2"},l.a.createElement("thead",{className:"client-head"},l.a.createElement("tr",{className:"client-row"},l.a.createElement("th",{className:"client-subject"},"Subject"),l.a.createElement("th",{className:"client-type",style:{padding:t.searchClient&&"0 0 30px 0"}},l.a.createElement("div",{className:"mainExamDiv"},l.a.createElement("select",{type:"text",placeholder:"",onClick:r,onChange:c,value:t.searchType},l.a.createElement("option",{value:""},"Type"),l.a.createElement("option",{value:"mail"},"Email"),l.a.createElement("option",{value:"video"},"Video"),l.a.createElement("option",{value:"queue"},"Waiting room")))),l.a.createElement("th",{className:"client-date"},"Date"),l.a.createElement("th",{className:"client-status",style:{padding:t.searchClient&&"0 0 30px 0"}},"Status"))),""===t.messageIfEmpty&&t.paginatedExams.map((function(e,t){return l.a.createElement("tbody",{key:t,className:"client-body"},l.a.createElement("tr",{className:"list-group",style:{fontWeight:e.isRead&&700},onClick:function(){return n(e.id,e.exam_type)}},l.a.createElement("td",{className:"client-subject"},e.subject),l.a.createElement("td",{className:"client-subject"},e.exam_type),l.a.createElement("td",{className:"created"},e.created&&!e.appointed_date?l.a.createElement("p",null," ",ze()(e.created).format("MM/DD/YY")):e.appointed_date?l.a.createElement("p",null," ",ze()(e.appointed_date).format("MM/DD/YY HH:mm")):null),l.a.createElement("td",{className:"client-status"},"Pending"===e.status||"In the queue"===e.status?l.a.createElement("img",{src:we.a,alt:"clockIcon",className:"pendi"}):"Declined"===e.status||"Canceled"===e.status?l.a.createElement("img",{src:Oe.a,alt:"declined",className:"declined"}):"Finished"===e.status?l.a.createElement(Ne.a,{className:"finished"}):l.a.createElement("img",{src:Ce.a,alt:"ckeck",className:"check"}),l.a.createElement("h5",{className:"status"},e.status))))}))),""!==t.messageIfEmpty&&l.a.createElement("div",{className:"NoResultDiv"},t.messageIfEmpty)),l.a.createElement("div",{className:"pagi"},l.a.createElement(He.a,{activePage:t.page,itemsCountPerPage:10,totalItemsCount:0===t.searchedUpcomingOrPast.length?t.exams.length:t.searchedUpcomingOrPast.length,pageRangeDisplayed:10,onChange:i})))}),Da=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(d.a)(t).call(this,e))).record=function(){var e="Bearer ".concat(a.state.token);he.a.get("https://healthcarebackend.xyz/api/doctor/record/".concat(a.state.id,"/"),{headers:{Authorization:e}}).then((function(e){return console.log(e,"nzm ni ja sta"),a.handleAll(),a.setState({record:[e.data.data]})})).then((function(){var e=document.getElementById("ChronicalConditions");e.style.height="".concat(e.scrollHeight,"px");var t=document.getElementById("Allergies");t.style.height="".concat(t.scrollHeight,"px")}))},a.clientsExams=function(){var e="Bearer ".concat(a.state.token);he.a.get("https://healthcarebackend.xyz/api/exams/client/".concat(a.state.id,"/list/"),{headers:{Authorization:e}}).then((function(e){console.log(e,"podaciiii");var t=e.data.data.mail.concat(e.data.data.queue,e.data.data.video);return a.setState({exams:t})})).then((function(){a.handleAll()}))},a.handleAll=function(){var e=setInterval((function(){var t=a.state.exams,n=t.sort((function(e,t){return Date.parse(t.created)-Date.parse(e.created)})),l=0===t.length?"No consultations":"";a.setState({upcomingOrPast:n,page:1,messageIfEmpty:l,currentFilterClicked:"all",searchedUpcomingOrPast:[],filterFiltered:[],searchType:"",searchName:""}),a.paginate(1),clearInterval(e)}),10)},a.paginate=function(e){if(0===a.state.searchedUpcomingOrPast.length){var t=Math.ceil(a.state.upcomingOrPast.length/10),n=10*(e-1),l=a.state.upcomingOrPast.slice(n,n+10);a.setState({paginatedExams:l,loading:!1,maxPages:t})}else{var s=Math.ceil(a.state.searchedUpcomingOrPast.length/10),c=10*(e-1),r=a.state.searchedUpcomingOrPast.slice(c,c+10);a.setState({paginatedExams:r,loading:!1,maxPages:s})}},a.searchByType=function(e){""===e.target.value&&""===a.state.searchName?a.setState({filterFiltered:[]}):""===e.target.value&&""!==a.state.searchName&&a.setState({filterFiltered:[]});var t=e.target.value.toLowerCase();a.setState({searchType:t});var n=setInterval((function(){a.handlingSearchByType(),clearInterval(n)}),10)},a.handlingSearchByType=function(){var e=0===a.state.filterFiltered.length?a.state.upcomingOrPast.filter((function(e){return e.exam_type.toLowerCase().indexOf(a.state.searchType)===a.state.searchType.indexOf(a.state.searchType)?e:null})):a.state.filterFiltered.filter((function(e){return e.exam_type.toLowerCase().indexOf(a.state.searchType)===a.state.searchType.indexOf(a.state.searchType)?e:null})),t=0===e.length?"No Such Type":0!==e.length&&"No Such Type"!==a.state.messageIfEmpty?a.state.messageIfEmpty:"";0===a.state.filterFiltered.length&&a.setState({filterFiltered:e}),a.setState({searchedUpcomingOrPast:e,page:1,messageIfEmpty:t}),a.paginate(1)},a.handleClick=function(e,t){"mail"===t?a.props.history.push("/doctor/exam/detail/".concat(e)):"video"===t?a.props.history.push("/doctor/video/exam/detail/".concat(e,"/#init")):"queue"===t&&a.props.history.push("/doctor/processing/video/exam/".concat(e,"/#init"))},a.ResetonSelectChange=function(){a.setState({filterFiltered:[]})},a.handlePageChange=function(e){a.setState({page:e}),a.paginate(e)},a.state={exams:[],record:null,token:sessionStorage.getItem("accessToken"),id:a.props.match.params.id,currentFilterClicked:"",searchName:"",searchType:"",messageIfEmpty:"",paginatedExams:[],searchedUpcomingOrPast:[]},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.record(),this.clientsExams()}},{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"header"},l.a.createElement("div",null,l.a.createElement(ne,null),l.a.createElement(ge,null))),l.a.createElement(rt,null),l.a.createElement(wa,{record:this.state.record,props:this.state,handleClick:this.handleClick,handleClickMail:this.handleClickMail,handleClient:this.handleClient,hnlClick:this.hnlClick,hnlClick2:this.hnlClick2,hnlClick3:this.hnlClick3,hnlWaitingClick:this.hnlWaitingClick,handleKeyPress:this.handleKeyPress,handleChange:this.handleChange,handleClickLeft:this.handleClickLeft,handleClickRight:this.handleClickRight,loading:this.state.loading,hnlVideoClick:this.hnlVideoClick,handleWaitingRoom:this.handleWaitingRoom,handleVideoPendingClick:this.handleVideoPendingClick,handlePast:this.handlePast,handleAll:this.handleAll,hnlMyConsultations:this.hnlMyConsultations,handleClientSearch:this.handleClientSearch,handleTypeSearch:this.handleTypeSearch,searchByType:this.searchByType,searchByName:this.searchByName,ResetonSelectChange:this.ResetonSelectChange,handlePageChange:this.handlePageChange}))}}]),t}(n.Component),Oa=(a(386),a(260)),Pa=a.n(Oa),_a=(a(387),function(e){var t=e.handleSpeciality,a=e.handleDoctor,n=e.handleSubject,s=e.handleSubmit,c=e.handleMessage,r=e.handleDateChange,i=e.props,o=e.handleAttach,d=i.excludeTime&&i.excludeTime.map((function(e){return new Date(e.appointed_date)})),m=i.startTime&&Number(i.startTime.split(":")[0]),u=i.startTime&&Number(i.startTime.split(":")[1]),p=i.endTime&&Number(i.endTime.split(":")[0]),h=i.endTime&&Number(i.endTime.split(":")[1]),g={control:function(e,t){return Object(Ct.a)({},e,{height:"33px",minHeight:"33px",border:"1.7px solid #fa9551",borderRadius:"10px",width:"100%",background:i.color&&0===i.specialSP.length?"rgb(245, 192, 192)":"white",color:"#666666",fontWeight:"500",div:{display:"flex",alignSelf:"center",height:"33px"}})},menu:function(e,t){return{position:"absolute",zIndex:"40",width:"100%",background:"white",border:"1px solid gray",borderRadius:"5px",boxShadow:"2px 2px 10px gray"}},placeholder:function(){return{fontWeight:"500",color:"#666666",heigth:"33px"}},valueContainer:function(e,t){return Object(Ct.a)({},e,{height:"33px",padding:"6px"})},input:function(e,t){return Object(Ct.a)({},e,{margin:"0px"})},indicatorSeparator:function(e){return{display:"none"}},indicatorsContainer:function(e,t){return Object(Ct.a)({},e,{height:"33px"})},singleValue:function(){return{}}},f={control:function(e,t){return Object(Ct.a)({},e,{height:"33px",minHeight:"33px",border:"1.7px solid #fa9551",borderRadius:"10px",width:"100%",background:i.color&&!i.doctor_id?"rgb(245, 192, 192)":"white",color:"#666666",fontWeight:"500",div:{display:"flex",alignSelf:"center",height:"33px"}})},menu:function(e,t){return{position:"absolute",zIndex:"40",width:"100%",background:"white",border:"1px solid gray",borderRadius:"5px",boxShadow:"2px 2px 10px gray"}},placeholder:function(){return{fontWeight:"500",color:"#666666",heigth:"33px"}},valueContainer:function(e,t){return Object(Ct.a)({},e,{height:"33px",padding:"6px"})},input:function(e,t){return Object(Ct.a)({},e,{margin:"0px"})},indicatorSeparator:function(e){return{display:"none"}},indicatorsContainer:function(e,t){return Object(Ct.a)({},e,{height:"33px"})},singleValue:function(){return{}}};return l.a.createElement("div",{className:"exam"},l.a.createElement("div",{className:"mainExam"},l.a.createElement("div",{className:"newVideo"},l.a.createElement("h4",null,"Video Appointment")),l.a.createElement("div",{className:"exam-spec"},l.a.createElement(gt.a,{type:"text",id:"speciality",styles:g,placeholder:i.currentSpec?i.currentSpec:"Select Speciality...",options:i.specialities,onChange:t})),l.a.createElement("div",{className:"exam-doc"},l.a.createElement(gt.a,{noOptionsMessage:function(){return"Select speciality"},type:"text",id:"doctor",styles:f,placeholder:"Select Doctor...",options:0===i.specDoctor.length?i.doctors:i.specDoctor,onChange:a,value:i.resetDoctorSelect})),l.a.createElement("div",{className:"exam-sub"},l.a.createElement("input",{type:"text",className:"form-control",id:"subject",style:{background:i.color&&!i.subject?"rgb(245, 192, 192)":"white"},placeholder:"Enter subject",maxLength:"35",value:i.subject,onChange:n}))),l.a.createElement("div",{className:"DatePicker"},l.a.createElement("div",{className:"exam-mess",style:{background:i.color&&!i.notes?"rgb(245, 192, 192)":"white"}},l.a.createElement("textarea",{type:"text",id:"exam-notes",placeholder:"Enter notes",style:{background:i.color&&!i.notes?"rgb(245, 192, 192)":"white"},value:i.notes,onChange:c}),l.a.createElement("div",{className:"mainDivForFile"},l.a.createElement("div",{className:"upload-btn-wrapper"},l.a.createElement("button",{className:"btnn"},l.a.createElement("div",{className:"attachDiv"},l.a.createElement("p",null,"Add file"))),l.a.createElement("input",{type:"file",name:"myfile",onChange:o})),i.attachments&&l.a.createElement("div",{className:"fileForDownload"},l.a.createElement("p",null,i.attachments.name.substring(i.attachments.name.lastIndexOf("/")+1))))),l.a.createElement("div",{className:"MainDate"},l.a.createElement("div",{className:"disabledDiv",style:{zIndex:i.specialSP&&i.doctor_id?0:1}}),l.a.createElement(Pa.a,{excludeTimes:d,inline:!0,selected:i.startDate,onChange:r,showTimeSelect:!0,excludeOutOfBoundsTimes:!0,minDate:new Date,timeFormat:"hh:mm aa",timeIntervals:30,timeCaption:"time",fixedHeight:!0,minTime:i.startTime?ze()(new Date).set("hour",m).set("minute",u)._d:ze()(new Date).set("hour",8).set("minute",0)._d,maxTime:i.endTime?ze()(new Date).set("hour",p).set("minute",h).subtract("minute",30)._d:ze()(new Date).set("hour",15).set("minute",30)._d}),l.a.createElement("p",{style:{display:i.color&&!i.reservedDate?"block":"none"}},"Please select Time and Date")),l.a.createElement("div",{className:"divAndAttach"},l.a.createElement("button",{value:i.submitted,className:"send",onClick:s},"Send"))))}),Ia=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(d.a)(t).call(this,e))).handleDateChange=function(e){var t=ze()(e).format("YYYY-MM-DDTHH:mm:ss"),n=ze()(e).format("YYYY-MM-DD");a.setState({startDate:e,reservedDate:t});var l=a.state.doctorsExams&&a.state.doctorsExams.filter((function(e){return ze()(e.appointed_date).format("YYYY-MM-DD")===n?e:null}));a.setState({excludeTime:l})},a.handleSpeciality=function(e){var t=a.state.doctors.filter((function(t){return t.spec===e.label}));console.log(t),a.setState({specialSP:e.value,specDoctor:t,resetDoctorSelect:null,currentSpec:""})},a.handleDoctor=function(e){console.log(e),a.props.dispatch(At(e));var t=e.startTime?e.startTime.slice(0,-3):"",n=e.endTime?e.endTime.slice(0,-3):"";console.log(e);var l=a.state.specialities.filter((function(t){return t.label===e.spec}));console.log(a.state.specialities),a.setState({doctor_id:e.iD,doctorsPrice:e.price,currency:e.currency,startTime:t,endTime:n});var s="Bearer ".concat(a.state.token);he.a.get("https://healthcarebackend.xyz/api/web/doc/".concat(e.iD,"/"),{headers:{Authorization:s}}).then((function(e){console.log(e);var t=e.data.data&&e.data.data.filter((function(e){return ze()(e.appointed_date).format("YYYY-MM-DD")>=ze()(new Date).format("YYYY-MM-DD")}));a.setState({doctorsExams:t})})).then((function(){var e=ze()(new Date).format("YYYY-MM-DD"),t=a.state.doctorsExams&&a.state.doctorsExams.filter((function(t){return ze()(t.appointed_date).format("YYYY-MM-DD")===e?t:null}));a.setState({excludeTime:t})})),a.setState({resetDoctorSelect:e,specialSP:l[0].value,currentSpec:l[0].label})},a.handleSubject=function(e){a.setState({subject:e.target.value})},a.handleMessage=function(e){a.setState({notes:e.target.value})},a.handleSubmit=function(e){var t,n,l,s;return se.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:if("Bearer ".concat(a.state.token),a.setState({color:"red"}),!(a.state.specialSP&&a.state.doctor_id&&a.state.subject&&a.state.notes&&a.state.reservedDate)){e.next=24;break}return a.setState({isClicked:!0}),(t=new FormData).append("client",a.state.clientId),t.append("speciality",a.state.specialSP),t.append("doctor",a.state.doctor_id),t.append("subject",a.state.subject),t.append("attachments",a.state.attachments),t.append("appointed_date",a.state.reservedDate),t.append("notes",a.state.notes),t.append("price",""),n="Bearer ".concat(a.state.token),"https://healthcarebackend.xyz/api/web/client/initiate/",l=he.a.post("https://healthcarebackend.xyz/api/web/client/initiate/",t,{headers:{"content-type":"multipart/form-data",Authorization:n}}),e.next=18,se.a.awrap(l);case 18:return s=e.sent,console.log(s),s.data.success&&a.toCheckout(),e.abrupt("return",l);case 24:ce.NotificationManager.error("Empty Fielde Or You Did Not Set Time And Date","Failed!",4e3);case 25:case"end":return e.stop()}}))},a.toCheckout=function(){return se.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:if("0.00"===a.state.doctorsPrice){e.next=4;break}return e.abrupt("return",a.props.history.push({pathname:"/checkout",state:{price:a.state.doctorsPrice,currency:a.state.currency}}));case 4:return e.abrupt("return",a.props.history.push("/dashboard-client"));case 5:case"end":return e.stop()}}))},a.handleClientProfile=function(){var e;return se.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:e="Bearer ".concat(a.state.token),he.a.get("https://healthcarebackend.xyz/api/client/profile/",{headers:{Authorization:e}}).then((function(e){return console.log(e.data.data,"profile of client"),a.setState({clientId:e.data.data.id})}));case 2:case"end":return t.stop()}}))},a.handleAttach=function(e){a.setState({attachments:e.target.files[0]})},a.state={complete:!1,specialities:[],doctors:[],filtered:[],subject:"",notes:"",submitted:!1,price:null,doctor_id:null,token:sessionStorage.getItem("accessToken"),specDoctor:[],specialSP:[],currentSpec:"",resetDoctorSelect:null,isClicked:!1,startDate:new Date,reservedDate:"",doctorsPrice:"",clientId:null,attachments:"",doctorsExams:[],excludeTime:[],currency:null,color:""},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.handleClientProfile(),he.a.get("https://healthcarebackend.xyz/api/specialities/").then((function(t){console.log(t,"spec");var a=t.data.data.map((function(e){return{value:e.id,iD:e.speciality_id,label:e.name}}));e.setState({specialities:a})})),he.a.get("https://healthcarebackend.xyz/api/doctor/list/").then((function(t){console.log(t);var a=t.data.data.map((function(e){return{value:e.id,iD:e.id,label:e.doctor,spec:e.speciality,price:e.web_exam_price,currency:e.web_currency,startTime:e.start_hour,endTime:e.end_hour}}));e.setState({doctors:a}),e.props.location.state&&t.data.data.filter((function(t){if(t.id===e.props.location.state.doctorId){var a={value:t.id,iD:t.id,label:t.doctor,spec:t.speciality,price:t.web_exam_price,currency:t.web_currency,startTime:t.start_hour,endTime:t.end_hour};e.handleDoctor(a)}}))}))}},{key:"render",value:function(){return console.log(this.state.doctorsPrice),l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"header"},l.a.createElement("div",null,l.a.createElement(ne,null),l.a.createElement(ge,null))),l.a.createElement(rt,null),l.a.createElement(_a,{handleSpeciality:this.handleSpeciality,handleDoctor:this.handleDoctor,handleSubject:this.handleSubject,handleSubmit:this.handleSubmit,handleMessage:this.handleMessage,handleDateChange:this.handleDateChange,handleAttach:this.handleAttach,props:this.state}))}}]),t}(n.Component),ja=Object(h.b)((function(e){return{doctor:e.getIn(["doctorReducer","doctor"]),price:e.price}}))(Ia),Fa=(a(157),function(e){var t=e.exam,a=e.props,s=e.handleStatus,c=e.statusValue,r=e.handleJoinRoom,i={control:function(){return{width:160,border:"2px solid #fa9551",borderRadius:"10px",height:"33px",fontWeight:600,display:"flex"}}};return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"header"},l.a.createElement("div",null,l.a.createElement(ne,null),l.a.createElement(ge,null))),l.a.createElement(it,null),t.map((function(e){var t="Appointed"===e.status?"Accepted":e.status,o="Pending"===e.status||"Appointed"===e.status?[{value:"Cancel",label:"Cancel"}]:[];return l.a.createElement(n.Fragment,{key:e.id},l.a.createElement("div",{className:"detail-exam"},l.a.createElement("div",{className:"iconVideo"},l.a.createElement("h4",null,"Consultation details")," "),l.a.createElement("div",{className:"detail"},l.a.createElement("p",null,l.a.createElement("span",null,"Doctor:")," ",e.doctor),l.a.createElement("p",null,l.a.createElement("span",null,"Speciality:")," ",e.speciality),e.appointed_date?l.a.createElement("p",null,l.a.createElement("span",null,"Appointed"===e.status||"Finished"===e.status?"Appointed date: :":"Appoint date: ")," ",ze()(e.appointed_date).format("MM/DD/YY HH:mm")):l.a.createElement("p",null," ",l.a.createElement("span",null,"Created:")," ",new Intl.DateTimeFormat("en-GB",{year:"numeric",month:"long",day:"2-digit"}).format(new Date(e.created))),l.a.createElement("p",null,l.a.createElement("span",null,"Type:")," ",e.exam_type),"Pending"!==e.status?l.a.createElement("p",null,l.a.createElement("span",null,"Status:")," ",e.status):l.a.createElement("div",{className:"divSelectButton"},l.a.createElement(gt.a,{type:"text",placeholder:t,styles:i,className:"select-option",value:c,options:o,onChange:s}))),l.a.createElement("div",{className:"mainMessageDiv"},l.a.createElement("div",{className:"subjectDiv"},l.a.createElement("p",null,l.a.createElement("span",{style:{fontWeight:"bold"}},"Subject:")," ",e.subject),l.a.createElement("p",null,l.a.createElement("span",null,ze()(e.created).format("MM/DD/YY")))),l.a.createElement("div",{className:"messageDiv"},l.a.createElement("textarea",{defaultValue:e.notes,id:"messageMainText",disabled:!0})),l.a.createElement("div",{className:"reportIfDeclined",style:{display:"Declined"!==e.status?"none":"block"}},l.a.createElement("div",{className:"subjectDiv"},l.a.createElement("p",null,l.a.createElement("span",null,"Decline reason:"))),l.a.createElement("div",{className:"messageDivReport"},l.a.createElement("textarea",{name:"text",disabled:"Declined"===e.status&&!0,placeholder:e.decline_notes?e.decline_notes:"text",value:a.declineReason,id:"textarea"}))),l.a.createElement("div",{className:"reportIfFinished",style:{display:"Finished"!==e.status?"none":"block"}},l.a.createElement("div",{className:"subjectDiv"},l.a.createElement("p",null,l.a.createElement("span",null,"Report:"))),l.a.createElement("div",{className:"messageDivReport"},l.a.createElement("textarea",{name:"text",disabled:"Finished"===e.status&&!0,placeholder:e.report?e.report:"text",value:a.declineReason,id:"textarea"})))),"Appointed"===e.status||"Accepted"===e.status?l.a.createElement("div",{className:"message-btn"},l.a.createElement("button",{className:"message-link",id:"StartVideo",onClick:r},"Join now")):null))})))}),Ma=(a(99),function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(d.a)(t).call(this,e))).handleJoinRoom=function(){window.open("/room/".concat(a.props.match.params.id))},a.handleStatus=function(e){a.setState({statusValue:e});var t=e.value,n=e.label;console.log(t,n),a.setState({selectedStatus:t}),a.handleCancel(t)},a.handleCancel=function(e){var t,n,l;return se.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return t="Bearer ".concat(a.state.token),s.next=3,se.a.awrap(fetch("https://healthcarebackend.xyz/api/web/client/".concat(a.state.id,"/"),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:t},body:JSON.stringify({status:e})}));case 3:return n=s.sent,s.next=6,se.a.awrap(n.json());case 6:return l=s.sent,console.log(l),!0===l.success&&a.props.history.push("/dashboard-client"),s.abrupt("return",l);case 10:case"end":return s.stop()}}))},a.detail=function(){var e="Bearer ".concat(a.state.token);he.a.get("https://healthcarebackend.xyz/api/web/client/".concat(a.state.id,"/"),{headers:{Authorization:e}}).then((function(e){console.log(e.data),a.setState({exam:a.state.exam.concat(e.data.data),appointedDate:e.data.data.appointed_date});var t=document.getElementById("messageMainText"),n=document.querySelector(".messageDiv");console.log(t),t.scrollHeight<300?(t.style.height="".concat(t.scrollHeight,"px"),n.style.height="".concat(t.scrollHeight+20,"px")):t.style.height="300px"}))},a.handleDivClose=function(){a.setState({startVideo:!1})},a.state={exam:[],statusValue:"",selectedStatus:"",token:sessionStorage.getItem("accessToken"),id:a.props.match.params.id,appointedDate:"",YourNumber:null,doctorsVideoId:null,startVideo:!1,value:"",width:700,height:500,x:0,y:0,hover:!1,showChat:!1,video:!0,audio:!0},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.detail()}},{key:"componentWillUnmount",value:function(){}},{key:"UNSAFE_componentWillMount",value:function(){}},{key:"render",value:function(){return console.log(this.state.selectedStatus,this.state.statusValue),l.a.createElement(l.a.Fragment,null,l.a.createElement(Fa,{exam:this.state.exam,handleCancel:this.handleCancel,props:this.state,handleStatus:this.handleStatus,handleJoinRoom:this.handleJoinRoom}))}}]),t}(n.Component)),Va=function(e){var t=e.exam,a=e.props;return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"header"},l.a.createElement("div",null,l.a.createElement(ne,null),l.a.createElement(ge,null))),l.a.createElement(rt,null),t.map((function(e){return l.a.createElement(n.Fragment,{key:e.exam.id},l.a.createElement("div",{className:"detail-exam",style:{height:"300px"}},l.a.createElement("div",{className:"iconVideo"},l.a.createElement("h4",null,"Consultation details")," "),l.a.createElement("div",{className:"detail"},l.a.createElement("p",null,l.a.createElement("span",null,"Doctor:")," ",e.exam.doctor_name),l.a.createElement("p",null,l.a.createElement("span",null,"Speciality:")," ",e.exam.speciality),l.a.createElement("p",null,l.a.createElement("span",null,"Created:")," ",ze()(e.exam.appointed_date).add(1,"hours").format("MM/DD/YY")),l.a.createElement("p",null,l.a.createElement("span",null,"Type:")," ",e.exam.exam_type),l.a.createElement("p",null,l.a.createElement("span",null,"Status:")," ",e.exam.status)),l.a.createElement("div",{className:"sideMessageDetails"},l.a.createElement("div",{className:"SubjectMessage"},l.a.createElement("div",{className:"subjectDiv"},l.a.createElement("p",null,l.a.createElement("span",{style:{fontWeight:"bold"}},"Subject:")," ",e.exam.subject),l.a.createElement("p",null,l.a.createElement("span",null,ze()(e.exam.created).format("MM/DD/YY")))),l.a.createElement("div",{className:"messageDiv"},l.a.createElement("textarea",{defaultValue:e.exam.notes,id:"messageMainText",disabled:!0})),l.a.createElement("div",{className:"reportIfDeclined",style:{display:"Declined"!==e.exam.status?"none":"block"}},l.a.createElement("div",{className:"subjectDiv"},l.a.createElement("p",null,l.a.createElement("span",null,"Decline reason:"))),l.a.createElement("div",{className:"messageDivReport"},l.a.createElement("textarea",{name:"text",disabled:"Declined"===e.exam.status&&!0,placeholder:e.exam.decline_notes?e.exam.decline_notes:"text",value:a.declineReason,id:"textarea"}))),l.a.createElement("div",{className:"reportIfFinished",style:{display:"Finished"!==e.exam.status?"none":"block"}},l.a.createElement("div",{className:"subjectDiv"},l.a.createElement("p",null,l.a.createElement("span",null,"Report:"))),l.a.createElement("div",{className:"messageDivReport"},l.a.createElement("textarea",{name:"text",disabled:"Finished"===e.exam.status&&!0,placeholder:e.exam.report?e.exam.report:"text",value:a.declineReason,id:"textarea"})))))))})))},Ta=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(d.a)(t).call(this,e))).hanldeClientQueue=function(e){var t;return se.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:t="Bearer ".concat(a.state.token),he.a.get("https://healthcarebackend.xyz/api/queue/client/detail/".concat(e,"/"),{headers:{Authorization:t}}).then((function(e){console.log(e,"queue"),a.setState({exam:[e.data.data]});var t=document.getElementById("messageMainText"),n=document.querySelector(".messageDiv");console.log(t),t.scrollHeight<300?(t.style.height="".concat(t.scrollHeight,"px"),n.style.height="".concat(t.scrollHeight+20,"px")):t.style.height="160px"})).catch((function(e){console.log(e.response)}));case 2:case"end":return n.stop()}}))},a.state={exam:[],id:"",token:sessionStorage.getItem("accessToken")},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.setState({id:this.props.match.params.id}),this.hanldeClientQueue(this.props.match.params.id)}},{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(Va,{exam:this.state.exam,props:this.state}))}}]),t}(n.Component),Ra=function(e){var t=e.exam,a=e.props,s=e.handleStatus,c=e.statusValue,r=(e.handleReplyClick,e.onChangeHandler),i=e.handleSubmitSend,o=e.handleMessage,d=e.newMessage;console.log(a.correspondence,"correspodencesesdfa"),console.log(t,"exaaaaaaaaaaaaam");var m={control:function(){return{width:160,border:"2px solid #fa9551",borderRadius:"10px",height:"33px",fontWeight:600,display:"flex"}}};return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"header"},l.a.createElement("div",null,l.a.createElement(ne,null),l.a.createElement(ge,null))),l.a.createElement(it,null),t.map((function(e){var t="Appointed"===e.status?"Accepted":e.status,u="Pending"===e.status||"Accepted"===e.status?[{value:"Cancel",label:"Cancel"}]:[];return l.a.createElement(n.Fragment,{key:e.id},l.a.createElement("div",{className:"detail-exam"},l.a.createElement("div",{className:"iconVideo"},l.a.createElement("h4",null,"Consultation details")," "),l.a.createElement("div",{className:"detail"},l.a.createElement("p",null,l.a.createElement("span",null,"Doctor:")," ",e.doctor),l.a.createElement("p",null,l.a.createElement("span",null,"Speciality:")," ",e.speciality),l.a.createElement("p",null,l.a.createElement("span",null,"Created:")," ",ze()(e.created).add(1,"hours").format("MM/DD/YY HH:mm")),l.a.createElement("p",null,l.a.createElement("span",null,"Type:")," ",e.exam_type),"Pending"!==e.status?l.a.createElement("p",null,l.a.createElement("span",null,"Status:")," ",e.status):l.a.createElement("div",{className:"divSelectButton"},l.a.createElement(gt.a,{type:"text",placeholder:t,className:"select-option",value:c,options:u,styles:m,onChange:s}))),l.a.createElement("div",{className:"sideMessageDetails"},l.a.createElement("div",{className:"SubjectMessage"},l.a.createElement("div",{className:"subjectDiv"},l.a.createElement("p",null,l.a.createElement("span",{style:{fontWeight:"bold"}},"Subject:")," ",e.subject),l.a.createElement("p",null,l.a.createElement("span",null,ze()(e.created).format("MM/DD/YY HH:mm")))),l.a.createElement("div",{className:"messageDiv"},l.a.createElement("textarea",{defaultValue:e.message,id:"messageMainText",readOnly:!0}))),l.a.createElement("div",{className:"mainMessageCorrespondence",style:{overflow:0===a.correspondence.length&&"hidden"}},l.a.createElement("div",{className:"MessageCorrespondence"},a.correspondence.map((function(t,n){return l.a.createElement("div",{style:{width:t.sender===a.doctor&&"90%"},key:t.id,className:"Maintbody"},l.a.createElement("div",{style:{background:t.sender===a.doctor&&"#00aff0"},className:"senderMaiin"},l.a.createElement("p",{className:"senderP"},l.a.createElement("span",null,"From:")," ",t.sender),l.a.createElement("p",{className:"createdP"},ze()(t.created).add(2,"hours").format("MM/DD/YY HH:mm")),l.a.createElement("div",{id:"imageDiv"})),l.a.createElement("div",{className:"row1"},l.a.createElement("textarea",{id:t.id,readOnly:!0,defaultValue:t.message,className:"message"}),t.attachment?l.a.createElement("div",{className:"mainFileDiv"},l.a.createElement("div",{className:"FileDiv"},l.a.createElement("p",null,"Files")),t.attachment&&l.a.createElement("div",{onClick:function(){window.location.href="https://healthcarebackend.xyz".concat(e.exam.attachments)},className:"fileForDownload"},l.a.createElement("p",null,t.attachment.substring(t.attachment.lastIndexOf("/")+1)))):null))}))),a.replyClicked&&l.a.createElement("div",{className:"SendMainDiv",style:{marginBottom:"20px"}},l.a.createElement("div",{className:"senderMaiin"},l.a.createElement("p",{className:"senderP"},l.a.createElement("span",null,"From:")," ",a.client),l.a.createElement("p",{className:"createdP"},ze()(new Date).format("MM/DD/YY HH:mm"))),l.a.createElement("textarea",{type:"text",className:"messageTextInput",placeholder:"Message...",onChange:o,value:a.messageValue}),l.a.createElement("div",{className:"sendbuttonAndAtt"},l.a.createElement("button",{onClick:i},l.a.createElement(ve.c,{className:"replyIcon"}),l.a.createElement("span",null,"Send")),l.a.createElement("div",{className:"upload-btn-wrapper"},l.a.createElement("button",{className:"btn"},l.a.createElement("img",{src:yt.a,alt:""})),l.a.createElement("input",{type:"file",name:"myfile",onChange:r})),a.selectedFile&&l.a.createElement("div",{className:"fileForDownload"},l.a.createElement("p",null,a.selectedFile.name.substring(a.selectedFile.name.lastIndexOf("/")+1)))))),"Accepted"===e.status&&l.a.createElement("button",{className:"newMessage",onClick:d},l.a.createElement("h1",null,"+")))))})))},Aa=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(d.a)(t).call(this,e))).handleStatus=function(e){a.setState({statusValue:e});var t=e.value,n=e.label;console.log(t,n),a.setState({selectedStatus:t}),a.handleCancel(t)},a.handleCancel=function(e){var t,n,l;return se.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return t="Bearer ".concat(a.state.token),s.next=3,se.a.awrap(fetch("https://healthcarebackend.xyz/api/client/exams/".concat(a.state.id,"/"),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:t},body:JSON.stringify({status:e})}));case 3:return n=s.sent,s.next=6,se.a.awrap(n.json());case 6:return l=s.sent,console.log(l),l.success&&a.props.history.push("/dashboard-client"),s.abrupt("return",l);case 10:case"end":return s.stop()}}))},a.detail=function(){var e="Bearer ".concat(a.state.token);he.a.get("https://healthcarebackend.xyz/api/client/exams/".concat(a.state.id,"/"),{headers:{Authorization:e}}).then((function(e){console.log(e,"detailex"),a.setState({exam:[e.data.data],doctor:e.data.data.doctor});var t=document.getElementById("messageMainText"),n=document.querySelector(".messageDiv");console.log(t),t.scrollHeight<300?(t.style.height="".concat(t.scrollHeight,"px"),n.style.height="".concat(t.scrollHeight+20,"px")):t.style.height="300px"})).catch((function(e){console.log(e.response)}))},a.connect=function(e){var t=new WebSocket("wss://healthcarebackend.xyz/ws/dashboard/client/".concat(e,"/"));t.onopen=function(){console.log("connected to test socket")},t.onmessage=function(e){var t=JSON.parse(e.data);console.log(t),t.id===JSON.parse(a.state.id)&&"mail"===t.exam_type&&(console.log("da li se ovo pokrece nekako"),a.detail(a.state.id),a.correspondence(a.state.id))}},a.handleMessage=function(e){document.querySelector(".messageTextInput").style.height="".concat(e.target.scrollHeight,"px"),a.setState({messageValue:e.target.value})},a.handleReplyClick=function(){a.setState({replyClicked:!a.state.replyClicked})},a.newMessage=function(){a.setState({replyClicked:!0})},a.onChangeHandler=function(e){a.setState({selectedFile:e.target.files[0]})},a.handleSubmitSend=function(e){a.state.messageValue?(a.sendMessage(),a.setState({messageValue:"",replyClicked:!1})):ce.NotificationManager.error("Empty Fields","Failed!",2e3)},a.sendMessage=function(){var e,t,n,l,s;return se.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return(e=new FormData).append("message",a.state.messageValue),e.append("attachment",a.state.selectedFile),t="Bearer ".concat(a.state.token),n="https://healthcarebackend.xyz/api/client/exams/".concat(a.state.id,"/message/"),l=he.a.post(n,e,{headers:{"content-type":"multipart/form-data",Authorization:t}}),c.next=8,se.a.awrap(l);case 8:return s=c.sent,console.log(s),s.data.success&&(ce.NotificationManager.success("Message Sent","Successful!",2e3),a.socket.send({exam_id:a.state.id,message:a.state.messageValue}),a.detail(a.state.id),a.correspondence(a.state.id)),c.abrupt("return",l);case 12:case"end":return c.stop()}}))},a.correspondence=function(e){var t="Bearer ".concat(a.state.token);he.a.get("https://healthcarebackend.xyz/api/client/exams/".concat(e,"/messages/"),{headers:{Authorization:t}}).then((function(e){console.log(e,"correspondence");var t=e.data.data.map((function(e){return{id:e.id,sender:e.sender,created:e.created,message:e.message,attachment:e.attachment}})),n=t.sort((function(e,t){return Date.parse(e.created)-Date.parse(t.created)}));a.setState({correspondence:n,lastInArray:t[t.length-1]})})).then((function(){Object(xe.a)(document.querySelectorAll(".message")).map((function(e){if(e.clientHeight<e.scrollHeight){console.log(e);var t=e.parentElement.previousSibling.lastChild;t.style.display="block",t.onclick=function(){console.log(e.scrollHeight,e.clientHeight),e.scrollHeight===e.clientHeight?e.style.height="100px":300===e.clientHeight?e.style.height="100px":e.scrollHeight<300?e.style.height="".concat(e.scrollHeight,"px"):e.style.height="300px"}}}))})).catch((function(e){console.log(e.response)}))},a.state={exam:[],statusValue:"",selectedStatus:"",token:sessionStorage.getItem("accessToken"),id:a.props.match.params.id,correspondence:[],lastInArray:null,replyClicked:!1,messageValue:"",selectedFile:"",doctor:"",client:""},a.socket=new WebSocket("wss://healthcarebackend.xyz/ws/message/".concat(a.props.match.params.id,"/")),a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentWillUnmount",value:function(){this.socket.close()}},{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.id;this.detail(),this.correspondence(t),this.socket.onopen=function(){console.log("connected")},this.socket.onmessage=function(a){var n=JSON.parse(a.data);console.log(n),n.exam_id===parseInt(t)&&(e.detail(t),e.correspondence(t)),console.log(n)};var a="Bearer ".concat(this.state.token);he.a.get("https://healthcarebackend.xyz/api/client/profile/",{headers:{Authorization:a}}).then((function(t){var a="".concat(t.data.data.user.first_name," ").concat(t.data.data.user.last_name);return e.connect(t.data.data.id),e.setState({client:a})}))}},{key:"render",value:function(){return console.log(this.state.id),l.a.createElement(l.a.Fragment,null,l.a.createElement(Ra,{exam:this.state.exam,props:this.state,handleStatus:this.handleStatus,onChangeHandler:this.onChangeHandler,handleMessage:this.handleMessage,newMessage:this.newMessage,handleReplyClick:this.handleReplyClick,handleSubmitSend:this.handleSubmitSend}))}}]),t}(n.Component);a(445);var Ba=function(e){var t=e.props,a=e.handleChange,n=e.handleSubmit;return l.a.createElement("div",{className:"mainForgotPass"},l.a.createElement("div",{className:"forgot",style:{display:t.message?"none":"block"}},l.a.createElement("h2",null,"Forgot your password?"),l.a.createElement("p",null,"Tell us your email address, and we'll get you back on track in no time."),l.a.createElement("label",{htmlFor:"email"},"Email Address"),l.a.createElement("br",null),l.a.createElement("input",{type:"text",id:"email",placeholder:"Enter your Email Address",value:t.userEmail,onChange:a}),l.a.createElement("br",null),l.a.createElement("button",{onClick:n},"Confirm email"),l.a.createElement("div",{className:"mainGoBackDiv"},l.a.createElement(u.b,{to:"/login",className:"goBack"},"Back to sing in"))),l.a.createElement("div",{className:"message",style:{display:t.message?"block":"none"}},l.a.createElement("h3",null,t.message)))},za=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(d.a)(t).call(this,e))).handleChange=function(e){a.setState({userEmail:e.target.value})},a.handleSubmit=function(e){e.preventDefault(),a.userCheck()},a.userCheck=function(){var e,t;return se.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,se.a.awrap(fetch("https://healthcarebackend.xyz/api/auth/reset/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:a.state.userEmail})}));case 2:return e=n.sent,n.next=5,se.a.awrap(e.json());case 5:t=n.sent,console.log(t),t.success,a.setState({message:t.message});case 8:case"end":return n.stop()}}))},a.state={userEmail:"",message:null,newPassword:"",confPassword:""},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"header"},l.a.createElement("div",null,l.a.createElement(ne,null),l.a.createElement(ge,null))),l.a.createElement(Ba,{props:this.state,handleChange:this.handleChange,handleSubmit:this.handleSubmit}),l.a.createElement("div",{style:{position:"fixed",bottom:"0",width:"100%"}},l.a.createElement(ye,null)))}}]),t}(n.Component);a(446);var Ua=function(e){var t=e.handleNewPassword,a=e.handleConfPassword,n=e.handleChangePassSubmit,s=e.props;return l.a.createElement("div",{className:"mainChangePass"},l.a.createElement("div",{className:"newPasswords",style:{display:s.message?"none":"block"}},l.a.createElement("h2",null,"Changing password"),l.a.createElement("p",null,"Please note that when changing your password, we ask you to set yourself a secure password that contains both uppercase and lowercase letters as well as numbers. This is for your own safety."),l.a.createElement("label",{htmlFor:"newPass"},"New password"),l.a.createElement("br",null),l.a.createElement("input",{type:"password",id:"newPass",value:s.newPassword,onChange:t}),l.a.createElement("br",null),l.a.createElement("label",{htmlFor:"confPass"},"Confirm new password"),l.a.createElement("br",null),l.a.createElement("input",{type:"password",id:"confPass",value:s.confPassword,onChange:a}),l.a.createElement("button",{onClick:n},"Change password")),l.a.createElement("div",{className:"message",style:{display:s.message?"block":"none"}},l.a.createElement("h3",null,s.message)))},Ha=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(d.a)(t).call(this,e))).handleNewPassword=function(e){a.setState({newPassword:e.target.value})},a.handleConfPassword=function(e){a.setState({confPassword:e.target.value})},a.handleChangePassSubmit=function(e){e.preventDefault(),a.state.newPassword===a.state.confPassword?a.changePass():ce.NotificationManager.error("Confirmation password is not identical","Failed!",2e3)},a.changePass=function(){var e,t;return se.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,se.a.awrap(fetch("https://healthcarebackend.xyz/api/auth/reset-confirm/".concat(a.state.id,"/"),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:a.state.newPassword,confirm_password:a.state.confPassword})}));case 2:return e=n.sent,n.next=5,se.a.awrap(e.json());case 5:t=n.sent,console.log(t),t.success,a.setState({message:t.message});case 8:case"end":return n.stop()}}))},a.state={newPassword:"",confPassword:"",message:null,id:a.props.match.params.id},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return console.log(this.state.id,this.state.pass,this.state.newPassword,this.state.confPassword),l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"header"},l.a.createElement("div",null,l.a.createElement(ne,null),l.a.createElement(ge,null))),l.a.createElement(Ua,{handleNewPassword:this.handleNewPassword,handleConfPassword:this.handleConfPassword,handleChangePassSubmit:this.handleChangePassSubmit,props:this.state}),l.a.createElement("div",{style:{position:"fixed",bottom:"0",width:"100%"}},l.a.createElement(ye,null)))}}]),t}(n.Component),Wa={width:"37%",margin:"120px auto 0px auto",height:"500px",backgroundColor:"#f2f2f2",borderRadius:"15px",position:"relative",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",padding:"20px"},La={color:"#00aff0",marginBottom:"30px",fontWeight:"700"},Ya={position:"absolute",width:"110px",right:"-30px",top:"-25px"},qa=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(d.a)(t).call(this,e))).getResponse=function(){he.a.get("https://healthcarebackend.xyz/api/auth/activate/".concat(a.state.id),{headers:{"Content-Type":"application/json"}}).then((function(e){console.log(e.data),e.data.success||a.setState({message:e.data.message})})).catch((function(e){console.log(e)}))},a.state={id:a.props.match.params.id,message:""},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.getResponse()}},{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"header"},l.a.createElement("div",null,l.a.createElement(ne,null),l.a.createElement(ge,null))),l.a.createElement("div",{style:Wa},l.a.createElement("img",{src:T.a,style:Ya,alt:"cLogo"}),l.a.createElement("h1",{style:La},!this.state.message&&"Email confirmed!"),l.a.createElement("h3",{style:{color:"#00aff0"}},this.state.message?this.state.message:"Click on Log in to access your account")))}}]),t}(n.Component),Ja=(a(447),a(448),a(532));var Qa=function(e){var t=e.handleClient,a=e.clients,n=(e.handleSort,e.handleSearch,e.props),s=e.handleDoctor,c={control:function(e,t){return Object(Ct.a)({},e,{height:"33px",border:"1.7px solid #fa9551",borderRadius:"15px",width:"100%",background:"white",color:"#666666",fontWeight:"bold"})},placeholder:function(){return{color:"#666666",fontWeight:"bold"}}};return l.a.createElement("div",{className:"mainClientsDiv"},l.a.createElement("div",{className:"clientsAbove"},l.a.createElement("h4",null,"Clients List")),l.a.createElement("div",{className:"clientsDiv"},l.a.createElement("div",{className:"exam-doc"},l.a.createElement(gt.a,{styles:c,type:"text",id:"doctor",placeholder:"Choose Client",options:n.clients,onChange:s,value:n.resetDoctorSelect}))),l.a.createElement("div",{className:"row2"},a.map((function(e){return console.log(e),null===e.iD?null:l.a.createElement("div",{key:e.iD,className:"list-group"},l.a.createElement("div",{"data-id":e.iD,className:"list-group-item"},l.a.createElement("img",{src:e.image.includes("default")?xt.a:"https://healthcarebackend.xyz/media/".concat(e.image),alt:"cliet profile"}),l.a.createElement("div",{className:"docInfo"},l.a.createElement("p",null,e.label),l.a.createElement("h5",null,"Email: ",l.a.createElement("span",null,e.email)),l.a.createElement("h5",null,"Phone: ",l.a.createElement("span",null,e.phone))),l.a.createElement(Ja.a,{to:"#",onClick:function(){return t(e.iD)},className:"Details"},"Details")))}))))},Ga=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(d.a)(t).call(this,e))).handleClient=function(e){a.props.history.push("/doctor/record/".concat(e))},a.clients=function(){var e="Bearer ".concat(a.state.token);he.a.get("https://healthcarebackend.xyz/api/doctor/clients/",{headers:{Authorization:e}}).then((function(e){if(console.log(e,"examform2"),e.data.data){var t=e.data.data.map((function(e){return{value:e.id,iD:e.client_id,label:e.client,spec:e.speciality,price:e.email_exam_price,currency:e.email_currency,image:e.image,email:e.email}}));a.setState({clients:t})}}))},a.handleDoctor=function(e){console.log(e);a.state.clients.filter((function(t){return t.spec===e.label}));a.setState({resetDoctorSelect:e,filteredByName:[e]})},a.state={clients:[],token:sessionStorage.getItem("accessToken"),filteredByName:[]},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.clients()}},{key:"render",value:function(){return console.log(this.state.clients),l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"header"},l.a.createElement("div",null,l.a.createElement(ne,null),l.a.createElement(ge,null))),l.a.createElement(it,null),l.a.createElement(Qa,{clients:this.state.clients,handleClient:this.handleClient,handleSort:this.handleSort,handleSearch:this.handleSearch,props:this.state,handleDoctor:this.handleDoctor}))}}]),t}(n.Component),Ka=(a(449),function(e){var t=e.handleSpeciality,a=e.handleDoctor,n=e.handleSubject,s=e.handleSubmit,c=e.handleExitQueue,r=e.handleVideoStart,i=e.handleMessage,o=e.props,d=e.handleChange,m=e.enableTipeing,u=e.handleAttach,p=(e.iconsMouseOut,e.iconsMouseOver,e.handleDragDrop,e.handleResize,e.showAndHideChat,e.handleDivSize,e.cutVideo),h=e.cutMic,g=e.resetValue,f=e.handleKeyPress,E=!o.credits,v=!!o.credits,y=!o.doctorStartedVideo;console.log(o.specDoctor);var b={control:function(e,t){return Object(Ct.a)({},e,{height:"33px",minHeight:"33px",border:"1.7px solid #fa9551",borderRadius:"10px",width:"100%",background:o.color&&0===o.specialSP.length?"rgb(245, 192, 192)":"white",color:"#666666",fontWeight:"500",div:{display:"flex",alignSelf:"center",height:"33px"}})},valueContainer:function(e,t){return Object(Ct.a)({},e,{height:"33px",padding:"6px"})},option:function(e,t){return Object(Ct.a)({},e,{textAlign:"center",color:"Away"===t.data.status?"#C7CD00":"Offline"===t.data.status&&"red"})},placeholder:function(){return{fontWeight:"500",color:"#666666",heigth:"33px"}},input:function(e,t){return Object(Ct.a)({},e,{margin:"0px"})},indicatorSeparator:function(e){return{display:"none"}},indicatorsContainer:function(e,t){return Object(Ct.a)({},e,{height:"33px"})},singleValue:function(){return{}}},x={control:function(e,t){return Object(Ct.a)({},e,{height:"33px",minHeight:"33px",border:"1.7px solid #fa9551",borderRadius:"10px",width:"100%",background:o.color&&!o.doctor_id?"rgb(245, 192, 192)":"white",color:"#666666",fontWeight:"500",div:{display:"flex",alignSelf:"center",height:"33px"}})},valueContainer:function(e,t){return Object(Ct.a)({},e,{height:"33px",padding:"6px"})},placeholder:function(){return{fontWeight:"500",color:"#666666"}},input:function(e,t){return Object(Ct.a)({},e,{margin:"0px"})},indicatorSeparator:function(e){return{display:"none"}},indicatorsContainer:function(e,t){return Object(Ct.a)({},e,{height:"33px"})},singleValue:function(){return{}}};return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"exam",style:{display:o.startVideo?"none":"block"}},l.a.createElement("div",{className:"mainExam"},l.a.createElement("div",{className:"newVideo"},l.a.createElement("h4",null,"Waiting room")),l.a.createElement("div",{className:"exam-spec"},l.a.createElement(gt.a,{type:"text",id:"speciality",placeholder:o.currentClient?o.currentClient.speciality:o.currentSpec?o.currentSpec:"Select Speciality...",options:o.specialities,isDisabled:v,styles:b,onChange:t})),l.a.createElement("div",{className:"exam-doc"},l.a.createElement(gt.a,{style:!0,styles:x,type:"text",id:"doctor",placeholder:o.currentClient?o.currentClient.doctor_name:"Select Doctor...",options:0===o.specDoctor.length?o.doctors:o.specDoctor,getOptionLabel:function(e){return"".concat(e.label,": (").concat(e.status,")")},isDisabled:v,onChange:a,value:o.resetDoctorSelect})),l.a.createElement("div",{className:"exam-sub"},l.a.createElement("input",{type:"text",className:"form-control",id:"subject",maxLength:"35",style:{background:o.color&&!o.subject?"rgb(245, 192, 192)":"white"},placeholder:"Enter subject",value:o.currentClient?o.currentClient.subject:o.subject,onChange:n}))),l.a.createElement("div",{className:"queue"},l.a.createElement("div",{className:"exam-mes",style:{background:o.color&&!o.notes?"rgb(245, 192, 192)":"white"}},l.a.createElement("textarea",{type:"text",className:"form-control",id:"exam-notes",placeholder:"Enter notes",style:{background:o.color&&!o.notes?"rgb(245, 192, 192)":"white"},value:o.currentClient?o.currentClient.notes:o.notes,onChange:i}),l.a.createElement("div",{className:"mainDivForFile"},l.a.createElement("div",{className:"upload-btn-wrapper"},l.a.createElement("button",{className:"btn"},l.a.createElement("div",{className:"attachDiv"},l.a.createElement("p",null,"Add file"))),l.a.createElement("input",{type:"file",name:"myfile",onChange:u})),o.attachment&&l.a.createElement("div",{className:"fileForDownload"},l.a.createElement("p",null,o.attachment.name.substring(o.attachment.name.lastIndexOf("/")+1))))),l.a.createElement("div",{className:"queueInfo"},l.a.createElement("div",{className:"queueMain"},l.a.createElement("div",{className:"statusQueue"},l.a.createElement("p",null,"Queue status"),l.a.createElement("div",null,o.credits&&0===o.YourNumber?l.a.createElement("h4",{style:{border:"1.7px solid #fa9551",color:"#fa9551",borderRadius:"10px"}},"Be Ready"):o.credits?l.a.createElement("h4",{style:{border:"1.7px solid green",color:"green",borderRadius:"10px"}},"In the queue"):l.a.createElement("h4",{style:{border:" 1.7px solid red",borderRadius:"10px",color:"red"}},"Out of queue"))),l.a.createElement("div",{className:"timeEst"},l.a.createElement("p",null,"People before you"),l.a.createElement("div",null,l.a.createElement("p",null,"Num"),l.a.createElement("h4",null,o.credits?o.YourNumber:o.peopleInQueue.length)))),0===o.YourNumber&&!o.doctorsVideoId&&o.credits?l.a.createElement("p",null,"Be ready, Waiting from Doctors connection..."):null,l.a.createElement("div",{className:"startandexit"},l.a.createElement("button",{value:o.submitted,disabled:v,className:"send",onClick:s},"Enter queue"),l.a.createElement("button",{className:"exitQueue",onClick:c,disabled:E},"Exit queue")),o.messageIfFinished&&l.a.createElement("p",{className:"IfFinished"},o.messageIfFinished))),l.a.createElement("div",{className:"divAndAttach"},l.a.createElement("button",{id:"StartVideo",className:"startThatChat",disabled:y,style:{visibility:"hidden"},onClick:r},"Start video")),l.a.createElement("div",null)),l.a.createElement("div",{className:"detailExam",style:{display:o.startVideo?"block":"none",padding:"0px 15px",height:"550px",marginBottom:"20px"}},l.a.createElement("div",{className:"iconVideooCall"},l.a.createElement("p",null,"Video call")," "),l.a.createElement("div",{className:"detail2"},l.a.createElement("div",{id:"videoChat"}),l.a.createElement("div",{className:"detailInfo2",id:"detailInfo2"},l.a.createElement("div",{className:"MainDivForChat"},l.a.createElement("p",null,"Chat"),l.a.createElement("form",{autoComplete:"off",action:"",id:"form"},l.a.createElement("pre",{id:"messages"}),l.a.createElement("div",{className:"inputMessage"},l.a.createElement("textarea",{type:"text",placeholder:"Type a message",id:"yourMessage",value:o.value,onChange:d,onMouseDown:m,onKeyPress:function(e){f(e)}})))),l.a.createElement("button",{id:"send",onClick:g},l.a.createElement("img",{src:xa.a,alt:"messageImg"})))),l.a.createElement("div",{className:"MainIconsDiv"},l.a.createElement("img",{src:ma.a,className:"iconMic",alt:"img",style:{display:o.audio?"none":"block"},onClick:h}),l.a.createElement("img",{src:pa.a,className:"iconMicUnmute",alt:"img",style:{display:o.audio?"block":"none"},onClick:h}),l.a.createElement("img",{src:ga.a,alt:"img",className:"iconPhone"}),l.a.createElement("img",{src:Ea.a,className:"iconVideo",alt:"img",style:{display:o.video?"none":"block"},onClick:p}),l.a.createElement("img",{src:ya.a,alt:"img",className:"iconVideoShow",style:{display:o.video?"block":"none"},onClick:p}))))}),Za=new WebSocket("wss://healthcarebackend.xyz/ws/doctor/status/"),Xa=new WebSocket("wss://healthcarebackend.xyz/ws/video/"),$a=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(o.a)(this,Object(d.a)(t).call(this,e)))._isMounted=!1,n.handleVideoStart=function(e){e.preventDefault(),n.setState({startVideo:!0}),navigator.mediaDevices.getUserMedia({video:!0,audio:!1}).then((function(e){var t=e.getVideoTracks()[0];document.querySelector(".iconVideoShow").addEventListener("click",(function(){t.enabled=!t.enabled})),document.querySelector(".iconVideo").addEventListener("click",(function(){t.enabled=!t.enabled}));var a=document.createElement("video");a.id="myVid",document.getElementById("videoChat").appendChild(a),a.srcObject=e,a.play(),document.getElementById("myVid").style.cssText="position: absolute; left: 45px; top: 40px; height: 140px; width: 170px; z-index: 20"}))},n.handleSpeciality=function(e){var t=n.state.doctors.filter((function(t){return t.spec===e.label}));n.setState({specialSP:e.value,specDoctor:t,resetDoctorSelect:null,currentSpec:""})},n.handleDoctor=function(e){if(console.log(e),"Away"===e.status)ce.NotificationManager.warning("Doctor is Away at the moment and not available for consultation.","Warning!",4e3);else if("Offline"===e.status)ce.NotificationManager.error("Doctor is Offline at the moment and not available for consultation.","Warning!",4e3);else{var t=n.state.specialities.filter((function(t){return t.label===e.spec}));n.props.dispatch(At(e)),console.log(e),n.setState({price:e.price,currency:e.currency,doctor_id:e.iD,doctorsStatus:e.status,resetDoctorSelect:e,specialSP:t[0].value,currentSpec:t[0].label}),n.QueueList(e.iD)}},n.handleSubject=function(e){n.setState({subject:e.target.value})},n.handleExitQueue=function(){var e,t,a;return se.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:return e="Bearer ".concat(n.state.token),l.next=3,se.a.awrap(fetch("https://healthcarebackend.xyz/api/queue/client/delete/".concat(n.state.currentClient.id,"/"),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:e},body:JSON.stringify({status:"Cancel"})}));case 3:return t=l.sent,l.next=6,se.a.awrap(t.json());case 6:return a=l.sent,console.log(a),!0===a.success&&(Xa.send(JSON.stringify("Cancel Video From Client")),Xa.close(),n.setState({credits:!1,peopleInQueue:[],doctorsVideoId:null}),window.location.reload()),l.abrupt("return",a);case 10:case"end":return l.stop()}}))},n.hanldeClientQueue=function(e){var t;return se.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:t="Bearer ".concat(n.state.token),he.a.get("https://healthcarebackend.xyz/api/queue/client/".concat(e,"/"),{headers:{Authorization:t}}).then((function(e){if(console.log(e,"Client, IDDDDDDDD"),!e.data.data)return null;"In the queue"!==e.data.data.status&&"Accepted"!==e.data.data.status||(n.setState({credits:!0,currentClient:e.data.data}),void 0!==n.props.location.state&&"exitQueue"===n.props.location.state.detail&&n.handleExitQueue()),n.QueueList(e.data.data.doctor)})).catch((function(e){console.log(e.response)}));case 2:case"end":return a.stop()}}))},n.handleSubmit=function(e){var t,a,l;return se.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:if("Bearer ".concat(n.state.token),n.setState({color:"red"}),!(n.state.specialSP&&n.state.doctor_id&&n.state.notes&&n.state.subject&&"Available"===n.state.doctorsStatus)){e.next=22;break}return n.setState({isClicked:!0}),(t=new FormData).append("client",n.state.client_id),t.append("speciality",n.state.specialSP),t.append("doctor",n.state.doctor_id),t.append("subject",n.state.subject),t.append("attachments",n.state.attachment),t.append("notes",n.state.notes),a="Bearer ".concat(n.state.token),"https://healthcarebackend.xyz/api/queue/enter/",l=he.a.post("https://healthcarebackend.xyz/api/queue/enter/",t,{headers:{"content-type":"multipart/form-data",Authorization:a}}),e.next=16,se.a.awrap(l);case 16:return e.sent,n.hanldeClientQueue(n.state.client_id),n.toCheckout(),e.abrupt("return",l);case 22:n.state.doctorsStatus&&"Available"!==n.state.doctorsStatus?ce.NotificationManager.error("Doctor is not Available at the moment","Failed!",4e3):ce.NotificationManager.error("Empty Fields","Failed!",2e3);case 23:case"end":return e.stop()}}))},n.toCheckout=function(){return se.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:if("0.00"===n.state.price||"0"===n.state.price){e.next=4;break}return e.abrupt("return",n.props.history.push({pathname:"/checkout",state:{price:n.state.price,location:n.props.location.pathname,currency:n.state.currency}}));case 4:return e.abrupt("return",n.props.history.push("/dashboard-client"));case 5:case"end":return e.stop()}}))},n.handleClientProfile=function(){var e="Bearer ".concat(n.state.token);he.a.get("https://healthcarebackend.xyz/api/client/profile/",{headers:{Authorization:e}}).then((function(e){n.setState({client_id:e.data.data.id});var t=e.data.data.id;n.hanldeClientQueue(t)}))},n.QueueList=function(e){var t;return se.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:t="Bearer ".concat(n.state.token),he.a.get("https://healthcarebackend.xyz/api/queue/doctor/".concat(e,"/"),{headers:{Authorization:t}}).then((function(e){console.log(e,"people in queue");var t=e.data.data.queue.filter((function(e){return"Canceled"!==e.status&&"Declined"!==e.status&&"Finished"!==e.status}));n.setState({peopleInQueue:Object(xe.a)(n.state.peopleInQueue.concat(t))}),n.socketTestStart(),n.PeopleBeforeYou(),n.handleDoctorsStatus()})).catch((function(e){console.log(e.response)}));case 2:case"end":return a.stop()}}))},n.PeopleBeforeYou=function(){if(0!==n.state.peopleInQueue.length){var e=n.state.peopleInQueue.map((function(e){return e.id})).indexOf(n.state.currentClient.id);n.setState({YourNumber:e})}},n.socketTestStart=function(){!n.state.connection&&n.state.currentClient&&1===Xa.readyState&&!n.props.popUp&&Xa.send(JSON.stringify({id:n.state.currentClient.id,connectedClient:!0})),n.state.currentClient&&(Xa.onopen=function(){console.log("connected"),n.setState({connection:Xa}),Xa.send(JSON.stringify({id:n.state.currentClient.id,connectedClient:!0}))}),Xa.onmessage=function(e){var t=JSON.parse(e.data);if(null!==JSON.parse(t.text)&&JSON.parse(t.text).status){if("Finished"===JSON.parse(t.text).status||"Declined"===JSON.parse(t.text).status){"Finished"===JSON.parse(t.text).status&&n.setState({messageIfFinished:"Consultation finished"});var a=setInterval((function(){window.location.reload(),clearInterval(a)}),5e3)}}else n.state.doctorsVideoId||parseInt(JSON.parse(t.text).id)||"undefined"===t.text?JSON.parse(t.text)&&(parseInt(JSON.parse(t.text).id)===n.state.currentClient.id&&JSON.parse(t.text).connectedDoctor?Xa.send(JSON.stringify({id:n.state.currentClient.id,connectedClient:!0})):"Cancel Video From Doctor"===JSON.parse(t.text)?(n.handleDivClose(),window.location.reload()):"doctor is started video"===JSON.parse(t.text)&&(n.setState({doctorStartedVideo:!0}),document.getElementById("StartVideo").click())):(n.setState({doctorsVideoId:t.text}),n.socketStart())}},n.specialitiesOfDoctors=function(){he.a.get("https://healthcarebackend.xyz/api/specialities/").then((function(e){var t=e.data.data.map((function(e){return{value:e.id,iD:e.speciality_id,label:e.name,status:e.status}}));n.setState({specialities:t})}))},n.allDoctors=function(){he.a.get("https://healthcarebackend.xyz/api/doctor/list/").then((function(e){console.log(e,"response");var t=e.data.data.map((function(e){return{value:e.id,iD:e.id,label:e.doctor,spec:e.speciality,price:e.web_exam_follow_price,currency:e.web_follow_up_currency,status:e.status}}));n.setState({doctors:t}),n.props.location.state&&e.data.data.filter((function(e){if(e.id===n.props.location.state.doctorId){var t={value:e.id,iD:e.id,label:e.doctor,spec:e.speciality,price:e.web_exam_follow_price,currency:e.web_follow_up_currency,status:e.status};n.handleDoctor(t)}}))}))},n.handleDoctorsStatus=function(){n.state.peopleInQueue.forEach((function(e){e.client_id===n.state.client_id&&n.state.doctors.filter((function(t){return t.iD===e.doctor})).map((function(e){return"Available"!==e.status&&(n.setState({credits:!1}),n.handleExitQueue(),ce.NotificationManager.warning("Doctor is not Available at the moment","Warning!",4e3)),null}))}))},n.socketStart=function(){navigator.mediaDevices.getUserMedia({video:n.state.video,audio:n.state.audio}).then((function(e){var t=new(a(99))({trickle:!1,stream:e});if(t.on("signal",(function(e){var t=JSON.stringify(e);Xa.send(t)})),document.getElementById("StartVideo").addEventListener("click",(function(){t.signal(n.state.doctorsVideoId),Xa.send(JSON.stringify({id:n.state.currentClient.id,startingVideo:!0})),s.enabled=!s.enabled,c.enabled=!c.enabled})),null!==n.state.doctorsVideoId)var l=setInterval((function(){return Xa.send(JSON.stringify({id:n.state.currentClient.id,startingVideo:!0})),clearInterval(l),t.signal(n.state.doctorsVideoId)}),500);document.getElementById("send").addEventListener("click",(function(){var e=document.getElementById("yourMessage").value;t.send(e);var a=document.querySelector("#yourMessage").value;Xa.send(a),document.getElementById("messages").innerHTML+="<p style='color: #666666 ;margin: 20px 0 5px auto;display: table; white-space: initial ; background: #e6e6e6; padding: 8px 5px; border-radius: 10px'><span>Client:</span>".concat(a,"</p>");var n=document.getElementById("messages");n.scrollTop=n.scrollHeight})),Xa.onclose=function(){console.error("disconnected"),window.location.reload()},Xa.onerror=function(e){window.location.reload(),console.error("failed to connect",e)},t.on("data",(function(e){document.getElementById("messages").innerHTML+="<p style='color: #666666 ; margin: 20px auto 5px 0; background: #e6e6e6 ;display: table; white-space: initial; padding: 8px 5px; border-radius: 10px'><span>Doctor:</span>".concat(e,"</p>");var t=document.getElementById("messages");t.scrollTop=t.scrollHeight})),t._pc.onconnectionstatechange=function(e){console.log("status je promenje",e),"disconnected"!==e.currentTarget.connectionState&&"failed"!==e.currentTarget.connectionState||window.location.reload()};var s=e.getAudioTracks()[0],c=e.getVideoTracks()[0];s.enabled=!s.enabled,c.enabled=!c.enabled,document.querySelector(".iconMic").addEventListener("click",(function(){s.enabled=!s.enabled})),document.querySelector(".iconVideo").addEventListener("click",(function(){c.enabled=!c.enabled})),document.querySelector(".iconMicUnmute").addEventListener("click",(function(){s.enabled=!s.enabled})),document.querySelector(".iconVideoShow").addEventListener("click",(function(){c.enabled=!c.enabled})),t.on("stream",(function(e){var t=new MediaStream(e),a=document.createElement("video");a.classList.add("vid"),document.getElementById("videoChat").appendChild(a),a.srcObject=t,a.play()})),t.on("close",(function(){n.handleDivClose(),window.location.reload()})),document.querySelector(".iconPhone").addEventListener("click",(function(){Xa.send(JSON.stringify("Cancel Video From Client")),n.handleDivClose(),window.location.reload()}))}),(function(e){console.error(e)}))},n.handleChange=function(e){n.setState({value:e.target.value});var t=document.querySelector(".inputMessage");""===e.target.value?(e.target.style.height="30px",t.style.height="30px"):(e.target.style.height="30px",t.style.height="30px",e.target.clientHeight<e.target.scrollHeight&&(e.target.style.height=5+e.target.scrollHeight+"px"),e.target.clientHeight<e.target.scrollHeight&&(t.style.height=5+e.target.scrollHeight+"px"))},n.handleMessage=function(e){n.setState({notes:e.target.value})},n.enableTipeing=function(e){e.stopPropagation()},n.iconsMouseOver=function(){n.setState({hover:!0})},n.iconsMouseOut=function(){n.setState({hover:!1})},n.handleDragDrop=function(e){n.setState({x:e.x,y:e.y})},n.handleResize=function(e,t){var a=document.getElementById("videoo");n.setState(Object(Ct.a)({width:a.style.width,height:a.style.height},e))},n.showAndHideChat=function(){n.setState({showChat:!n.state.showChat})},n.handleDivSize=function(){n.setState({width:window.screen.width,height:window.screen.height,x:-320,y:-100}),document.fullscreenElement?document.exitFullscreen&&(document.exitFullscreen(),n.setState({width:700,height:500})):document.documentElement.requestFullscreen()},n.handleDivClose=function(){n.setState({startVideo:!1})},n.cutMic=function(){n.setState({audio:!n.state.audio})},n.cutVideo=function(){n.setState({video:!n.state.video})},n.resetValue=function(){n.setState({value:""});var e=document.querySelector(".inputMessage");document.getElementById("yourMessage").style.height="30px",e.style.height="30px"},n.handleKeyPress=function(e){"Enter"===e.key&&(e.preventDefault(),document.getElementById("send").click(),n.resetValue())},n.handleAttach=function(e){console.log(e.target.files),n.setState({attachment:e.target.files[0]})},n.state={specialities:[],doctors:[],subject:"",submitted:!1,price:null,doctor_id:null,client_id:"",doctorsStatus:"",token:sessionStorage.getItem("accessToken"),specDoctor:[],specialSP:[],resetDoctorSelect:null,isClicked:!1,currentSpec:"",credits:!1,attachment:"",currentClient:"",peopleInQueue:[],YourNumber:null,doctorsVideoId:null,startVideo:!1,value:"",width:700,height:500,x:0,y:0,hover:!1,showChat:!1,video:!0,audio:!0,notes:"",connection:"",doctorStartedVideo:!1,messageIfFinished:""},n}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentWillUnmount",value:function(){Xa.send(JSON.stringify("Cancel Video From Client")),this._isMounted=!1,Xa.close()}},{key:"componentDidMount",value:function(){var e=this;this._isMounted=!0,Za.onopen=function(){console.log("connected to the doctor status socket")},Za.onmessage=function(t){var a=e.state.doctors.filter((function(e){return e.iD===JSON.parse(t.data).id}));Object.assign(a[0],{status:JSON.parse(t.data).status})},this.handleClientProfile(),this.specialitiesOfDoctors(),this.allDoctors()}},{key:"render",value:function(){return console.log(this.state.price),l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"header"},l.a.createElement("div",null,l.a.createElement(ne,{exitQueue:this.exitQueue}),l.a.createElement(ge,null))),l.a.createElement(rt,null),l.a.createElement(Ka,{handleSpeciality:this.handleSpeciality,handleDoctor:this.handleDoctor,handleSubject:this.handleSubject,handleSubmit:this.handleSubmit,handleExitQueue:this.handleExitQueue,handleVideoStart:this.handleVideoStart,props:this.state,handleChange:this.handleChange,enableTipeing:this.enableTipeing,iconsMouseOut:this.iconsMouseOut,iconsMouseOver:this.iconsMouseOver,handleDragDrop:this.handleDragDrop,handleResize:this.handleResize,showAndHideChat:this.showAndHideChat,handleDivSize:this.handleDivSize,cutMic:this.cutMic,cutVideo:this.cutVideo,handleMessage:this.handleMessage,resetValue:this.resetValue,handleKeyPress:this.handleKeyPress,handleAttach:this.handleAttach}))}}]),t}(n.Component),en=Object(h.b)((function(e){var t=e.getIn(["doctorReducer","doctor"]),a=e.getIn(["popUpReducer","popUp"]);return{doctor:t,price:e.price,popUp:a}}))($a),tn=a(533),an=a(187),nn=a(528),ln=a(529),sn=a(530),cn=a(531),rn=a(534),on=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(d.a)(t).call(this,e))).peopleVideoPending=function(){var e;return se.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return e="Bearer ".concat(a.state.token),t.next=3,se.a.awrap(he.a.get("https://healthcarebackend.xyz/api/exams/doctor/",{headers:{Authorization:e}}).then((function(e){console.log(e.data.data);var t=e.data.data.video.filter((function(e){return"Appointed"===e.status})).map((function(e){return{client:e.client,startTime:e.appointed_date,endTime:ze()(e.appointed_date).add(30,"minutes").format("YYYY-MM-DD HH:mm"),id:e.id}}));a.setState({exams:Object(xe.a)(a.state.exams.concat(t))})})).catch((function(e){console.log(e)})));case 3:case"end":return t.stop()}}))},a.state={token:sessionStorage.getItem("accessToken"),exams:[]},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.peopleVideoPending()}},{key:"render",value:function(){return console.log(this.state.exams),l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"header"},l.a.createElement("div",null,l.a.createElement(ne,null),l.a.createElement(ge,null))),l.a.createElement(rt,null),l.a.createElement("div",{style:{width:"calc(100% - 480px)",margin:"110px 120px 58px auto"}},l.a.createElement(tn.a,{currentView:"Day",workHours:{highlight:!0,start:"09:00",end:"17:00"},selectedDate:new Date,eventSettings:{dataSource:this.state.exams,fields:{id:"id",subject:{name:"client"},startTime:{name:"startTime"},endTime:{name:"endTime"}}}},l.a.createElement(an.b,{services:[nn.a,ln.a,sn.a,cn.a,rn.a]}))))}}]),t}(n.Component),dn=(a(450),function(e){var t=e.props,a=e.handleClick;return t.exams.map((function(e){return t.mail.includes(e.id)&&"mail"===e.exam_type?Object.assign(e,{isRead:!0}):Object.assign(e,{isRead:!1})})),l.a.createElement("div",{className:"mainEmailList"},l.a.createElement("div",{className:"iconEmail"},l.a.createElement("img",{src:Et.a,alt:"email"}),l.a.createElement("p",null,"Email request")," "),t.loading?l.a.createElement("img",{src:T.a,alt:"loading",className:"loading"}):l.a.createElement("div",{className:"tableDiv"},l.a.createElement("table",{className:"table2"},l.a.createElement("thead",{className:"client-head"},l.a.createElement("tr",{className:"client-row"},l.a.createElement("th",{className:"client-doctor"},l.a.createElement("div",{className:"mainExamDiv"},l.a.createElement("span",{className:"examTypetext"},"Client"," "))),l.a.createElement("th",{className:"client-subject"},"Subject"),l.a.createElement("th",{className:"client-date"},"Date"))),""===t.messageOnScreen&&t.exams.map((function(e,t){return l.a.createElement("tbody",{key:t,className:"client-body"},l.a.createElement("tr",{className:"list-group",style:{fontWeight:e.isRead&&700},onClick:function(){return a(e.id,e.exam_type)}},l.a.createElement("td",{className:"client-doctor"},e.client),l.a.createElement("td",{className:"client-subject"},"Subject: ",e.subject),l.a.createElement("td",{className:"created"},e.created&&!e.appointed_date?l.a.createElement("p",null," ",ze()(e.created).format("MM/DD/YY")):e.appointed_date?l.a.createElement("p",null," ",ze()(e.appointed_date).format("MM/DD/YY HH:mm")):null)))})))))}),mn=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(d.a)(t).call(this,e))).paginatedExams=function(){var e;return se.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:e="Bearer ".concat(a.state.token),he.a.get("https://healthcarebackend.xyz/api/exams/doctor/",{headers:{Authorization:e}}).then((function(e){0!==e.data.data.mail.length?a.setState({exams:e.data.data.mail,loading:!1}):a.setState({messageOnScreen:"No Email",loading:!1})})).catch((function(e){console.log(e.response,"error"),a.setState({loading:!1})}));case 2:case"end":return t.stop()}}))},a.handleClick=function(e,t){"mail"===t&&a.props.history.push("/doctor/exam/detail/".concat(e))},a.getUnreadMessages=function(e){var t;return se.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:t="Bearer ".concat(a.state.token),he.a.get("https://healthcarebackend.xyz/api/exams/doctor/".concat(e,"/"),{headers:{Authorization:t}}).then((function(e){console.log(e,"response");var t=e.data.data.filter((function(e){return 0!==e.messages.length?e.messages[e.messages.length-1].sender!=="".concat(a.state.doctorCurent.prefix," ").concat(a.state.doctorCurent.doctor):e}));console.log(t,"od nzm ni ja");var n=t.map((function(e){return e.exam.id}));a.setState({mail:n})})).catch((function(e){console.log(e.response)}));case 2:case"end":return n.stop()}}))},a.handleDoctorProfile=function(){var e;return se.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:e="Bearer ".concat(a.state.token),he.a.get("https://healthcarebackend.xyz/api/doctor/profile/",{headers:{Authorization:e}}).then((function(e){var t=e.data.data;a.setState({doctorCurent:t}),a.paginatedExams(),a.getUnreadMessages(a.state.doctorCurent.id)}));case 2:case"end":return t.stop()}}))},a.state={exams:[],loading:!0,messageOnScreen:"",token:sessionStorage.getItem("accessToken"),mail:[],doctorCurent:""},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.handleDoctorProfile()}},{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"header"},l.a.createElement("div",null,l.a.createElement(ne,null),l.a.createElement(ge,null))),l.a.createElement(it,null),l.a.createElement(dn,{props:this.state,handleClick:this.handleClick}))}}]),t}(n.Component),un=Object(h.b)((function(e){return{doctor:e.getIn(["docReducer","doctor"])}}))(mn),pn=(a(451),function(e){var t=e.props,a=e.handleClick;return l.a.createElement("div",{className:"mainEmailList"},l.a.createElement("div",{className:"iconEmail"},l.a.createElement("img",{src:ra.a,alt:"email"}),l.a.createElement("p",null,"Video requests")," "),t.loading?l.a.createElement("img",{src:T.a,alt:"loading",className:"loading"}):l.a.createElement("div",{className:"tableDiv"},l.a.createElement("table",{className:"table2"},l.a.createElement("thead",{className:"client-head"},l.a.createElement("tr",{className:"client-row"},l.a.createElement("th",{className:"client-doctor"},l.a.createElement("div",{className:"mainExamDiv"},l.a.createElement("span",{className:"examTypetext"},"Client"," "))),l.a.createElement("th",{className:"client-subject"},"Subject"),l.a.createElement("th",{className:"client-date"},"Date"))),""===t.messageOnScreen&&t.exams.map((function(e,t){return l.a.createElement("tbody",{key:t,className:"client-body"},l.a.createElement("tr",{className:"list-group",style:{fontWeight:e.isRead&&700},onClick:function(){return a(e.id,e.exam_type)}},l.a.createElement("td",{className:"client-doctor"},e.client),l.a.createElement("td",{className:"client-subject"},"Subject: ",e.subject),l.a.createElement("td",{className:"created"},e.created&&!e.appointed_date?l.a.createElement("p",null," ",ze()(e.created).format("MM/DD/YY")):e.appointed_date?l.a.createElement("p",null," ",ze()(e.appointed_date).format("MM/DD/YY HH:mm")):null)))})))))}),hn=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(d.a)(t).call(this,e))).paginatedExams=function(){var e;return se.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:e="Bearer ".concat(a.state.token),he.a.get("https://healthcarebackend.xyz/api/exams/doctor/",{headers:{Authorization:e}}).then((function(e){0!==e.data.data.video.length?a.setState({exams:e.data.data.video,loading:!1}):a.setState({messageOnScreen:"No Video",loading:!1})})).catch((function(e){console.log(e.response,"error"),a.setState({loading:!1})}));case 2:case"end":return t.stop()}}))},a.handleClick=function(e,t){"video"===t&&a.props.history.push("/doctor/video/exam/detail/".concat(e,"/#init"))},a.state={exams:[],loading:!0,messageOnScreen:"",token:sessionStorage.getItem("accessToken")},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.paginatedExams()}},{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"header"},l.a.createElement("div",null,l.a.createElement(ne,null),l.a.createElement(ge,null))),l.a.createElement(it,null),l.a.createElement(pn,{props:this.state,handleClick:this.handleClick}))}}]),t}(n.Component),gn=(a(452),function(e){var t=e.props,a=e.handleClick;return l.a.createElement("div",{className:"mainEmailList"},l.a.createElement("div",{className:"iconEmail"},l.a.createElement("img",{src:we.a,alt:"email"}),l.a.createElement("p",null,"Waiting room requests")," "),t.loading?l.a.createElement("img",{src:T.a,alt:"loading",className:"loading"}):l.a.createElement("div",{className:"tableDiv"},l.a.createElement("table",{className:"table2"},l.a.createElement("thead",{className:"client-head"},l.a.createElement("tr",{className:"client-row"},l.a.createElement("th",{className:"client-doctor"},l.a.createElement("div",{className:"mainExamDiv"},l.a.createElement("span",{className:"examTypetext"},"Client"," "))),l.a.createElement("th",{className:"client-subject"},"Subject"),l.a.createElement("th",{className:"client-date"},"Date"))),""===t.messageOnScreen&&t.exams.map((function(e,t){return l.a.createElement("tbody",{key:t,className:"client-body"},l.a.createElement("tr",{className:"list-group",style:{fontWeight:e.isRead&&700},onClick:function(){return a(e.id,e.exam_type)}},l.a.createElement("td",{className:"client-doctor"},e.client),l.a.createElement("td",{className:"client-subject"},"Subject: ",e.subject),l.a.createElement("td",{className:"created"},e.created&&!e.appointed_date?l.a.createElement("p",null," ",ze()(e.created).format("MM/DD/YY")):e.appointed_date?l.a.createElement("p",null," ",ze()(e.appointed_date).format("MM/DD/YY HH:mm")):null)))})))))}),fn=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(d.a)(t).call(this,e))).handleDoctorProfile=function(){var e;return se.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:e="Bearer ".concat(a.state.token),he.a.get("https://healthcarebackend.xyz/api/doctor/profile/",{headers:{Authorization:e}}).then((function(e){var t=e.data.data;a.peopleInWaitingRoom(t.id)}));case 2:case"end":return t.stop()}}))},a.peopleInWaitingRoom=function(e){var t;return se.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:t="Bearer ".concat(a.state.token),he.a.get("https://healthcarebackend.xyz/api/queue/today/".concat(e,"/"),{headers:{Authorization:t}}).then((function(e){console.log(e),a.setState({exams:e.data.data.queue,loading:!1})})).catch((function(e){console.log(e.response)}));case 2:case"end":return n.stop()}}))},a.handleClick=function(e,t){"queue"===t&&a.props.history.push("/doctor/processing/video/exam/".concat(e,"/#init"))},a.state={exams:[],loading:!0,messageOnScreen:"",token:sessionStorage.getItem("accessToken")},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.handleDoctorProfile()}},{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"header"},l.a.createElement("div",null,l.a.createElement(ne,null),l.a.createElement(ge,null))),l.a.createElement(it,null),l.a.createElement(gn,{props:this.state,handleClick:this.handleClick}))}}]),t}(n.Component),En=a(148),vn=function(e){var t=e.component,a=Object(En.a)(e,["component"]);return l.a.createElement(te.b,Object.assign({},a,{render:function(e){return sessionStorage.getItem("accessToken")&&"false"===sessionStorage.getItem("is_doctor")?l.a.createElement(t,e):l.a.createElement(te.a,{to:{pathname:"/login",state:{from:e.location}}})}}))},yn=function(e){var t=e.component,a=Object(En.a)(e,["component"]);return l.a.createElement(te.b,Object.assign({},a,{render:function(e){return sessionStorage.getItem("accessToken")&&"true"===sessionStorage.getItem("is_doctor")?l.a.createElement(t,e):l.a.createElement(te.a,{to:{pathname:"/login",state:{from:e.location}}})}}))};a(117),a(453);var bn=function(e){var t=e.props,a=e.handleImage,n=e.userLogin,s=e.handleChange;return l.a.createElement("div",{className:"mainSettings"},l.a.createElement("div",{className:"iconVideo"},l.a.createElement("h4",null,"Settings")," "),l.a.createElement("div",{className:"doctor"},l.a.createElement("label",{htmlFor:"Email"},"Email"),l.a.createElement("input",{id:"Email",value:t.Email,onChange:s,autoComplete:"off",type:"text"}),l.a.createElement("label",{htmlFor:"Password"},"Password"),l.a.createElement("div",{className:"imageAndInputDiv"},l.a.createElement("input",{id:"Password",value:t.Password,onChange:s,autoComplete:"off",type:t.seePass?"text":"password"}),l.a.createElement("img",{onClick:a,src:t.seePass?wt.a:Ot.a,alt:"img"})),l.a.createElement("button",{onClick:n},"Update")))},xn=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(d.a)(t).call(this,e))).handleImage=function(){a.setState({seePass:!a.state.seePass})},a.handleChange=function(e){a.setState(Object(It.a)({},e.target.id,e.target.value))},a.userLogin=function(){var e,t;return se.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,se.a.awrap(fetch("https://healthcarebackend.xyz/api/auth/login/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:a.state.Email,password:a.state.Password})}));case 2:return e=n.sent,n.next=5,se.a.awrap(e.json());case 5:t=n.sent,console.log(t),t.password?ce.NotificationManager.error("".concat(t.password[0]),"Failed!",3e3):t.email?ce.NotificationManager.error("".concat(t.email[0]),"Failed!",3e3):!1===t.success?ce.NotificationManager.error("Invalid credentials","Failed!",3e3):!0===t.success&&a.props.history.push({pathname:"/doctors-update",state:{detail:"doctor found"}});case 8:case"end":return n.stop()}}))},a.state={seePass:!1,Email:"",Password:""},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return console.log(this.state.Password),l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"header"},l.a.createElement("div",null,l.a.createElement(ne,null),l.a.createElement(ge,null))),l.a.createElement(rt,null),l.a.createElement(bn,{props:this.state,handleImage:this.handleImage,userLogin:this.userLogin,handleChange:this.handleChange}))}}]),t}(n.Component);a(454);var Nn=function(e){var t=e.props,a=e.userLogin,n=e.handleChange,s=e.handleImage1,c=e.handleImage2;return l.a.createElement("div",{className:"mainUpdate"},l.a.createElement("div",{className:"iconVideo"},l.a.createElement("h4",null,"Update account")," "),l.a.createElement("div",{className:"doctor"},l.a.createElement("label",{htmlFor:"Password"},"New Password"),l.a.createElement("div",null,l.a.createElement("input",{id:"NewPassword",type:t.seePass1?"text":"password",autoComplete:"off",value:t.NewPassword,onChange:n}),l.a.createElement("img",{onClick:s,src:t.seePass1?wt.a:Ot.a,alt:"img"})),l.a.createElement("label",{htmlFor:"Password"},"Confirm new Password"),l.a.createElement("div",null,l.a.createElement("input",{id:"ConfNewPassword",value:t.ConfNewPassword,autoComplete:"off",onChange:n,type:t.seePass2?"text":"password"}),l.a.createElement("img",{onClick:c,src:t.seePass2?wt.a:Ot.a,alt:"img"})),l.a.createElement("button",{onClick:a},"Update")))},Sn=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(d.a)(t).call(this,e))).handleChange=function(e){a.setState(Object(It.a)({},e.target.id,e.target.value))},a.handleImage1=function(){a.setState({seePass1:!a.state.seePass1})},a.handleImage2=function(){a.setState({seePass2:!a.state.seePass2})},a.userLogin=function(){var e,t,n;return se.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:return e="Bearer ".concat(a.state.token),l.next=3,se.a.awrap(fetch("https://healthcarebackend.xyz/api/auth/password-change/",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:e},body:JSON.stringify({new_password:a.state.NewPassword,confirm_password:a.state.ConfNewPassword})}));case 3:return t=l.sent,l.next=6,se.a.awrap(t.json());case 6:n=l.sent,console.log(n),!1===n.success?ce.NotificationManager.error("".concat(n.error),"Failed!",2e3):!0===n.success&&(ce.NotificationManager.success("".concat(n.message),"Successful!",2e3),a.props.history.push("/doctors-settings"));case 9:case"end":return l.stop()}}))},a.state={NewPassword:"",ConfNewPassword:"",seePass1:!1,seePass2:!1,token:sessionStorage.getItem("accessToken")},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.props.location.state||this.props.history.push("/doctors-settings")}},{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"header"},l.a.createElement("div",null,l.a.createElement(ne,null),l.a.createElement(ge,null))),l.a.createElement(rt,null),l.a.createElement(Nn,{props:this.state,userLogin:this.userLogin,handleImage1:this.handleImage1,handleImage2:this.handleImage2,handleChange:this.handleChange}))}}]),t}(n.Component);a(455);var Cn=function(e){var t=e.props,a=e.handleImage,n=e.userLogin,s=e.handleChange;return l.a.createElement("div",{className:"mainSettingsClient"},l.a.createElement("div",{className:"iconVideo"},l.a.createElement("h4",null,"Settings")," "),l.a.createElement("div",{className:"doctor"},l.a.createElement("label",{htmlFor:"Email"},"Email"),l.a.createElement("input",{id:"Email",value:t.Email,autoComplete:"off",onChange:s,type:"text"}),l.a.createElement("label",{htmlFor:"Password"},"Password"),l.a.createElement("div",{className:"imageAndInputDiv"},l.a.createElement("input",{id:"Password",value:t.Password,onChange:s,autoComplete:"off",type:t.seePass?"text":"password"}),l.a.createElement("img",{onClick:a,src:t.seePass?wt.a:Ot.a,alt:"img"})),l.a.createElement("button",{onClick:n},"Update")))},kn=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(d.a)(t).call(this,e))).handleImage=function(){a.setState({seePass:!a.state.seePass})},a.handleChange=function(e){a.setState(Object(It.a)({},e.target.id,e.target.value))},a.userLogin=function(){var e,t;return se.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,se.a.awrap(fetch("https://healthcarebackend.xyz/api/auth/login/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:a.state.Email,password:a.state.Password})}));case 2:return e=n.sent,n.next=5,se.a.awrap(e.json());case 5:t=n.sent,console.log(t),t.password?ce.NotificationManager.error("".concat(t.password[0]),"Failed!",3e3):t.email?ce.NotificationManager.error("".concat(t.email[0]),"Failed!",3e3):!1===t.success?ce.NotificationManager.error("Invalid credentials","Failed!",3e3):!0===t.success&&a.props.history.push({pathname:"/client-update",state:{detail:"client found"}});case 8:case"end":return n.stop()}}))},a.state={seePass:!1,Email:"",Password:""},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return console.log(this.state.Password),l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"header"},l.a.createElement("div",null,l.a.createElement(ne,null),l.a.createElement(ge,null))),l.a.createElement(rt,null),l.a.createElement(Cn,{props:this.state,handleImage:this.handleImage,userLogin:this.userLogin,handleChange:this.handleChange}))}}]),t}(n.Component);a(456);var wn=function(e){var t=e.props,a=e.userLogin,n=e.handleChange,s=e.handleImage1,c=e.handleImage2;return l.a.createElement("div",{className:"mainUpdateClient"},l.a.createElement("div",{className:"iconVideo"},l.a.createElement("h4",null,"Update account")," "),l.a.createElement("div",{className:"doctor"},l.a.createElement("label",{htmlFor:"Password"},"New Password"),l.a.createElement("div",null,l.a.createElement("input",{id:"NewPassword",value:t.NewPassword,autoComplete:"off",onChange:n,type:t.seePass1?"text":"password"}),l.a.createElement("img",{onClick:s,src:t.seePass1?wt.a:Ot.a,alt:"img"})),l.a.createElement("label",{htmlFor:"Password"},"Confirm new Password"),l.a.createElement("div",null,l.a.createElement("input",{id:"ConfNewPassword",value:t.ConfNewPassword,autoComplete:"off",onChange:n,type:t.seePass2?"text":"password"}),l.a.createElement("img",{onClick:c,src:t.seePass2?wt.a:Ot.a,alt:"img"})),l.a.createElement("button",{onClick:a},"Update")))},Dn=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(d.a)(t).call(this,e))).handleImage1=function(){a.setState({seePass1:!a.state.seePass1})},a.handleImage2=function(){a.setState({seePass2:!a.state.seePass2})},a.handleChange=function(e){a.setState(Object(It.a)({},e.target.id,e.target.value))},a.userLogin=function(){var e,t,n;return se.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:return e="Bearer ".concat(a.state.token),l.next=3,se.a.awrap(fetch("https://healthcarebackend.xyz/api/auth/password-change/",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:e},body:JSON.stringify({new_password:a.state.NewPassword,confirm_password:a.state.ConfNewPassword})}));case 3:return t=l.sent,l.next=6,se.a.awrap(t.json());case 6:n=l.sent,console.log(n),!1===n.success?ce.NotificationManager.error("".concat(n.error),"Failed!",2e3):!0===n.success&&(ce.NotificationManager.success("".concat(n.message),"Successful!",2e3),a.props.history.push("/client-settings"));case 9:case"end":return l.stop()}}))},a.state={seePass1:!1,seePass2:!1,NewPassword:"",ConfNewPassword:"",token:sessionStorage.getItem("accessToken")},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.props.location.state||this.props.history.push("/client-settings")}},{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"header"},l.a.createElement("div",null,l.a.createElement(ne,null),l.a.createElement(ge,null))),l.a.createElement(rt,null),l.a.createElement(wn,{props:this.state,userLogin:this.userLogin,handleImage1:this.handleImage1,handleImage2:this.handleImage2,handleChange:this.handleChange}))}}]),t}(n.Component),On=a(146),Pn=a.n(On);a(457),a(458);var _n=function(e){var t=e.handleClient,a=e.props,n=(e.handleSort,e.handleSortBySpec,e.handleSpeciality),s=e.handleDoctor,c={control:function(e,t){return Object(Ct.a)({},e,{height:"33px",border:"1.7px solid #fa9551",borderRadius:"15px",width:"100%",background:"white",color:"#666666",fontWeight:"bold"})},placeholder:function(){return{color:"#666666",fontWeight:"bold"}}},r=0===a.filteredBySpec.length?a.doctors:a.filteredBySpec;return console.log(r),l.a.createElement("div",{className:"mainDoctorsDiv"},l.a.createElement("div",{className:"doctorsAbove"},l.a.createElement("h4",null,"Doctors list")),l.a.createElement("div",{className:"doctorsDiv"},l.a.createElement("div",{className:"exam-spec"},l.a.createElement(gt.a,{type:"text",styles:c,id:"speciality",placeholder:a.currentSpec?a.currentSpec:"Select Speciality",options:a.specialities,onChange:n})),l.a.createElement("div",{className:"exam-doc"},l.a.createElement(gt.a,{styles:c,type:"text",id:"doctor",placeholder:"Choose Doctor",options:0===a.specDoctor.length?a.doctors:a.specDoctor,onChange:s,value:a.resetDoctorSelect}))),l.a.createElement("div",{className:"row2"},r.map((function(e){return console.log(e),null===e.id?null:l.a.createElement("div",{key:e.iD,className:"list-group"},l.a.createElement("div",{"data-id":e.id,className:"list-group-item"},l.a.createElement("img",{src:e.image.includes("default")?Pn.a:"https://healthcarebackend.xyz".concat(e.image),alt:"cliet profile"}),l.a.createElement("div",{className:"docInfo"},l.a.createElement("p",null,e.label),l.a.createElement("h5",null,"Speciality: ",l.a.createElement("span",null,e.spec)),l.a.createElement("h5",null,"Organization: ",l.a.createElement("span",null,e.organization))),l.a.createElement(u.b,{to:"#",onClick:function(){return t(e.iD)},className:"Details"},"Details")))}))))},In=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(d.a)(t).call(this,e))).handleClient=function(e){a.props.history.push("/client/Doctor-detail/".concat(e))},a.handleSpeciality=function(e){console.log(e);var t=a.state.doctors.filter((function(t){return t.spec===e.label})),n=a.state.doctors.filter((function(t){return t.spec===e.label}));a.setState({specialSP:e.value,specDoctor:t,resetDoctorSelect:null,filteredBySpec:n})},a.handleDoctor=function(e){console.log(e);var t=a.state.specialities.filter((function(t){return t.label===e.spec}));a.state.filteredBySpec.filter((function(t){return t.label===e.label}));console.log(t),a.setState({resetDoctorSelect:e,specialSP:t[0].value,currentSpec:t[0].label,filteredBySpec:[e]})},a.state={doctors:[],speciality:[],specialities:"",specDoctor:[],filteredBySpec:[],token:sessionStorage.getItem("accessToken")},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;he.a.get("https://healthcarebackend.xyz/api/specialities/").then((function(t){console.log(t,"examform");var a=t.data.data.map((function(e){return{value:e.id,iD:e.speciality_id,label:e.name}}));e.setState({specialities:a})})),he.a.get("https://healthcarebackend.xyz/api/doctor/list/").then((function(t){if(console.log(t,"examform2"),t.data.data){var a=t.data.data.map((function(e){return{value:e.id,iD:e.id,label:e.doctor,spec:e.speciality,price:e.email_exam_price,currency:e.email_currency,image:e.image,organization:e.organization}}));e.setState({doctors:a})}else ce.NotificationManager.warning("".concat(t.data.message),"Failed!",2e3)})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){return console.log(this.state.doctors),l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"header"},l.a.createElement("div",null,l.a.createElement(ne,null),l.a.createElement(ge,null))),l.a.createElement(rt,null),l.a.createElement(_n,{props:this.state,handleClient:this.handleClient,handleSort:this.handleSort,handleSortBySpec:this.handleSortBySpec,handleSpeciality:this.handleSpeciality,handleDoctor:this.handleDoctor}))}}]),t}(n.Component);a(459);var jn=function(e){e.handleClient;var t=e.doctor,a=(e.handleSort,e.props),s=e.main;console.log(a);var c=60*Number(a.startW.split(":")[0])*60*1e3+60*Number(a.startW.split(":")[1])*1e3,r=60*Number(a.endW.split(":")[0])*60*1e3+60*Number(a.endW.split(":")[1])*1e3;console.log(c);var i="".concat(ze()(c).subtract(1,"hour").format("HH:mm A")," - ").concat(ze()(r).subtract(1,"hour").format("HH:mm A"));return l.a.createElement("div",{className:"mainDoctorDiv"},l.a.createElement("div",{className:"doctorsAbove"},l.a.createElement("h4",null,"Doctor details")),l.a.createElement("div",{className:"row2"},t.map((function(e){return console.log(e),l.a.createElement(n.Fragment,{key:e.id},l.a.createElement("div",{className:"mainDoctorInfoDiv"},l.a.createElement("div",{className:"imageDiv"},l.a.createElement("img",{src:e.image.includes("default")?Pn.a:"https://healthcarebackend.xyz".concat(e.image),alt:"pic"}),l.a.createElement("div",{className:"info"},l.a.createElement("p",null,l.a.createElement("span",null,"First Name: "),e.doctor.split(" ")[0]),l.a.createElement("p",null,l.a.createElement("span",null,"Last Name: "),e.doctor.split(" ")[1]),l.a.createElement("p",null,l.a.createElement("span",null,"Speciality: "),e.speciality),l.a.createElement("p",null,l.a.createElement("span",null,"Phone: "),e.phone),l.a.createElement("p",null,l.a.createElement("span",null,"Email: "),e.email),l.a.createElement("p",null,l.a.createElement("span",null,"Organization: "),e.organization))),l.a.createElement("div",{className:"pricesAndDoing"},l.a.createElement("div",{className:"priceInfo"},l.a.createElement("p",{style:{fontWeight:"bold",textAlign:"start"}},"Services"),l.a.createElement("div",null,l.a.createElement("p",null,l.a.createElement("span",null,"Email consultation: "),e.email_exam_price," ",e.email_currency),"True"===e.email_exam_status&&l.a.createElement("button",{onClick:function(){s.props.history.push({pathname:"/initiate",state:{doctorId:e.id}})}},"Start")),l.a.createElement("div",null,l.a.createElement("p",null,l.a.createElement("span",null,"Video consultation: "),e.web_exam_price," ",e.web_currency),"True"===e.web_exam_status&&l.a.createElement("button",{onClick:function(){s.props.history.push({pathname:"/client/video-request",state:{doctorId:e.id}})}},"Start")),l.a.createElement("div",null,l.a.createElement("p",null,l.a.createElement("span",null,"Video follow up: "),e.web_exam_follow_price," ",e.web_follow_up_currency),"True"===e.web_exam_follow_status&&l.a.createElement("button",{onClick:function(){s.props.history.push({pathname:"/client/video-request",state:{doctorId:e.id}})}},"Start")),l.a.createElement("div",null,l.a.createElement("p",null,l.a.createElement("span",null,"Waiting room: "),e.waiting_room_price," ",e.waiting_room_currency),"True"===e.waiting_room_status&&l.a.createElement("button",{onClick:function(){s.props.history.push({pathname:"/client/waiting-room",state:{doctorId:e.id}})}},"Start"))))),l.a.createElement("div",{className:"BiographyDiv"},l.a.createElement("div",{className:"bio"},l.a.createElement("p",{className:"pForBio"},"Biography"),l.a.createElement("textarea",{disabled:!0,placeholder:e.biography})),l.a.createElement("div",{className:"workHours"},l.a.createElement("div",null,l.a.createElement("p",null,l.a.createElement("span",null,"Working Hours ")," "),l.a.createElement("p",null,l.a.createElement("span",null,"Mon: "),c?i:null),l.a.createElement("p",null,l.a.createElement("span",null,"Tue: "),c?i:null),l.a.createElement("p",null,l.a.createElement("span",null,"Wed: "),c?i:null),l.a.createElement("p",null,l.a.createElement("span",null,"Thu: "),c?i:null),l.a.createElement("p",null,l.a.createElement("span",null,"Fri: "),c?i:null),l.a.createElement("p",{style:{margin:0}},l.a.createElement("span",null,"Sat: "),c?i:null)))))}))))},Fn=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(d.a)(t).call(this,e))).doctor=function(e){var t="Bearer ".concat(a.state.token);he.a.get("https://healthcarebackend.xyz/api/client/doc/".concat(e,"/"),{headers:{Authorization:t}}).then((function(e){console.log(e.data.data);var t=e.data.data.start_hour?e.data.data.start_hour.slice(0,-3):"",n=e.data.data.end_hour?e.data.data.end_hour.slice(0,-3):"";a.setState({doctor:[e.data.data],startW:t,endW:n})}))},a.state={doctor:[],startW:"",endW:"",token:sessionStorage.getItem("accessToken")},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params.id;this.doctor(e)}},{key:"render",value:function(){return console.log(this),l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"header"},l.a.createElement("div",null,l.a.createElement(ne,null),l.a.createElement(ge,null))),l.a.createElement(rt,null),l.a.createElement(jn,{doctor:this.state.doctor,props:this.state,main:this}))}}]),t}(n.Component),Mn={width:"37%",margin:"120px auto 0px auto",height:"500px",backgroundColor:"#f2f2f2",borderRadius:"15px",position:"relative",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",padding:"20px"},Vn={color:"#00aff0",marginBottom:"30px",fontWeight:"700"},Tn={position:"absolute",width:"110px",right:"-30px",top:"-25px"},Rn=function(e){function t(){return Object(r.a)(this,t),Object(o.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"header"},l.a.createElement("div",null,l.a.createElement(ne,null),l.a.createElement(ge,null))),l.a.createElement("div",{style:Mn},l.a.createElement("img",{src:T.a,style:Tn,alt:"cLogo"}),l.a.createElement("h1",{style:Vn},"Verification Email sent"),l.a.createElement("h3",{style:{color:"#00aff0"}},"Click on the link in your verification email to complete registration")))}}]),t}(n.Component),An={width:"37%",margin:"120px auto 0px auto",height:"400px",backgroundColor:"#f2f2f2",borderRadius:"15px",position:"relative",display:"flex",flexDirection:"column",padding:"70px 20px 20px 20px"},Bn={color:"#00aff0",marginBottom:"70px",fontWeight:"700"},zn={position:"absolute",width:"110px",right:"-30px",top:"-25px"},Un={display:"flex",width:"100%",justifyContent:"space-evenly"},Hn={backgroundColor:"rgb(0,175,240)",width:"130px",height:"50px",borderRadius:"10px",color:"white",border:"none",fontSize:"18px",fontWeight:"600"},Wn=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(d.a)(t).call(this,e))).logOut=function(){a.props.history.push("/logout")},a.goBack=function(){"true"===sessionStorage.getItem("is_doctor")?a.props.history.push("/dashboard-doctor"):a.props.history.push("/dashboard-client")},a.state={},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"header"},l.a.createElement("div",null,l.a.createElement(ne,null),l.a.createElement(ge,null))),l.a.createElement("div",{style:An},l.a.createElement("img",{src:T.a,style:zn,alt:"cLogo"}),l.a.createElement("h1",{style:Bn},"Log out?"),l.a.createElement("div",{style:Un},l.a.createElement("button",{style:Hn,onClick:this.logOut},"Yes"),l.a.createElement("button",{style:Hn,onClick:this.goBack},"No"))))}}]),t}(n.Component),Ln=a(184),Yn=a(264),qn=a.n(Yn),Jn=a(99),Qn=a.n(Jn),Gn=(a(485),a(185));function Kn(){var e=Object(Ln.a)(["\n  height: 300px;\n"]);return Kn=function(){return e},e}function Zn(){var e=Object(Ln.a)(["\n  padding: 5px 15px;\n  margin: 80px auto 20px auto;\n  border-radius: 15px;\n  display: flex;\n  height: 550px;\n  width: 85%;\n  flex-wrap: wrap;\n  background: #f2f2f2;\n  border-top-left-radius: 0px\n"]);return Zn=function(){return e},e}var Xn=a(265).detectDevice();Xn?console.log("detected handler: %s",Xn):console.warn("no suitable handler found for current browser/device");var $n=Gn.a.div(Zn()),el=Gn.a.video(Kn()),tl=function(e){var t=Object(n.useRef)();return Object(n.useEffect)((function(){e.peer.on("stream",(function(e){t.current.srcObject=e}))}),[]),l.a.createElement(el,{playsInline:!0,autoPlay:!0,ref:t})},al={height:window.innerHeight/2,width:window.innerWidth/2},nl=function(e){var t=Object(n.useState)([]),a=Object(K.a)(t,2),s=a[0],c=a[1],r=Object(n.useState)(!1),i=Object(K.a)(r,2),o=i[0],d=i[1],m=Object(n.useRef)(),u=Object(n.useRef)(),p=Object(n.useRef)([]),h=e.match.params.roomID;return Object(n.useEffect)((function(){m.current=qn.a.connect("wss://localhost:3000"),navigator.mediaDevices.getUserMedia({video:al,audio:!0}).then((function(e){u.current.srcObject=e,m.current.emit("join room",h),m.current.on("all users",(function(t){var a=[];t.forEach((function(t){var n=function(e,t,a){var n=new Qn.a({initiator:!0,trickle:!1,stream:a});return n.on("signal",(function(a){m.current.emit("sending signal",{userToSignal:e,callerID:t,signal:a})})),n}(t,m.current.id,e);p.current.push({peerID:t,peer:n}),a.push(n)})),c(a)})),m.current.on("user joined",(function(t){var a=function(e,t,a){var n=new Qn.a({initiator:!1,trickle:!1,stream:a});return n.on("signal",(function(e){m.current.emit("returning signal",{signal:e,callerID:t})})),n.signal(e),n}(t.signal,t.callerID,e);p.current.push({peerID:t.callerID,peer:a}),c((function(e){return[].concat(Object(xe.a)(e),[a])}))})),m.current.on("receiving returned signal",(function(e){p.current.find((function(t){return t.peerID===e.id})).peer.signal(e.signal)}));var t=e.getAudioTracks()[0],a=e.getVideoTracks()[0];document.querySelector(".iconMic").addEventListener("click",(function(){t.enabled=!t.enabled})),document.querySelector(".iconVideo").addEventListener("click",(function(){a.enabled=!a.enabled}))})),document.querySelector(".iconPhone").addEventListener("click",(function(){window.close()}))}),[]),console.log(s),l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"header"},l.a.createElement("div",null,l.a.createElement(ne,null),l.a.createElement(ge,null))),l.a.createElement(rt,null),l.a.createElement($n,null,l.a.createElement("div",{style:{position:"absolute"},className:"topBarDiv"},"Video Consultation Room"),l.a.createElement("div",{style:{position:"relative",width:"70%",height:"540px",objectFit:"cover"},onMouseOver:function(){d(!0)},onMouseOut:function(){d(!1)}},l.a.createElement(el,{muted:!0,ref:u,autoPlay:!0,playsInline:!0}),l.a.createElement("div",{style:{display:o?"flex":"none",position:"absolute",zIndex:"5",width:"100%",top:"80%",justifyContent:"space-around"}},l.a.createElement("button",{style:{fontSize:"40px",width:"50px",height:"50px",color:"white",borderRadius:"50%",background:"transparent",border:"1px solid white"},className:"iconMic"},l.a.createElement(fe.f,null)),l.a.createElement("button",{style:{fontSize:"40px",width:"50px",color:"white",border:"1px solid white",height:"50px",borderRadius:"50%",background:"transparent"},className:"iconPhone"},l.a.createElement(fe.h,null)),l.a.createElement("button",{style:{fontSize:"40px",width:"50px",color:"white",border:"1px solid white",height:"50px",borderRadius:"50%",background:"transparent"},className:"iconVideo"},l.a.createElement(fe.j,null)))),s.map((function(e,t){if(e.readable)return l.a.createElement(tl,{key:t,peer:e})}))))},ll=a(267),sl=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(d.a)(t).call(this,e))).idleTimerRef=l.a.createRef(null),a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;console.log(this.props);return l.a.createElement("div",null,l.a.createElement(ll.a,{ref:this.idleTimerRef,timeout:72e5,onIdle:function(){e.props.history.push("/logout")}}))}}]),t}(n.Component),cl=Object(te.i)(sl),rl=function(e){function t(){return Object(r.a)(this,t),Object(o.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(te.d,null),l.a.createElement(te.b,{path:"/",exact:!0,component:be}),l.a.createElement(te.b,{path:"/register",exact:!0,component:_t}),l.a.createElement(te.b,{path:"/login",exact:!0,component:Mt}),l.a.createElement(te.b,{path:"/logout",exact:!0,component:Tt}),l.a.createElement(te.b,{path:"/forgot-password",exact:!0,component:za}),l.a.createElement(te.b,{path:"/Verification",exact:!0,component:Rn}),l.a.createElement(te.b,{path:"/logOutQuestion",exact:!0,component:Wn}),l.a.createElement(te.b,{path:"/api/auth/reset-confirm/:id/",exact:!0,component:Ha}),l.a.createElement(te.b,{path:"/room/:roomID",exact:!0,component:nl}),l.a.createElement(te.b,{path:"/api/auth/activate/:id/",exact:!0,component:qa}),l.a.createElement(vn,{exact:!0,path:"/dashboard-client",component:dt}),l.a.createElement(vn,{path:"/client/doc/:id",exact:!0,component:na}),l.a.createElement(vn,{path:"/client/waiting-room",exact:!0,component:en}),l.a.createElement(vn,{path:"/client/profile",exact:!0,component:sa}),l.a.createElement(vn,{path:"/client/exam/detail/:id",exact:!0,component:Aa}),l.a.createElement(vn,{path:"/client/video/exam/detail/:id",exact:!0,component:Ma}),l.a.createElement(vn,{path:"/client/queue/exam/detail/:id",exact:!0,component:Ta}),l.a.createElement(vn,{path:"/client-update",exact:!0,component:Dn}),l.a.createElement(vn,{path:"/client-settings",exact:!0,component:kn}),l.a.createElement(vn,{path:"/client/video-request",exact:!0,component:ja}),l.a.createElement(vn,{path:"/client/Doctor-list",exact:!0,component:In}),l.a.createElement(vn,{path:"/client/Doctor-detail/:id/",exact:!0,component:Fn}),l.a.createElement(vn,{path:"/initiate",exact:!0,component:zt}),l.a.createElement(b.Elements,null,l.a.createElement(vn,{path:"/checkout",exact:!0,component:Jt})),l.a.createElement(yn,{path:"/dashboard-doctor",exact:!0,component:ht}),l.a.createElement(yn,{path:"/doctor/calendar",exact:!0,component:on}),l.a.createElement(yn,{path:"/doctor/exam/detail/:id",exact:!0,component:St}),l.a.createElement(yn,{path:"/doctor/video/exam/detail/:id",exact:!0,component:oa}),l.a.createElement(yn,{path:"/doctor/profile/",exact:!0,component:ta}),l.a.createElement(yn,{path:"/doctor/record/:id",exact:!0,component:Da}),l.a.createElement(yn,{path:"/doctor/processing/video/exam/:id",exact:!0,component:ka}),l.a.createElement(yn,{path:"/doctors-clients",exact:!0,component:Ga}),l.a.createElement(yn,{path:"/doctors-email-list",exact:!0,component:un}),l.a.createElement(yn,{path:"/doctors-video-list",exact:!0,component:hn}),l.a.createElement(yn,{path:"/doctors-queue-list",exact:!0,component:fn}),l.a.createElement(yn,{path:"/doctors-settings",exact:!0,component:xn}),l.a.createElement(yn,{path:"/doctors-update",exact:!0,component:Sn}),l.a.createElement(ce.NotificationContainer,null),l.a.createElement(cl,null),l.a.createElement(te.d,null))}}]),t}(n.Component),il=function(e){function t(e){var a;Object(r.a)(this,t),(a=Object(o.a)(this,Object(d.a)(t).call(this,e))).checkUser=function(){var e=sessionStorage.getItem("accessToken"),t=sessionStorage.getItem("expiresIn"),n=sessionStorage.getItem("is_doctor"),l=localStorage.getItem("refreshToken");e&&t&&l&&(a.store.dispatch(N({access_token:e,expires_in:t,refresh_token:l,is_doctor:n})),a.store.dispatch({type:"USERS_LOGIN_SUCCESS"}))};var n=Object(g.a)(),l=Object(p.createStore)(M,Object(x.composeWithDevTools)());return l.runSaga=n.run,a.sagaMiddleware=n,a.store=l,a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.checkUser()}},{key:"componentDidUpdate",value:function(){this.checkUser()}},{key:"render",value:function(){return l.a.createElement("div",{className:"App"},l.a.createElement(b.StripeProvider,{apiKey:"pk_test_EolntZ7skKXUqmWzbnpuo1zy00ZxWVnWf3"},l.a.createElement(h.a,{store:this.store},l.a.createElement(y,{sagaMiddleware:this.sagaMiddleware},l.a.createElement(u.a,null,l.a.createElement(rl,null))))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(l.a.createElement(il,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}]),[[273,1,2]]]);
//# sourceMappingURL=main.5a02bf25.chunk.js.map